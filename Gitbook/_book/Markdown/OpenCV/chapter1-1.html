
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>1.1 OpenCVÂÖ•Èó® ¬∑ üí¢</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="ROSit">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-flexible-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-auto-scroll-table/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-theme-lou/lou.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="chapter1-2.html" />
    
    
    <link rel="prev" href="chapter1.html" />
    

    </head>
    <body>
         

<div class="book">
  <div class="header-inner">
    <!-- LOGO -->
    <div class="logo"></div>
    <span class="title"></span>

    <!-- Search -->
    
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>


    <!-- Nav -->
    <ul class="header-nav">
      <li>
        <a href="https://www.bilibili.com/video/BV1Ci4y1L7ZZ/?spm_id_from=333.337.search-card.all.click&vd_source=7df640296c15e75b5fbd2da8cc72a434" target="_blank">BÁ´ô</a>
      </li>
    </ul>
  </div>

  <div class="book-summary">
    <div class="book-summary-title">ÊñáÊ°£ÁõÆÂΩï</div>
     
    <nav role="navigation">


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Âπ≥Âè∞È¶ñÈ°µ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    1 ÊïôÂ≠¶ËµÑÊ∫ê
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" >
            
                <span>
            
                    
                    1 STM32
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../STM32/chapter1.html">
            
                <a href="../STM32/chapter1.html">
            
                    
                    1 Âü∫Á°ÄÂÖ•Èó®
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1.1" data-path="../STM32/chapter1-1.html">
            
                <a href="../STM32/chapter1-1.html">
            
                    
                    1.1 STM32ÁÆÄ‰ªãÂèäÂ∑•Á®ãÊû∂ÊûÑ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.1.2" data-path="../STM32/chapter1-2.html">
            
                <a href="../STM32/chapter1-2.html">
            
                    
                    1.2 STM32Â§ñËÆæ-GPIO
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" >
            
                <span>
            
                    
                    2 Ubuntu
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../Ubuntu/chapter1.html">
            
                <a href="../Ubuntu/chapter1.html">
            
                    
                    1 Âü∫Á°ÄÂÖ•Èó®
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1.1" data-path="../Ubuntu/chapter1-1.html">
            
                <a href="../Ubuntu/chapter1-1.html">
            
                    
                    1.1 VirtualBoxÂíåUbuntuÂÆâË£Ö
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.1.2" data-path="../Ubuntu/chapter1-2.html">
            
                <a href="../Ubuntu/chapter1-2.html">
            
                    
                    1.2 UbuntuÂÆâË£Ö‰πãÂêéË¶ÅÂÅöÁöÑ‰∫ã
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.1.3" data-path="../Ubuntu/chapter1-3.html">
            
                <a href="../Ubuntu/chapter1-3.html">
            
                    
                    1.3 UbuntuÂü∫Á°ÄÁü•ËØÜ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../Ubuntu/chapter2.html">
            
                <a href="../Ubuntu/chapter2.html">
            
                    
                    2 Â∏∏Áî®ÂëΩ‰ª§
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.2.1" data-path="../Ubuntu/chapter2-1.html">
            
                <a href="../Ubuntu/chapter2-1.html">
            
                    
                    2.1 Êñá‰ª∂ÁõÆÂΩïÊìç‰ΩúÂëΩ‰ª§
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2.2" data-path="../Ubuntu/chapter2-2.html">
            
                <a href="../Ubuntu/chapter2-2.html">
            
                    
                    2.2 Êñá‰ª∂Êü•ÊâæÂëΩ‰ª§
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2.3" data-path="../Ubuntu/chapter2-3.html">
            
                <a href="../Ubuntu/chapter2-3.html">
            
                    
                    2.3 ÂÖ∂‰ªñÂ∏∏Áî®ÂëΩ‰ª§
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" >
            
                <span>
            
                    
                    3 ROS
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../ROS1/chapter1.html">
            
                <a href="../ROS1/chapter1.html">
            
                    
                    1 Âü∫Á°ÄÂÖ•Èó®
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1.1" data-path="../ROS1/chapter1-1.html">
            
                <a href="../ROS1/chapter1-1.html">
            
                    
                    1.1 ROSÂü∫Á°ÄÁü•ËØÜ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" >
            
                <span>
            
                    
                    4 OpenCV
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="chapter1.html">
            
                <a href="chapter1.html">
            
                    
                    1 Âü∫Á°ÄÂÖ•Èó®
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.2.4.1.1" data-path="chapter1-1.html">
            
                <a href="chapter1-1.html">
            
                    
                    1.1 OpenCVÂÖ•Èó®
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.1.2" data-path="chapter1-2.html">
            
                <a href="chapter1-2.html">
            
                    
                    1.2 OpenCVÂü∫Á°Ä
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    2 Á´ûËµõËøΩË∏™
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" >
            
                <span>
            
                    
                    1 ‰∏≠ÂõΩÊú∫Âô®‰∫∫Âèä‰∫∫Â∑•Êô∫ËÉΩÂ§ßËµõ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../Match/CRAIC2023.html">
            
                <a href="../Match/CRAIC2023.html">
            
                    
                    1 2023-Á¨¨25Â±ä
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../Match/CRAIC2024.html">
            
                <a href="../Match/CRAIC2024.html">
            
                    
                    2 2024-Á¨¨26Â±ä
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" >
            
                <span>
            
                    
                    2 ‰∏≠ÂõΩÈ´òÊ†°Êô∫ËÉΩÊú∫Âô®‰∫∫ÂàõÊÑèÂ§ßËµõ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../Match/RobotContest2024.html">
            
                <a href="../Match/RobotContest2024.html">
            
                    
                    1 2024-Á¨¨7Â±ä
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../Resource/">
            
                <a href="../Resource/">
            
                    
                    3 ËµÑÊ∫êÂ∑•ÂÖ∑Â∫ì
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    1 Â≠¶‰π†ËµÑÊ∫ê
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../Resource/ubuntu.html">
            
                <a href="../Resource/ubuntu.html">
            
                    
                    1 Ubuntu
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="../Resource/ros.html">
            
                <a href="../Resource/ros.html">
            
                    
                    2 ROS1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../Resource/c++.html">
            
                <a href="../Resource/c++.html">
            
                    
                    3 C++
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="../Resource/python.html">
            
                <a href="../Resource/python.html">
            
                    
                    4 Python
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.5" data-path="../Resource/vim.html">
            
                <a href="../Resource/vim.html">
            
                    
                    5 Vim
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.6" data-path="../Resource/docker.html">
            
                <a href="../Resource/docker.html">
            
                    
                    6 Docker
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" >
            
                <span>
            
                    
                    2 Â∏∏Áî®Â∑•ÂÖ∑
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" >
            
                <span>
            
                    
                    1 Git
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1.1" data-path="../Tools/Git-1.html">
            
                <a href="../Tools/Git-1.html">
            
                    
                    1.1 ÂªñÈõ™Â≥∞GitÊïôÁ®ã
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.1.2" data-path="../Tools/Git-2.html">
            
                <a href="../Tools/Git-2.html">
            
                    
                    1.2 GitÂ∏∏Áî®Êåá‰ª§
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.1.3" data-path="../Tools/Git-3.html">
            
                <a href="../Tools/Git-3.html">
            
                    
                    1.3 GitÁñëÈöæËß£Á≠î
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" >
            
                <span>
            
                    
                    2 Markdown
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.2.1" data-path="../Tools/Markdown-1.html">
            
                <a href="../Tools/Markdown-1.html">
            
                    
                    2.1 MarkdownÂü∫Êú¨ËØ≠Ê≥ï
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2.2" data-path="../Tools/Markdown-2.html">
            
                <a href="../Tools/Markdown-2.html">
            
                    
                    2.2 MarkdownÊï∞Â≠¶ÂÖ¨Âºè
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../Tools/Cmake-1.html">
            
                <a href="../Tools/Cmake-1.html">
            
                    
                    3 Cmake
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../Shared/">
            
                <a href="../Shared/">
            
                    
                    4 ‰ºòÁßÄÊ°à‰æãÂ∫ì
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../Shared/wht_tx2002.html">
            
                <a href="../Shared/wht_tx2002.html">
            
                    
                    1 ÁéãÊµ∑ËÖæ-ÈÄö‰ø°2002
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../Shared/ljt_jg2102.html">
            
                <a href="../Shared/ljt_jg2102.html">
            
                    
                    2 ÊùéÈúÅÊ°ê-Êú∫Â∑•2102
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    5 ÈúÄÊ±ÇÂèëÂ∏É
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" >
            
                <span>
            
                    
                    Â≠¶ÁßëÁ´ûËµõ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1.1" data-path="../Needs/match.html">
            
                <a href="../Needs/match.html">
            
                    
                    1 Â≠¶ÁßëÁ´ûËµõ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.2" >
            
                <span>
            
                    
                    ÊØï‰∏öËÆæËÆ°
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.2.1" data-path="../Needs/graduation.html">
            
                <a href="../Needs/graduation.html">
            
                    
                    1 ÊØïËÆæËØæÈ¢ò
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>

</nav>
     
  </div>

  <!-- Content nav -->
  <div class="book-anchor">
    <div class="book-anchor-title"></div>

    <div class="book-anchor-body"></div>
  </div>

  <div class="book-body">
    
    <div class="body-inner">
       

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >1.1 OpenCVÂÖ•Èó®</a>
    </h1>
</div>



      <div class="page-wrapper" tabindex="-1" role="main">
        <div class="page-inner">
          
<div id="book-search-results">
    <div class="search-noresults">
    
          <section class="normal markdown-section">
             <h1 id="11-opencv&#x5165;&#x95E8;">1.1 OpenCV&#x5165;&#x95E8;</h1>
<p>&#x6559;&#x7A0B;&#x4F7F;&#x7528;&#x8BF4;&#x660E;&#x53C2;&#x89C1;&#xFF1A;<a href="chapter1.html">&#x57FA;&#x7840;&#x5165;&#x95E8;</a></p>
<hr>
<h1 id="1-&#x7B80;&#x4ECB;&#x4E0E;&#x5B89;&#x88C5;">1 &#x7B80;&#x4ECB;&#x4E0E;&#x5B89;&#x88C5;</h1>
<p>&#x76F8;&#x4FE1;&#x5927;&#x90E8;&#x5206;&#x4EBA;&#x77E5;&#x9053;&#x7684; OpenCV &#x90FD;&#x662F;&#x7528; C++ &#x6765;&#x5F00;&#x53D1;&#x7684;&#xFF0C;&#x90A3;&#x4E3A;&#x4EC0;&#x4E48;&#x7B14;&#x8005;&#x63A8;&#x8350;&#x4F7F;&#x7528; Python &#x5462;&#xFF1F;</p>
<blockquote>
<p>[!TIP]</p>
<p>&#x672C;&#x6559;&#x7A0B;&#x57FA;&#x7840;&#x5185;&#x5BB9;&#x6765;&#x81EA; <a href="https://docs.opencv.org/" target="_blank">OpenCV &#x5B98;&#x65B9;&#x82F1;&#x6587;&#x6559;&#x7A0B;</a>&#xFF0C;&#x6309;&#x7167;&#x4F7F;&#x7528;&#x5EA6;&#x548C;&#x96BE;&#x6613;&#x5EA6;&#x7FFB;&#x8BD1;&#xFF0C;&#x91CD;&#x65B0;&#x7F16;&#x5199;&#x4E86;&#x5927;&#x91CF;&#x539F;&#x521B;&#x5185;&#x5BB9;&#xFF0C;&#x5C06;&#x4E0D;&#x5E38;&#x7528;&#x548C;&#x8F83;&#x96BE;&#x7684;&#x90E8;&#x5206;&#x5199;&#x6210;&#x756A;&#x5916;&#x7BC7;&#xFF0C;&#x6D45;&#x663E;&#x6613;&#x61C2;&#xFF0C;&#x5F88; easy &#x7684;&#x8FA3;&#x3002;</p>
</blockquote>
<h2 id="11-python-&#x7167;&#x6837;&#x5FEB;&#xFF01;">1.1 Python &#x7167;&#x6837;&#x5FEB;&#xFF01;</h2>
<p>&#x4F17;&#x6240;&#x5468;&#x77E5;&#xFF0C;&#x867D;&#x7136; Python &#x8BED;&#x6CD5;&#x7B80;&#x6D01;&#x3001;&#x7F16;&#x5199;&#x9AD8;&#x6548;&#xFF0C;&#x4F46;&#x76F8;&#x6BD4; C/C++&#x8FD0;&#x884C;&#x6162;&#x5F88;&#x591A;&#x3002;&#x7136;&#x800C; Python &#x8FD8;&#x6709;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x7279;&#x6027;&#xFF1A;&#x5B83;&#x662F;&#x4E00;&#x95E8;&#x80F6;&#x6C34;&#x8BED;&#x8A00;&#xFF01;Python &#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x5730;&#x6269;&#x5C55; C/C++&#x3002;OpenCV-Python &#x5C31;&#x662F;&#x7528; Python &#x5305;&#x88C5;&#x4E86; C++ &#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x80CC;&#x540E;&#x5B9E;&#x9645;&#x5C31;&#x662F; C++ &#x7684;&#x4EE3;&#x7801;&#x5728;&#x8DD1;&#xFF0C;&#x8FD0;&#x884C;&#x901F;&#x5EA6;&#x975E;&#x5E38;&#x63A5;&#x8FD1;&#x539F;&#x751F;&#x3002;</p>
<p>&#x6BD4;&#x5982;&#x7B14;&#x8005;&#x5206;&#x522B;&#x7528; Python &#x548C; C++&#x5B9E;&#x73B0;&#x8BFB;&#x5165;&#x56FE;&#x7247;&#x548C;&#x8C03;&#x6574;&#x56FE;&#x7247;&#x7684;&#x4EAE;&#x5EA6;&#x5BF9;&#x6BD4;&#x5EA6;&#xFF0C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="img/OpenCV_start/cv2_python_vs_cplus_speed.jpg" alt=""></p>
<p><strong>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B; Python &#x7684;&#x8FD0;&#x884C;&#x901F;&#x5EA6;&#x751A;&#x81F3;&#x597D;&#x4E8E; C++&#xFF0C;&#x4EE3;&#x7801;&#x884C;&#x6570;&#x4E5F;&#x76F4;&#x63A5;&#x5C11;&#x4E00;&#x534A;&#x591A;&#xFF01;</strong></p>
<p>&#x53E6;&#x5916;&#xFF0C;&#x56FE;&#x50CF;&#x662F;&#x77E9;&#x9635;&#x6570;&#x636E;&#xFF0C;OpenCV-Python &#x539F;&#x751F;&#x652F;&#x6301; <a href="https://baike.baidu.com/item/numpy" target="_blank">Numpy</a>&#xFF0C;&#x76F8;&#x5F53;&#x4E8E; Python &#x4E2D;&#x7684; Matlab&#xFF0C;&#x4E3A;&#x77E9;&#x9635;&#x8FD0;&#x7B97;&#x3001;&#x79D1;&#x5B66;&#x8BA1;&#x7B97;&#x63D0;&#x4F9B;&#x4E86;&#x6781;&#x5927;&#x7684;&#x4FBF;&#x5229;&#x6027;&#x3002;</p>
<h2 id="12-&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x6D6A;&#x6F6E;">1.2 &#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x6D6A;&#x6F6E;</h2>
<p>&#x8FD1;&#x4E9B;&#x5E74;&#xFF0C;&#x4EBA;&#x5DE5;&#x667A;&#x80FD; AI &#x76F8;&#x5173;&#x6280;&#x672F;&#x7684;&#x5FEB;&#x901F;&#x53D1;&#x5C55;&#x5927;&#x5BB6;&#x6709;&#x76EE;&#x5171;&#x7779;&#x3002;&#x5728;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x65B9;&#x9762;&#xFF0C;&#x66F4;&#x591A;&#x4EBA;&#x5E0C;&#x671B;&#x7684;&#x662F;&#x5177;&#x5907;&#x9AD8;&#x6548;&#x5F00;&#x53D1;&#x6548;&#x7387;&#x3001;&#x8DE8;&#x5E73;&#x53F0;&#x3001;&#x9AD8;&#x5EA6;&#x6269;&#x5C55;&#x6027;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x4E00;&#x4E9B; AI &#x5DE8;&#x5934;&#x4F18;&#x5148;&#x63A8;&#x51FA;&#x652F;&#x6301; Python &#x8BED;&#x8A00;&#x7684;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x6846;&#x67B6;&#xFF0C;&#x5982; Facebook &#x7684;<a href="https://pytorch.org/" target="_blank">PyTorch</a>&#x3001;Google &#x7684;<a href="https://tensorflow.google.cn/" target="_blank">Tensorflow</a>&#x7B49;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4; Python &#x662F;&#x540D;&#x526F;&#x5176;&#x5B9E;&#x7684;&#x201C;&#x7F51;&#x7EA2;&#x8BED;&#x8A00;&#x201D;&#x4E86;&#x3002;</p>
<p><img src="img/OpenCV_start/cv2_ai_ml_dl2.jpg" alt=""></p>
<p>&#x4ECE;<a href="https://www.tiobe.com/tiobe-index/" target="_blank">TIOBE &#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x6392;&#x884C;&#x699C;</a>&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;Python &#x53D1;&#x5C55;&#x8FC5;&#x731B;&#xFF0C;&#x5DF2;&#x7ECF;&#x903C;&#x8FD1; C++&#x7684;&#x4EFD;&#x989D;&#x3002;&#x8FD9;&#x4E2A;&#x6392;&#x884C;&#x699C;&#x6BCF;&#x6708;&#x66F4;&#x65B0;&#xFF0C;&#x5C31;&#x4E0D;&#x622A;&#x56FE;&#x4E86;&#xFF0C;&#x7B14;&#x8005;&#x7F16;&#x5199;&#x65F6;&#x7684; TOP5&#xFF1A;Java/C/C++/Python/C#&#x3002;</p>
<h2 id="13-&#x4EBA;&#x751F;&#x82E6;&#x77ED;&#xFF0C;&#x7B14;&#x8005;&#x7528;-python">1.3 &#x4EBA;&#x751F;&#x82E6;&#x77ED;&#xFF0C;&#x7B14;&#x8005;&#x7528; Python</h2>
<ul>
<li>&#x5982;&#x679C;&#x4F60;&#x641E;&#x79D1;&#x7814;&#x7528;&#xFF0C;&#x679C;&#x65AD;&#x653E;&#x5F03; C++&#xFF08;Matlab&#xFF1F;&#x51FA;&#x95E8;&#x5DE6;&#x62D0;&#xFF09;</li>
<li>&#x5982;&#x679C;&#x4F60;&#x662F;&#x5FEB;&#x901F;&#x539F;&#x578B;&#x5F00;&#x53D1;&#xFF0C;&#x9A8C;&#x8BC1;&#x65B9;&#x6848;&#xFF0C;&#x679C;&#x65AD;&#x653E;&#x5F03; C++</li>
<li>&#x5982;&#x679C;&#x4F60;&#x61D2;&#x7684;&#x914D;&#x7F6E; OpenCV &#x73AF;&#x5883;&#xFF0C;&#x679C;&#x65AD;&#x653E;&#x5F03; C++</li>
<li>&#x5982;&#x679C;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x662F;&#x5728;&#x652F;&#x6301; Python &#x7684;&#x8F83;&#x9AD8;&#x786C;&#x4EF6;&#x73AF;&#x5883;&#x4E0B;&#x8FD0;&#x884C;&#xFF0C;&#x679C;&#x65AD;&#x653E;&#x5F03; C++</li>
<li>&#x5982;&#x679C;&#x4F60;&#x62C5;&#x5FC3; Python &#x5199;&#x4E0D;&#x4E86;&#x754C;&#x9762;&#xFF0C;&#x90A3;&#x662F;&#x4F60;&#x7684;&#x95EE;&#x9898; o_o ....</li>
<li>&#x9664;&#x975E;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x662F; MFC &#x6216;&#x5DF2;&#x7ECF;&#x7528; C++&#x7F16;&#x5199;&#x5176;&#x4ED6;&#x6A21;&#x5757;&#x6216;&#x662F;&#x5D4C;&#x5165;&#x5F0F;&#x8BBE;&#x5907;&#xFF0C;&#x90A3;&#x5C31;&#x7528; C++&#x5427;</li>
</ul>
<p><strong>&quot;&#x4EBA;&#x751F;&#x82E6;&#x77ED;&#xFF0C;&#x6211;&#x7528; Python&#xFF01;&#xFF01;&#xFF01;&quot;</strong></p>
<h2 id="14-&#x5B89;&#x88C5;">1.4 &#x5B89;&#x88C5;</h2>
<blockquote>
<p>&#x672C;&#x6559;&#x7A0B;&#x7F16;&#x5199;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x76F8;&#x5173;&#x7248;&#x672C;&#x662F;&#xFF1A;OpenCV 4.x&#xFF0C;Python 3.x&#x3002;</p>
</blockquote>
<h3 id="141-opencv-python">1.4.1 opencv-python</h3>
<p>&#x53EA;&#x9700;&#x7EC8;&#x7AEF;&#x4E0B;&#x7684;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#xFF1A;</p>
<pre><code class="lang-bash">pip install opencv-python
</code></pre>
<p>pip &#x662F; Python &#x7684;&#x5305;&#x7BA1;&#x7406;&#x5668;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x8FD8;&#x6CA1;&#x5B89;&#x88C5; Python&#xFF0C;&#x5F3A;&#x70C8;&#x63A8;&#x8350;&#x5B89;&#x88C5;<a href="https://www.anaconda.com/download/" target="_blank">Anaconda</a>&#xFF0C;&#x5B83;&#x5305;&#x542B;&#x4E86;&#x5927;&#x91CF;&#x7684;&#x79D1;&#x5B66;&#x8BA1;&#x7B97;&#x5305;&#xFF0C;&#x4E0D;&#x7528;&#x540E;&#x671F;&#x4E00;&#x4E2A;&#x4E2A;&#x5B89;&#x88C5;&#x3002;</p>
<h3 id="142-anaconda-&#x5B89;&#x88C5;">1.4.2 Anaconda &#x5B89;&#x88C5;</h3>
<p>&#x8FDB;&#x5165; Anaconda<a href="https://www.anaconda.com/download/" target="_blank">&#x5B98;&#x7F51;</a>&#xFF0C;&#x4E0B;&#x8F7D;&#x6700;&#x65B0;&#x7248;&#x672C;&#x7684;&#x5B89;&#x88C5;&#x6587;&#x4EF6;&#xFF0C;&#x901F;&#x5EA6;&#x6BD4;&#x8F83;&#x6162;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x53BB;<a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/" target="_blank">&#x6E05;&#x534E;&#x5F00;&#x6E90;&#x955C;&#x50CF;&#x7AD9;</a>&#x3002;</p>
<ul>
<li>Windows &#x7248;&#x662F; exe &#x6587;&#x4EF6;&#xFF0C;&#x53CC;&#x51FB;&#x76F4;&#x63A5;&#x5B89;&#x88C5;&#xFF0C;&#x5B89;&#x88C5;&#x65F6;&#x8BB0;&#x5F97;&#x52FE;&#x9009; <code>Add Anaconda to my PATH environment variable</code>&#xFF0C;&#x6DFB;&#x52A0;&#x5230;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;</li>
<li>Linux &#x7248;&#x662F; sh &#x6587;&#x4EF6;&#xFF0C;&#x6267;&#x884C;<code>bash Anaconda3-xx.sh</code>&#xFF0C;Linux &#x7248;&#x4E5F;&#x4F1A;&#x63D0;&#x793A;&#x6DFB;&#x52A0;&#x5230;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x8BB0;&#x5F97;&#x8F93; yes &#x5C31;&#x884C;&#x3002;</li>
<li>MAC &#x7248;&#x662F; pkg &#x6587;&#x4EF6;&#xFF0C;&#x540C;&#x6837;&#x76F4;&#x63A5;&#x53CC;&#x51FB;&#x5B89;&#x88C5;&#x5373;&#x53EF;&#x3002;</li>
<li>Anaconda&#x548C;Pip&#x6362;&#x6E90;&#xFF0C;&#x53EF;&#x53C2;&#x8003;<a href="https://rosit.gitee.io/Markdown/Ubuntu/chapter1-2.html" target="_blank">1.2 Ubuntu&#x5B89;&#x88C5;&#x4E4B;&#x540E;&#x9700;&#x8981;&#x505A;&#x7684;&#x4E8B;</a></li>
</ul>
<h3 id="143-&#x5B89;&#x88C5;&#x6D4B;&#x8BD5;">1.4.3 &#x5B89;&#x88C5;&#x6D4B;&#x8BD5;</h3>
<p>Python &#x7684;&#x7248;&#x672C;&#x53EF;&#x4EE5;&#x5728;&#x7EC8;&#x7AEF;&#x4E2D;&#x8F93;&#x5165;<code>python --version</code>&#x6765;&#x67E5;&#x770B;&#x3002;&#x5BF9;&#x4E8E; OpenCV&#xFF0C;&#x6253;&#x5F00; Python &#x7684;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF0C;&#x8F93;&#x5165;<code>import cv2</code>&#xFF0C;&#x8FD0;&#x884C;&#x6CA1;&#x6709;&#x62A5;&#x9519;&#x8BF4;&#x660E;&#x4E00;&#x5207;&#x6B63;&#x5E38;&#x3002;&#x8981;&#x67E5;&#x770B; OpenCV &#x7684;&#x7248;&#x672C;&#xFF0C;&#x53EF;&#x4EE5;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2

print(cv2.__version__)
</code></pre>
<blockquote>
<p>&#x7F16;&#x8F91;&#x5668;&#x7B14;&#x8005;&#x4E60;&#x60EF;&#x7528; <a href="http://code.visualstudio.com/" target="_blank">Visual Studio Code</a>&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528; <a href="http://www.jetbrains.com/pycharm/" target="_blank">PyCharm</a>/<a href="https://atom.io/" target="_blank">Atom</a>/Jupyter Notebook(Anaconda &#x81EA;&#x5E26;)&#x3002;</p>
</blockquote>
<h3 id="144-&#x5E38;&#x89C1;&#x95EE;&#x9898;">1.4.4 &#x5E38;&#x89C1;&#x95EE;&#x9898;</h3>
<ol>
<li>pip &#x8BC6;&#x522B;&#x4E0D;&#x4E86;&#xFF1A;pip &#x7684;&#x76EE;&#x5F55;&#x6CA1;&#x6709;&#x6DFB;&#x52A0;&#x5230;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#xFF0C;&#x6DFB;&#x52A0;&#x5230;&#x7528;&#x6237;(&#x6216;&#x7CFB;&#x7EDF;) &#x53D8;&#x91CF;&#x7684; path &#x4E2D;&#x3002;</li>
<li>&#x4E0B;&#x8F7D;&#x901F;&#x5EA6;&#x5F88;&#x6162;&#xFF1A;&#x53EF;&#x5230;<a href="https://pypi.org/search/?q=opencv-python" target="_blank">&#x6B64;&#x5904;</a>&#x4E0B;&#x8F7D;&#x79BB;&#x7EBF;&#x7248;&#xFF0C;&#x5B8C;&#x6210;&#x540E;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x5165;<code>pip install &#x6587;&#x4EF6;&#x540D;</code>&#x5B89;&#x88C5;&#x3002;</li>
</ol>
<h2 id="15-&#x5B66;&#x4E60;&#x8F6F;&#x4EF6;">1.5 &#x5B66;&#x4E60;&#x8F6F;&#x4EF6;</h2>
<p>&#x4E3A;&#x4E86;&#x4FBF;&#x4E8E;&#x5B66;&#x4E60; OpenCV&#xFF0C;&#x7B14;&#x8005;&#x7F16;&#x5199;&#x4E86;&#x4E00;&#x6B3E; Windows &#x5E73;&#x53F0;&#x7684;&#x6559;&#x5B66;&#x8F6F;&#x4EF6;<a href="https://github.com/codecwang/LearnOpenCVEdu" target="_blank">LearnOpenCVEdu</a>&#xFF0C;&#x76EE;&#x524D;&#x53EA;&#x5F00;&#x53D1;&#x4E86;&#x4E00;&#x90E8;&#x5206;&#x529F;&#x80FD;&#xFF0C;&#x6B22;&#x8FCE; Star &#x652F;&#x6301;:smiley:&#x3002;</p>
<p><img src="img/OpenCV_start/cv2_learn_opencv_edu_soft_screenshot.jpg" alt=""></p>
<blockquote>
<p>[!TIP]</p>
<p>&#x867D;&#x7136;&#x7B14;&#x8005;&#x63A8;&#x8350;&#x5927;&#x5BB6;&#x4F7F;&#x7528; OpenCV-Python &#x8FDB;&#x884C;&#x56FE;&#x50CF;&#x5904;&#x7406;&#xFF0C;&#x4F46;&#x60F3;&#x8981;&#x6DF1;&#x5165;&#x7406;&#x89E3; OpenCV&#xFF0C;C++&#x662F;&#x5FC5;&#x987B;&#x7684;&#xFF0C;&#x5C24;&#x5176;&#x662F;<strong>OpenCV &#x6E90;&#x7801;</strong>&#xFF01;</p>
</blockquote>
<h2 id="16-&#x5F15;&#x7528;">1.6 &#x5F15;&#x7528;</h2>
<ul>
<li><a href="https://github.com/CodecWang/opencv-python-tutorial/tree/master" target="_blank">Github&#x6E90;&#x7801;</a></li>
</ul>
<h2 id="17-&#x7F51;&#x7EDC;&#x8D44;&#x6599;">1.7 &#x7F51;&#x7EDC;&#x8D44;&#x6599;</h2>
<ul>
<li><a href="https://docs.opencv.org/" target="_blank">OpenCV Docs &#x5B98;&#x65B9;&#x6587;&#x6863;</a></li>
<li><a href="https://github.com/opencv/opencv" target="_blank">OpenCV &#x6E90;&#x7801;</a></li>
<li><a href="http://www.learnopencv.com" target="_blank">LearnOpenCV</a>&#x3001;<a href="https://github.com/spmallick/learnopencv" target="_blank">LearnOpenCV Github</a></li>
<li><a href="http://www.opencv.org.cn/opencvdoc/2.3.2/html/doc/tutorials/tutorials.html" target="_blank">OpenCV &#x4E2D;&#x6587;&#x6559;&#x7A0B;</a></li>
<li><a href="https://apachecn.github.io/opencv-doc-zh/#/" target="_blank">OpenCV &#x4E2D;&#x6587;&#x6587;&#x6863;</a></li>
</ul>
<h2 id="18-&#x4E66;&#x7C4D;">1.8 &#x4E66;&#x7C4D;</h2>
<ul>
<li><a href="http://programmingcomputervision.com/" target="_blank">Programming Computer Vision with Python</a>&#x3001;<a href="https://www.amazon.cn/dp/B00L3Y3NEM/ref=sr_1_1?ie=UTF8&amp;qid=1543929834&amp;sr=8-1&amp;keywords=Python+%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89" target="_blank">&#x4E2D;&#x6587;&#x4E66;</a></li>
<li><a href="https://www.pyimagesearch.com/practical-python-opencv/" target="_blank">Practical Python and OpenCV</a></li>
</ul>
<h2 id="19-&#x540D;&#x6821;&#x89C6;&#x89C9;&#x7814;&#x7A76;&#x6240;&#x8BFE;&#x7A0B;">1.9 &#x540D;&#x6821;&#x89C6;&#x89C9;&#x7814;&#x7A76;&#x6240;/&#x8BFE;&#x7A0B;</h2>
<ul>
<li><a href="http://graphics.cs.cmu.edu/" target="_blank">&#x5361;&#x5185;&#x57FA;&#x6885;&#x9686;&#x5927;&#x5B66;</a></li>
<li><a href="https://www.cs.toronto.edu/~guerzhoy/320/" target="_blank">&#x591A;&#x4F26;&#x591A;&#x5927;&#x5B66;</a></li>
</ul>
<p><br></p>
<h1 id="2-&#x57FA;&#x672C;&#x5143;&#x7D20;---&#x56FE;&#x7247;">2 &#x57FA;&#x672C;&#x5143;&#x7D20; - &#x56FE;&#x7247;</h1>
<p><img src="img/OpenCV_start/cv2_image_coordinate_channels.jpg" alt=""></p>
<p>&#x5B66;&#x4E60;&#x5982;&#x4F55;&#x52A0;&#x8F7D;&#x56FE;&#x7247;&#xFF0C;&#x663E;&#x793A;&#x5E76;&#x4FDD;&#x5B58;&#x56FE;&#x7247;&#x3002;</p>
<h2 id="21-&#x76EE;&#x6807;">2.1 &#x76EE;&#x6807;</h2>
<ul>
<li>&#x52A0;&#x8F7D;&#x56FE;&#x7247;&#xFF0C;&#x663E;&#x793A;&#x56FE;&#x7247;&#xFF0C;&#x4FDD;&#x5B58;&#x56FE;&#x7247;</li>
<li>OpenCV &#x51FD;&#x6570;&#xFF1A;<code>cv2.imread()</code>, <code>cv2.imshow()</code>, <code>cv2.imwrite()</code></li>
</ul>
<h2 id="22-&#x6559;&#x7A0B;">2.2 &#x6559;&#x7A0B;</h2>
<p>&#x5927;&#x90E8;&#x5206;&#x4EBA;&#x53EF;&#x80FD;&#x90FD;&#x77E5;&#x9053;&#x7535;&#x8111;&#x4E0A;&#x7684;&#x5F69;&#x8272;&#x56FE;&#x662F;&#x4EE5; RGB(Red/Green/Blue: &#x7EA2;/&#x7EFF;/&#x84DD;) &#x989C;&#x8272;&#x6A21;&#x5F0F;&#x663E;&#x793A;&#x7684;&#xFF0C;&#x4F46; OpenCV &#x4E2D;&#x5F69;&#x8272;&#x56FE;&#x662F;&#x4EE5; BGR &#x901A;&#x9053;&#x987A;&#x5E8F;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x7070;&#x5EA6;&#x56FE;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x901A;&#x9053;&#x3002;</p>
<p>&#x56FE;&#x50CF;&#x5750;&#x6807;&#x7684;&#x8D77;&#x59CB;&#x70B9;&#x662F;&#x5728;<strong>&#x5DE6;&#x4E0A;&#x89D2;</strong>&#xFF0C;&#x6240;&#x4EE5;&#x884C;&#x5BF9;&#x5E94;&#x7684;&#x662F; y&#xFF0C;&#x5217;&#x5BF9;&#x5E94;&#x7684;&#x662F; x&#xFF1A;</p>
<p><img src="img/OpenCV_start/cv2_image_coordinate_channels.jpg" alt=""></p>
<h3 id="221-&#x52A0;&#x8F7D;&#x56FE;&#x7247;">2.2.1 &#x52A0;&#x8F7D;&#x56FE;&#x7247;</h3>
<p>&#x4F7F;&#x7528;<code>cv2.imread()</code>&#x6765;&#x8BFB;&#x5165;&#x4E00;&#x5F20;&#x56FE;&#x7247;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2

<span class="hljs-comment"># &#x52A0;&#x8F7D;&#x7070;&#x5EA6;&#x56FE;</span>
img = cv2.imread(<span class="hljs-string">&apos;lena.jpg&apos;</span>, <span class="hljs-number">0</span>)
</code></pre>
<ul>
<li>&#x53C2;&#x6570; 1&#xFF1A;&#x56FE;&#x7247;&#x7684;&#x6587;&#x4EF6;&#x540D;<ul>
<li>&#x5982;&#x679C;&#x56FE;&#x7247;&#x653E;&#x5728;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#xFF0C;&#x76F4;&#x63A5;&#x5199;&#x6587;&#x4EF6;&#x540D;&#x5C31;&#x884C;&#xFF0C;&#x5982;&apos;lena.jpg&apos;</li>
<li>&#x5426;&#x5219;&#x9700;&#x8981;&#x7ED9;&#x51FA;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x5982;&apos;D:\OpenCVSamples\lena.jpg&apos;</li>
</ul>
</li>
<li>&#x53C2;&#x6570; 2&#xFF1A;&#x8BFB;&#x5165;&#x65B9;&#x5F0F;&#xFF0C;&#x7701;&#x7565;&#x5373;&#x91C7;&#x7528;&#x9ED8;&#x8BA4;&#x503C;<ul>
<li><code>cv2.IMREAD_COLOR</code>&#xFF1A;&#x5F69;&#x8272;&#x56FE;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C; (1)</li>
<li><code>cv2.IMREAD_GRAYSCALE</code>&#xFF1A;&#x7070;&#x5EA6;&#x56FE; (0)</li>
<li><code>cv2.IMREAD_UNCHANGED</code>&#xFF1A;&#x5305;&#x542B;&#x900F;&#x660E;&#x901A;&#x9053;&#x7684;&#x5F69;&#x8272;&#x56FE; (-1)</li>
</ul>
</li>
</ul>
<blockquote>
<p>[!TIP]</p>
<p>&#x8DEF;&#x5F84;&#x4E2D;&#x4E0D;&#x80FD;&#x6709;&#x4E2D;&#x6587;&#x5662;&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x52A0;&#x8F7D;&#x6210;&#x529F;&#x7684;&#x8BDD;&#x662F;&#x4E0D;&#x4F1A;&#x62A5;&#x9519;&#x7684;&#xFF0C;<code>print(img)</code>&#x7684;&#x7ED3;&#x679C;&#x4E3A; None&#xFF0C;&#x540E;&#x9762;&#x5904;&#x7406;&#x624D;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x7B97;&#x662F;&#x4E2A;&#x5C0F;&#x5751;&#x3002;</p>
</blockquote>
<h3 id="222-&#x663E;&#x793A;&#x56FE;&#x7247;">2.2.2 &#x663E;&#x793A;&#x56FE;&#x7247;</h3>
<p>&#x4F7F;&#x7528;<code>cv2.imshow()</code>&#x663E;&#x793A;&#x56FE;&#x7247;&#xFF0C;&#x7A97;&#x53E3;&#x4F1A;&#x81EA;&#x9002;&#x5E94;&#x56FE;&#x7247;&#x7684;&#x5927;&#x5C0F;&#xFF1A;</p>
<pre><code class="lang-python">cv2.imshow(<span class="hljs-string">&apos;lena&apos;</span>, img)
cv2.waitKey(<span class="hljs-number">0</span>)
</code></pre>
<p>&#x53C2;&#x6570; 1 &#x662F;&#x7A97;&#x53E3;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x53C2;&#x6570; 2 &#x662F;&#x8981;&#x663E;&#x793A;&#x7684;&#x56FE;&#x7247;&#x3002;&#x4E0D;&#x540C;&#x7A97;&#x53E3;&#x4E4B;&#x95F4;&#x7528;&#x7A97;&#x53E3;&#x540D;&#x533A;&#x5206;&#xFF0C;&#x6240;&#x4EE5;&#x7A97;&#x53E3;&#x540D;&#x76F8;&#x540C;&#x5C31;&#x8868;&#x793A;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x7A97;&#x53E3;&#xFF0C;&#x663E;&#x793A;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="img/OpenCV_start/cv2_show_lena_gray.jpg" alt=""></p>
<p><code>cv2.waitKey()</code>&#x662F;&#x8BA9;&#x7A0B;&#x5E8F;&#x6682;&#x505C;&#x7684;&#x610F;&#x601D;&#xFF0C;&#x53C2;&#x6570;&#x662F;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x6BEB;&#x79D2; ms&#x3002;&#x65F6;&#x95F4;&#x4E00;&#x5230;&#xFF0C;&#x4F1A;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x4F20;&#x5165; 0 &#x7684;&#x8BDD;&#x8868;&#x793A;&#x4E00;&#x76F4;&#x7B49;&#x5F85;&#x3002;&#x7B49;&#x5F85;&#x671F;&#x95F4;&#x4E5F;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x7684;&#x6309;&#x952E;&#x8F93;&#x5165;&#xFF1A;<code>k = cv2.waitKey(0)</code>&#xFF08;<a href="#&#x7EC3;&#x4E60;">&#x7EC3;&#x4E60;</a>&#xFF09;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x5148;&#x7528;<code>cv2.namedWindow()</code>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A97;&#x53E3;&#xFF0C;&#x4E4B;&#x540E;&#x518D;&#x663E;&#x793A;&#x56FE;&#x7247;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x5148;&#x5B9A;&#x4E49;&#x7A97;&#x53E3;&#xFF0C;&#x540E;&#x663E;&#x793A;&#x56FE;&#x7247;</span>
cv2.namedWindow(<span class="hljs-string">&apos;lena2&apos;</span>, cv2.WINDOW_NORMAL)
cv2.imshow(<span class="hljs-string">&apos;lena2&apos;</span>, img)
cv2.waitKey(<span class="hljs-number">0</span>)
</code></pre>
<p>&#x53C2;&#x6570; 1 &#x4F9D;&#x65E7;&#x662F;&#x7A97;&#x53E3;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x53C2;&#x6570; 2 &#x9ED8;&#x8BA4;&#x662F;<code>cv2.WINDOW_AUTOSIZE</code>&#xFF0C;&#x8868;&#x793A;&#x7A97;&#x53E3;&#x5927;&#x5C0F;&#x81EA;&#x9002;&#x5E94;&#x56FE;&#x7247;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;<code>cv2.WINDOW_NORMAL</code>&#xFF0C;&#x8868;&#x793A;&#x7A97;&#x53E3;&#x5927;&#x5C0F;&#x53EF;&#x8C03;&#x6574;&#x3002;&#x56FE;&#x7247;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x7528;&#x540E;&#x8005;&#x3002;</p>
<h3 id="223-&#x4FDD;&#x5B58;&#x56FE;&#x7247;">2.2.3 &#x4FDD;&#x5B58;&#x56FE;&#x7247;</h3>
<p>&#x4F7F;&#x7528;<code>cv2.imwrite()</code>&#x4FDD;&#x5B58;&#x56FE;&#x7247;&#xFF0C;&#x53C2;&#x6570; 1 &#x662F;&#x5305;&#x542B;&#x540E;&#x7F00;&#x540D;&#x7684;&#x6587;&#x4EF6;&#x540D;&#xFF1A;</p>
<pre><code class="lang-python">cv2.imwrite(<span class="hljs-string">&apos;lena_gray.jpg&apos;</span>, img)
</code></pre>
<p>Nice&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x5F88;&#x7B80;&#x5355;&#x5450;&#xFF0C;&#x518D;&#x63A5;&#x518D;&#x5389;&#x5662;(&#x25CF;&apos;&#x25E1;&apos;&#x25CF;)</p>
<h2 id="23-&#x5C0F;&#x7ED3;">2.3 &#x5C0F;&#x7ED3;</h2>
<ul>
<li><code>cv2.imread()</code>&#x8BFB;&#x5165;&#x56FE;&#x7247;&#x3001;<code>cv2.imshow()</code>&#x663E;&#x793A;&#x56FE;&#x7247;&#x3001;<code>cv2.imwrite()</code>&#x4FDD;&#x5B58;&#x56FE;&#x7247;&#x3002;</li>
</ul>
<h2 id="24-&#x7EC3;&#x4E60;">2.4 &#x7EC3;&#x4E60;</h2>
<ol>
<li>&#x6253;&#x5F00; lena.jpg &#x5E76;&#x663E;&#x793A;&#xFF0C;&#x5982;&#x679C;&#x6309;&#x4E0B;&apos;s&apos;&#xFF0C;&#x5C31;&#x4FDD;&#x5B58;&#x56FE;&#x7247;&#x4E3A;&apos;lena_save.bmp&apos;&#xFF0C;&#x5426;&#x5219;&#x5C31;&#x7ED3;&#x675F;&#x7A0B;&#x5E8F;&#x3002;</li>
<li>Matplotlib &#x662F; Python &#x4E2D;&#x5E38;&#x7528;&#x7684;&#x4E00;&#x4E2A;&#x7ED8;&#x56FE;&#x5E93;&#xFF0C;&#x8BF7;&#x5B66;&#x4E60;<strong>2 &#x756A;&#x5916;&#x7BC7;&#xFF1A;&#x65E0;&#x635F;&#x4FDD;&#x5B58;&#x548C; Matplotlib &#x4F7F;&#x7528;</strong>&#x3002;</li>
</ol>
<h2 id="25-&#x63A5;&#x53E3;&#x6587;&#x6863;">2.5 &#x63A5;&#x53E3;&#x6587;&#x6863;</h2>
<ul>
<li><a href="https://docs.opencv.org/4.0.0/d3/d63/classcv_1_1Mat.html" target="_blank">Mat Object</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56" target="_blank">cv2.imread()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d7/dfc/group__highgui.html#ga453d42fe4cb60e5723281a89973ee563" target="_blank">cv2.imshow()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d4/da8/group__imgcodecs.html#gabbc7ef1aa2edfaa87772f1202d67e0ce" target="_blank">cv2.imwrite()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d7/dfc/group__highgui.html#ga5afdf8410934fd099df85c75b2e0888b" target="_blank">cv.namedWindow()</a></li>
</ul>
<h1 id="3-&#x6253;&#x5F00;&#x6444;&#x50CF;&#x5934;">3 &#x6253;&#x5F00;&#x6444;&#x50CF;&#x5934;</h1>
<p>&#x5B66;&#x4E60;&#x6253;&#x5F00;&#x6444;&#x50CF;&#x5934;&#x6355;&#x83B7;&#x7167;&#x7247;&#x3001;&#x64AD;&#x653E;&#x672C;&#x5730;&#x89C6;&#x9891;&#x3001;&#x5F55;&#x5236;&#x89C6;&#x9891;&#x7B49;&#x3002;</p>
<h2 id="31-&#x76EE;&#x6807;">3.1 &#x76EE;&#x6807;</h2>
<ul>
<li>&#x6253;&#x5F00;&#x6444;&#x50CF;&#x5934;&#x5E76;&#x6355;&#x83B7;&#x7167;&#x7247;</li>
<li>&#x64AD;&#x653E;&#x672C;&#x5730;&#x89C6;&#x9891;&#xFF0C;&#x5F55;&#x5236;&#x89C6;&#x9891;</li>
<li>OpenCV &#x51FD;&#x6570;&#xFF1A;<code>cv2.VideoCapture()</code>, <code>cv2.VideoWriter()</code></li>
</ul>
<h2 id="32-&#x6559;&#x7A0B;">3.2 &#x6559;&#x7A0B;</h2>
<h3 id="321-&#x6253;&#x5F00;&#x6444;&#x50CF;&#x5934;">3.2.1 &#x6253;&#x5F00;&#x6444;&#x50CF;&#x5934;</h3>
<p>&#x8981;&#x4F7F;&#x7528;&#x6444;&#x50CF;&#x5934;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;<code>cv2.VideoCapture(0)</code>&#x521B;&#x5EFA; VideoCapture &#x5BF9;&#x8C61;&#xFF0C;&#x53C2;&#x6570; 0 &#x6307;&#x7684;&#x662F;&#x6444;&#x50CF;&#x5934;&#x7684;&#x7F16;&#x53F7;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7535;&#x8111;&#x4E0A;&#x6709;&#x4E24;&#x4E2A;&#x6444;&#x50CF;&#x5934;&#x7684;&#x8BDD;&#xFF0C;&#x8BBF;&#x95EE;&#x7B2C; 2 &#x4E2A;&#x6444;&#x50CF;&#x5934;&#x5C31;&#x53EF;&#x4EE5;&#x4F20;&#x5165; 1&#xFF0C;&#x4F9D;&#x6B64;&#x7C7B;&#x63A8;&#x3002;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x6253;&#x5F00;&#x6444;&#x50CF;&#x5934;&#x5E76;&#x7070;&#x5EA6;&#x5316;&#x663E;&#x793A;</span>
<span class="hljs-keyword">import</span> cv2

capture = cv2.VideoCapture(<span class="hljs-number">0</span>)

<span class="hljs-keyword">while</span>(<span class="hljs-keyword">True</span>):
    <span class="hljs-comment"># &#x83B7;&#x53D6;&#x4E00;&#x5E27;</span>
    ret, frame = capture.read()
    <span class="hljs-comment"># &#x5C06;&#x8FD9;&#x5E27;&#x8F6C;&#x6362;&#x4E3A;&#x7070;&#x5EA6;&#x56FE;</span>
    gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)

    cv2.imshow(<span class="hljs-string">&apos;frame&apos;</span>, gray)
    <span class="hljs-keyword">if</span> cv2.waitKey(<span class="hljs-number">1</span>) == ord(<span class="hljs-string">&apos;q&apos;</span>):
        <span class="hljs-keyword">break</span>
</code></pre>
<p><code>capture.read()</code>&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x7684;&#x7B2C; 1 &#x4E2A;&#x53C2;&#x6570; ret(return value) &#x662F;&#x4E00;&#x4E2A;&#x5E03;&#x5C14;&#x503C;&#xFF0C;&#x8868;&#x793A;&#x5F53;&#x524D;&#x8FD9;&#x4E00;&#x5E27;&#x662F;&#x5426;&#x83B7;&#x53D6;&#x6B63;&#x786E;&#x3002;<code>cv2.cvtColor()</code>&#x7528;&#x6765;&#x8F6C;&#x6362;&#x989C;&#x8272;&#xFF0C;&#x8FD9;&#x91CC;&#x5C06;&#x5F69;&#x8272;&#x56FE;&#x8F6C;&#x6210;&#x7070;&#x5EA6;&#x56FE;&#x3002;</p>
<p>&#x53E6;&#x5916;&#xFF0C;&#x901A;&#x8FC7;<code>cap.get(propId)</code>&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x6444;&#x50CF;&#x5934;&#x7684;&#x4E00;&#x4E9B;&#x5C5E;&#x6027;&#xFF0C;&#x6BD4;&#x5982;&#x6355;&#x83B7;&#x7684;&#x5206;&#x8FA8;&#x7387;&#xFF0C;&#x4EAE;&#x5EA6;&#x548C;&#x5BF9;&#x6BD4;&#x5EA6;&#x7B49;&#x3002;propId &#x662F;&#x4ECE; 0~18 &#x7684;&#x6570;&#x5B57;&#xFF0C;&#x4EE3;&#x8868;&#x4E0D;&#x540C;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x5B8C;&#x6574;&#x7684;&#x5C5E;&#x6027;&#x5217;&#x8868;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.opencv.org/4.0.0/d4/d15/group__videoio__flags__base.html#gaeb8dd9c89c10a5c63c139bf7c4f5704d" target="_blank">VideoCaptureProperties</a>&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>cap.set(propId,value)</code>&#x6765;&#x4FEE;&#x6539;&#x5C5E;&#x6027;&#x503C;&#x3002;&#x6BD4;&#x5982;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x5728; while &#x4E4B;&#x524D;&#x6DFB;&#x52A0;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x83B7;&#x53D6;&#x6355;&#x83B7;&#x7684;&#x5206;&#x8FA8;&#x7387;</span>
<span class="hljs-comment"># propId &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5199;&#x6570;&#x5B57;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528; OpenCV &#x7684;&#x7B26;&#x53F7;&#x8868;&#x793A;</span>
width, height = capture.get(<span class="hljs-number">3</span>), capture.get(<span class="hljs-number">4</span>)
print(width, height)

<span class="hljs-comment"># &#x4EE5;&#x539F;&#x5206;&#x8FA8;&#x7387;&#x7684;&#x4E00;&#x500D;&#x6765;&#x6355;&#x83B7;</span>
capture.set(cv2.CAP_PROP_FRAME_WIDTH, width * <span class="hljs-number">2</span>)
capture.set(cv2.CAP_PROP_FRAME_HEIGHT, height * <span class="hljs-number">2</span>)
</code></pre>
<blockquote>
<p>[!TIP]</p>
<p>&#x67D0;&#x4E9B;&#x6444;&#x50CF;&#x5934;&#x8BBE;&#x5B9A;&#x5206;&#x8FA8;&#x7387;&#x7B49;&#x53C2;&#x6570;&#x65F6;&#x4F1A;&#x65E0;&#x6548;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x6709;&#x56FA;&#x5B9A;&#x7684;&#x5206;&#x8FA8;&#x7387;&#x5927;&#x5C0F;&#x652F;&#x6301;&#xFF0C;&#x4E00;&#x822C;&#x53EF;&#x5728;&#x6444;&#x50CF;&#x5934;&#x7684;&#x8D44;&#x6599;&#x9875;&#x4E2D;&#x627E;&#x5230;&#x3002;</p>
</blockquote>
<h3 id="322-&#x64AD;&#x653E;&#x672C;&#x5730;&#x89C6;&#x9891;">3.2.2 &#x64AD;&#x653E;&#x672C;&#x5730;&#x89C6;&#x9891;</h3>
<p>&#x8DDF;&#x6253;&#x5F00;&#x6444;&#x50CF;&#x5934;&#x4E00;&#x6837;&#xFF0C;&#x5982;&#x679C;&#x628A;&#x6444;&#x50CF;&#x5934;&#x7684;&#x7F16;&#x53F7;&#x6362;&#x6210;&#x89C6;&#x9891;&#x7684;&#x8DEF;&#x5F84;&#x5C31;&#x53EF;&#x4EE5;&#x64AD;&#x653E;&#x672C;&#x5730;&#x89C6;&#x9891;&#x4E86;&#x3002;&#x56DE;&#x60F3;&#x4E00;&#x4E0B;<code>cv2.waitKey()</code>&#xFF0C;&#x5B83;&#x7684;&#x53C2;&#x6570;&#x8868;&#x793A;&#x6682;&#x505C;&#x65F6;&#x95F4;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x503C;&#x8D8A;&#x5927;&#xFF0C;&#x89C6;&#x9891;&#x64AD;&#x653E;&#x901F;&#x5EA6;&#x8D8A;&#x6162;&#xFF0C;&#x53CD;&#x4E4B;&#xFF0C;&#x64AD;&#x653E;&#x901F;&#x5EA6;&#x8D8A;&#x5FEB;&#xFF0C;&#x901A;&#x5E38;&#x8BBE;&#x7F6E;&#x4E3A; 25 &#x6216; 30&#x3002;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x64AD;&#x653E;&#x672C;&#x5730;&#x89C6;&#x9891;</span>
capture = cv2.VideoCapture(<span class="hljs-string">&apos;demo_video.mp4&apos;</span>)

<span class="hljs-keyword">while</span>(capture.isOpened()):
    ret, frame = capture.read()
    gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)

    cv2.imshow(<span class="hljs-string">&apos;frame&apos;</span>, gray)
    <span class="hljs-keyword">if</span> cv2.waitKey(<span class="hljs-number">30</span>) == ord(<span class="hljs-string">&apos;q&apos;</span>):
        <span class="hljs-keyword">break</span>
</code></pre>
<h3 id="323-&#x5F55;&#x5236;&#x89C6;&#x9891;">3.2.3 &#x5F55;&#x5236;&#x89C6;&#x9891;</h3>
<p>&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x4FDD;&#x5B58;&#x56FE;&#x7247;&#x7528;&#x7684;&#x662F;<code>cv2.imwrite()</code>&#xFF0C;&#x8981;&#x4FDD;&#x5B58;&#x89C6;&#x9891;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;<code>VideoWriter</code>&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x9700;&#x8981;&#x7ED9;&#x5B83;&#x4F20;&#x5165;&#x56DB;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;</p>
<ul>
<li>&#x8F93;&#x51FA;&#x7684;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x5982;&apos;output.avi&apos;</li>
<li>&#x7F16;&#x7801;&#x65B9;&#x5F0F; <a href="https://baike.baidu.com/item/fourcc/6168470?fr=aladdin" target="_blank">FourCC</a> &#x7801;</li>
<li>&#x5E27;&#x7387; <a href="https://baike.baidu.com/item/FPS/3227416" target="_blank">FPS</a></li>
<li>&#x8981;&#x4FDD;&#x5B58;&#x7684;&#x5206;&#x8FA8;&#x7387;&#x5927;&#x5C0F;</li>
</ul>
<p>FourCC &#x662F;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x89C6;&#x9891;&#x7F16;&#x7801;&#x65B9;&#x5F0F;&#x7684;&#x56DB;&#x5B57;&#x8282;&#x7801;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x7F16;&#x7801;&#x53EF;&#x53C2;&#x8003;<a href="http://www.fourcc.org/codecs.php" target="_blank">Video Codecs</a>&#x3002;&#x5982; MJPG &#x7F16;&#x7801;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x5199;&#xFF1A; <code>cv2.VideoWriter_fourcc(*&apos;MJPG&apos;)</code>&#x6216;<code>cv2.VideoWriter_fourcc(&apos;M&apos;,&apos;J&apos;,&apos;P&apos;,&apos;G&apos;)</code></p>
<pre><code class="lang-python">capture = cv2.VideoCapture(<span class="hljs-number">0</span>)

<span class="hljs-comment"># &#x5B9A;&#x4E49;&#x7F16;&#x7801;&#x65B9;&#x5F0F;&#x5E76;&#x521B;&#x5EFA; VideoWriter &#x5BF9;&#x8C61;</span>
fourcc = cv2.VideoWriter_fourcc(*<span class="hljs-string">&apos;MJPG&apos;</span>)
outfile = cv2.VideoWriter(<span class="hljs-string">&apos;output.avi&apos;</span>, fourcc, <span class="hljs-number">25.</span>, (<span class="hljs-number">640</span>, <span class="hljs-number">480</span>))

<span class="hljs-keyword">while</span>(capture.isOpened()):
    ret, frame = capture.read()

    <span class="hljs-keyword">if</span> ret:
        outfile.write(frame)  <span class="hljs-comment"># &#x5199;&#x5165;&#x6587;&#x4EF6;</span>
        cv2.imshow(<span class="hljs-string">&apos;frame&apos;</span>, frame)
        <span class="hljs-keyword">if</span> cv2.waitKey(<span class="hljs-number">1</span>) == ord(<span class="hljs-string">&apos;q&apos;</span>):
            <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">break</span>
</code></pre>
<h2 id="33-&#x5C0F;&#x7ED3;">3.3 &#x5C0F;&#x7ED3;</h2>
<ul>
<li>&#x4F7F;&#x7528;<code>cv2.VideoCapture()</code>&#x521B;&#x5EFA;&#x89C6;&#x9891;&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x5FAA;&#x73AF;&#x4E2D;&#x4E00;&#x5E27;&#x5E27;&#x663E;&#x793A;&#x56FE;&#x50CF;&#x3002;&#x53C2;&#x6570;&#x4F20;&#x5165;&#x6570;&#x5B57;&#x65F6;&#xFF0C;&#x4EE3;&#x8868;&#x6253;&#x5F00;&#x6444;&#x50CF;&#x5934;&#xFF0C;&#x4F20;&#x5165;&#x672C;&#x5730;&#x89C6;&#x9891;&#x8DEF;&#x5F84;&#x65F6;&#xFF0C;&#x8868;&#x793A;&#x64AD;&#x653E;&#x672C;&#x5730;&#x89C6;&#x9891;&#x3002;</li>
<li><code>cap.get(propId)</code>&#x83B7;&#x53D6;&#x89C6;&#x9891;&#x5C5E;&#x6027;&#xFF0C;<code>cap.set(propId,value)</code>&#x8BBE;&#x7F6E;&#x89C6;&#x9891;&#x5C5E;&#x6027;&#x3002;</li>
<li><code>cv2.VideoWriter()</code>&#x521B;&#x5EFA;&#x89C6;&#x9891;&#x5199;&#x5165;&#x5BF9;&#x8C61;&#xFF0C;&#x7528;&#x6765;&#x5F55;&#x5236;/&#x4FDD;&#x5B58;&#x89C6;&#x9891;&#x3002;</li>
</ul>
<h2 id="34-&#x7EC3;&#x4E60;">3.4 &#x7EC3;&#x4E60;</h2>
<ol>
<li>&#x8BF7;&#x5148;&#x9605;&#x8BFB;<strong>3 &#x756A;&#x5916;&#x7BC7;&#xFF1A;&#x6ED1;&#x52A8;&#x6761;</strong>&#xFF0C;&#x7136;&#x540E;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x62D6;&#x52A8;&#x6ED1;&#x5757;&#x64AD;&#x653E;&#x89C6;&#x9891;&#x7684;&#x529F;&#x80FD;&#x3002;&#xFF08;&#x63D0;&#x793A;&#xFF1A;&#x9700;&#x8981;&#x7528;&#x5230; <code>cv2.CAP_PROP_FRAME_COUNT</code>&#x548C;<code>cv2.CAP_PROP_POS_FRAMES</code>&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#xFF09;&#x3002;</li>
</ol>
<h2 id="35-&#x63A5;&#x53E3;&#x6587;&#x6863;">3.5 &#x63A5;&#x53E3;&#x6587;&#x6863;</h2>
<ul>
<li><a href="https://docs.opencv.org/4.0.0/d8/dfe/classcv_1_1VideoCapture.html" target="_blank">VideoCapture Object</a></li>
<li><a href="https://docs.opencv.org/4.0.0/dd/d9e/classcv_1_1VideoWriter.html" target="_blank">VideoWriter Object</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d8/d01/group__imgproc__color__conversions.html#ga397ae87e1288a81d2363b61574eb8cab" target="_blank">cv2.cvtColor()</a></li>
</ul>
<h2 id="36-&#x5F15;&#x7528;">3.6 &#x5F15;&#x7528;</h2>
<ul>
<li><a href="http://www.fourcc.org/codecs.php" target="_blank">Video Codecs by FOURCC</a></li>
</ul>
<h1 id="4-&#x56FE;&#x50CF;&#x57FA;&#x672C;&#x64CD;&#x4F5C;">4 &#x56FE;&#x50CF;&#x57FA;&#x672C;&#x64CD;&#x4F5C;</h1>
<p><img src="img/OpenCV_start/cv2_lena_face_roi_crop.jpg" alt=""></p>
<p>&#x5B66;&#x4E60;&#x83B7;&#x53D6;&#x548C;&#x4FEE;&#x6539;&#x50CF;&#x7D20;&#x70B9;&#x7684;&#x503C;&#xFF0C;ROI &#x611F;&#x5174;&#x8DA3;&#x533A;&#x57DF;&#xFF0C;&#x901A;&#x9053;&#x5206;&#x79BB;&#x5408;&#x5E76;&#x7B49;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x3002;</p>
<h2 id="41-&#x76EE;&#x6807;">4.1 &#x76EE;&#x6807;</h2>
<ul>
<li>&#x8BBF;&#x95EE;&#x548C;&#x4FEE;&#x6539;&#x56FE;&#x7247;&#x50CF;&#x7D20;&#x70B9;&#x7684;&#x503C;</li>
<li>&#x83B7;&#x53D6;&#x56FE;&#x7247;&#x7684;&#x5BBD;&#x3001;&#x9AD8;&#x3001;&#x901A;&#x9053;&#x6570;&#x7B49;&#x5C5E;&#x6027;</li>
<li>&#x4E86;&#x89E3;&#x611F;&#x5174;&#x8DA3;&#x533A;&#x57DF; ROI</li>
<li>&#x5206;&#x79BB;&#x548C;&#x5408;&#x5E76;&#x56FE;&#x50CF;&#x901A;&#x9053;</li>
</ul>
<h2 id="42-&#x6559;&#x7A0B;">4.2 &#x6559;&#x7A0B;</h2>
<h3 id="421-&#x83B7;&#x53D6;&#x548C;&#x4FEE;&#x6539;&#x50CF;&#x7D20;&#x70B9;&#x503C;">4.2.1 &#x83B7;&#x53D6;&#x548C;&#x4FEE;&#x6539;&#x50CF;&#x7D20;&#x70B9;&#x503C;</h3>
<p>&#x6211;&#x4EEC;&#x5148;&#x8BFB;&#x5165;&#x4E00;&#x5F20;&#x56FE;&#x7247;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2

img = cv2.imread(<span class="hljs-string">&apos;lena.jpg&apos;</span>)
</code></pre>
<p>&#x901A;&#x8FC7;&#x884C;&#x5217;&#x7684;&#x5750;&#x6807;&#x6765;&#x83B7;&#x53D6;&#x67D0;&#x50CF;&#x7D20;&#x70B9;&#x7684;&#x503C;&#xFF0C;&#x5BF9;&#x4E8E;&#x5F69;&#x8272;&#x56FE;&#xFF0C;&#x7ED3;&#x679C;&#x662F; B,G,R &#x4E09;&#x4E2A;&#x503C;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x5BF9;&#x4E8E;&#x7070;&#x5EA6;&#x56FE;&#x6216;&#x5355;&#x901A;&#x9053;&#x56FE;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x503C;&#xFF1A;</p>
<pre><code class="lang-python">px = img[<span class="hljs-number">100</span>, <span class="hljs-number">90</span>]
print(px)  <span class="hljs-comment"># [103 98 197]</span>

<span class="hljs-comment"># &#x53EA;&#x83B7;&#x53D6;&#x84DD;&#x8272; blue &#x901A;&#x9053;&#x7684;&#x503C;</span>
px_blue = img[<span class="hljs-number">100</span>, <span class="hljs-number">90</span>, <span class="hljs-number">0</span>]
print(px_blue)  <span class="hljs-comment"># 103</span>
</code></pre>
<p>&#x8FD8;&#x8BB0;&#x5F97;&#x5417;&#xFF1F;<strong>&#x884C;&#x5BF9;&#x5E94; y&#xFF0C;&#x5217;&#x5BF9;&#x5E94; x&#xFF0C;&#x6240;&#x4EE5;&#x5176;&#x5B9E;&#x662F;<code>img[y, x]</code>&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x5662;(&#x25CF;&#x2C7;&#x2200;&#x2C7;&#x25CF;)</strong>&#x3002;&#x5BB9;&#x6613;&#x6DF7;&#x6DC6;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x53EA;&#x8BB0;&#x884C;&#x548C;&#x5217;&#xFF0C;&#x884C;&#x5728;&#x524D;&#xFF0C;&#x5217;&#x5728;&#x540E;&#x3002;</p>
<p>&#x4FEE;&#x6539;&#x50CF;&#x7D20;&#x7684;&#x503C;&#x4E5F;&#x662F;&#x540C;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#xFF1A;</p>
<pre><code class="lang-python">img[<span class="hljs-number">100</span>, <span class="hljs-number">90</span>] = [<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>]
print(img[<span class="hljs-number">100</span>, <span class="hljs-number">90</span>])  <span class="hljs-comment"># [255 255 255]</span>
</code></pre>
<blockquote>
<p>[!TIP]</p>
<p>&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x6027;&#x80FD;&#x66F4;&#x597D;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x83B7;&#x53D6;&#xFF1A;<code>img.item(100,100,0)</code>&#xFF0C;&#x4FEE;&#x6539;&#xFF1A;<code>img.itemset((100,100,0),255)</code>&#xFF0C;&#x4F46;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x53EA;&#x80FD; B,G,R &#x9010;&#x4E00;&#x8FDB;&#x884C;&#x3002;</p>
</blockquote>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x8FD9;&#x6B65;&#x64CD;&#x4F5C;&#x53EA;&#x662F;&#x5185;&#x5B58;&#x4E2D;&#x7684; img &#x50CF;&#x7D20;&#x70B9;&#x503C;&#x53D8;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x4FDD;&#x5B58;&#xFF0C;&#x6240;&#x4EE5;&#x539F;&#x56FE;&#x5E76;&#x6CA1;&#x6709;&#x66F4;&#x6539;&#x3002;</p>
<h3 id="422-&#x56FE;&#x7247;&#x5C5E;&#x6027;">4.2.2 &#x56FE;&#x7247;&#x5C5E;&#x6027;</h3>
<p><code>img.shape</code>&#x83B7;&#x53D6;&#x56FE;&#x50CF;&#x7684;&#x5F62;&#x72B6;&#xFF0C;&#x56FE;&#x7247;&#x662F;&#x5F69;&#x8272;&#x7684;&#x8BDD;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5305;&#x542B;<strong>&#x884C;&#x6570;&#xFF08;&#x9AD8;&#x5EA6;&#xFF09;&#x3001;&#x5217;&#x6570;&#xFF08;&#x5BBD;&#x5EA6;&#xFF09;&#x548C;&#x901A;&#x9053;&#x6570;</strong>&#x7684;&#x5143;&#x7EC4;&#xFF0C;&#x7070;&#x5EA6;&#x56FE;&#x53EA;&#x8FD4;&#x56DE;&#x884C;&#x6570;&#x548C;&#x5217;&#x6570;&#xFF1A;</p>
<pre><code class="lang-python">print(img.shape)  <span class="hljs-comment"># (263, 263, 3)</span>
<span class="hljs-comment"># &#x5F62;&#x72B6;&#x4E2D;&#x5305;&#x62EC;&#x884C;&#x6570;&#x3001;&#x5217;&#x6570;&#x548C;&#x901A;&#x9053;&#x6570;</span>
height, width, channels = img.shape
<span class="hljs-comment"># img &#x662F;&#x7070;&#x5EA6;&#x56FE;&#x7684;&#x8BDD;&#xFF1A;height, width = img.shape</span>
</code></pre>
<p><code>img.dtype</code>&#x83B7;&#x53D6;&#x56FE;&#x50CF;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF1A;</p>
<pre><code class="lang-python">print(img.dtype)  <span class="hljs-comment"># uint8</span>
</code></pre>
<blockquote>
<p>[!TIP]</p>
<p>&#x591A;&#x6570;&#x9519;&#x8BEF;&#x662F;&#x56E0;&#x4E3A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E0D;&#x5BF9;&#x5BFC;&#x81F4;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5065;&#x58EE;&#x7684;&#x4EE3;&#x7801;&#x5E94;&#x8BE5;&#x5BF9;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x52A0;&#x4EE5;&#x5224;&#x65AD;&#x3002;</p>
</blockquote>
<p><code>img.size</code>&#x83B7;&#x53D6;&#x56FE;&#x50CF;&#x603B;&#x50CF;&#x7D20;&#x6570;&#xFF1A;</p>
<pre><code class="lang-python">print(img.size)  <span class="hljs-comment"># 263*263*3=207507</span>
</code></pre>
<h3 id="423-roi">4.2.3 ROI</h3>
<p><a href="https://baike.baidu.com/item/ROI/1125333#viewPageContent" target="_blank">ROI</a>&#xFF1A;Region of Interest&#xFF0C;&#x611F;&#x5174;&#x8DA3;&#x533A;&#x57DF;&#x3002;&#x4EC0;&#x4E48;&#x610F;&#x601D;&#x5462;&#xFF1F;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x8981;&#x68C0;&#x6D4B;&#x773C;&#x775B;&#xFF0C;&#x56E0;&#x4E3A;&#x773C;&#x775B;&#x80AF;&#x5B9A;&#x5728;&#x8138;&#x4E0A;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x53EA;&#x6709;&#x8138;&#x8FD9;&#x90E8;&#x5206;&#xFF0C;&#x5176;&#x4ED6;&#x90FD;&#x4E0D; care&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x5355;&#x72EC;&#x628A;&#x8138;&#x622A;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x8282;&#x7701;&#x8BA1;&#x7B97;&#x91CF;&#xFF0C;&#x63D0;&#x9AD8;&#x8FD0;&#x884C;&#x901F;&#x5EA6;&#x3002;</p>
<p><img src="img/OpenCV_start/cv2_lena_face_roi_crop.jpg" alt="&#x53EA;&#x5173;&#x5FC3;&#x8138; ( &#x256F;&#x25A1;&#x2570; )"></p>
<p>&#x622A;&#x53D6; ROI &#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x6307;&#x5B9A;&#x56FE;&#x7247;&#x7684;&#x8303;&#x56F4;&#x5373;&#x53EF;&#xFF08;&#x540E;&#x9762;&#x6211;&#x4EEC;&#x5B66;&#x4E86;&#x7279;&#x5F81;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x622A;&#x53D6;&#x8FA3;&#xFF0C;(&#xE07; &#x2022;_&#x2022;)&#xE07;&#xFF09;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x622A;&#x53D6;&#x8138;&#x90E8; ROI</span>
face = img[<span class="hljs-number">100</span>:<span class="hljs-number">200</span>, <span class="hljs-number">115</span>:<span class="hljs-number">188</span>]
cv2.imshow(<span class="hljs-string">&apos;face&apos;</span>, face)
cv2.waitKey(<span class="hljs-number">0</span>)
</code></pre>
<h3 id="424-&#x901A;&#x9053;&#x5206;&#x5272;&#x4E0E;&#x5408;&#x5E76;">4.2.4 &#x901A;&#x9053;&#x5206;&#x5272;&#x4E0E;&#x5408;&#x5E76;</h3>
<p>&#x5F69;&#x8272;&#x56FE;&#x7684; BGR &#x4E09;&#x4E2A;&#x901A;&#x9053;&#x662F;&#x53EF;&#x4EE5;&#x5206;&#x5F00;&#x5355;&#x72EC;&#x8BBF;&#x95EE;&#x7684;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x5355;&#x72EC;&#x7684;&#x4E09;&#x4E2A;&#x901A;&#x9053;&#x5408;&#x5E76;&#x6210;&#x4E00;&#x526F;&#x56FE;&#x50CF;&#x3002;&#x5206;&#x522B;&#x4F7F;&#x7528;<code>cv2.split()</code>&#x548C;<code>cv2.merge()</code>&#xFF1A;</p>
<pre><code class="lang-python">b, g, r = cv2.split(img)
img = cv2.merge((b, g, r))
</code></pre>
<p><code>split()</code>&#x51FD;&#x6570;&#x6BD4;&#x8F83;&#x8017;&#x65F6;&#xFF0C;<strong>&#x66F4;&#x9AD8;&#x6548;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x7528; numpy &#x4E2D;&#x7684;&#x7D22;&#x5F15;</strong>&#xFF0C;&#x5982;&#x63D0;&#x53D6; B &#x901A;&#x9053;&#xFF1A;</p>
<pre><code class="lang-python">b = img[:, :, <span class="hljs-number">0</span>]
cv2.imshow(<span class="hljs-string">&apos;blue&apos;</span>, b)
cv2.waitKey(<span class="hljs-number">0</span>)
</code></pre>
<h2 id="43-&#x5C0F;&#x7ED3;">4.3 &#x5C0F;&#x7ED3;</h2>
<ul>
<li><code>img[y,x]</code>&#x83B7;&#x53D6;/&#x8BBE;&#x7F6E;&#x50CF;&#x7D20;&#x70B9;&#x503C;&#xFF0C;<code>img.shape</code>&#xFF1A;&#x56FE;&#x7247;&#x7684;&#x5F62;&#x72B6;&#xFF08;&#x884C;&#x6570;&#x3001;&#x5217;&#x6570;&#x3001;&#x901A;&#x9053;&#x6570;&#xFF09;,<code>img.dtype</code>&#xFF1A;&#x56FE;&#x50CF;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;</li>
<li><code>img[y1:y2,x1:x2]</code>&#x8FDB;&#x884C; ROI &#x622A;&#x53D6;&#xFF0C;<code>cv2.split()/cv2.merge()</code>&#x901A;&#x9053;&#x5206;&#x5272;/&#x5408;&#x5E76;&#x3002;&#x66F4;&#x63A8;&#x8350;&#x7684;&#x83B7;&#x53D6;&#x5355;&#x901A;&#x9053;&#x65B9;&#x5F0F;&#xFF1A;<code>b = img[:, :, 0]</code>&#x3002;</li>
</ul>
<h2 id="44-&#x7EC3;&#x4E60;">4.4 &#x7EC3;&#x4E60;</h2>
<ol>
<li>&#x6253;&#x5F00; lena.jpg&#xFF0C;&#x5C06;&#x5E3D;&#x5B50;&#x90E8;&#x5206;&#xFF08;&#x9AD8;&#xFF1A;25-120&#xFF0C;&#x5BBD;&#xFF1A;50-220&#xFF09;&#x7684;&#x7EA2;&#x8272;&#x901A;&#x9053;&#x622A;&#x53D6;&#x51FA;&#x6765;&#x5E76;&#x663E;&#x793A;&#x3002;</li>
</ol>
<h2 id="45-&#x63A5;&#x53E3;&#x6587;&#x6863;">4.5 &#x63A5;&#x53E3;&#x6587;&#x6863;</h2>
<ul>
<li><a href="https://docs.opencv.org/4.0.0/d2/de8/group__core__array.html#ga0547c7fed86152d7e9d0096029c8518a" target="_blank">cv2.split()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d2/de8/group__core__array.html#ga7d7b4d6c6ee504b30a20b1680029c7b4" target="_blank">cv2.merge()</a></li>
</ul>
<h1 id="5-&#x989C;&#x8272;&#x7A7A;&#x95F4;&#x8F6C;&#x6362;">5 &#x989C;&#x8272;&#x7A7A;&#x95F4;&#x8F6C;&#x6362;</h1>
<p><img src="img/OpenCV_start/cv2_exercise_tracking_three_colors.jpg" alt=""></p>
<p>&#x5B66;&#x4E60;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x56FE;&#x7247;&#x7684;&#x989C;&#x8272;&#x7A7A;&#x95F4;&#x8F6C;&#x6362;&#xFF0C;&#x89C6;&#x9891;&#x4E2D;&#x8FFD;&#x8E2A;&#x7279;&#x5B9A;&#x989C;&#x8272;&#x7684;&#x7269;&#x4F53;&#x3002;</p>
<h2 id="51-&#x76EE;&#x6807;">5.1 &#x76EE;&#x6807;</h2>
<ul>
<li>&#x989C;&#x8272;&#x7A7A;&#x95F4;&#x8F6C;&#x6362;&#xFF0C;&#x5982; BGR&#x2194;Gray&#xFF0C;BGR&#x2194;HSV &#x7B49;</li>
<li>&#x8FFD;&#x8E2A;&#x89C6;&#x9891;&#x4E2D;&#x7279;&#x5B9A;&#x989C;&#x8272;&#x7684;&#x7269;&#x4F53;</li>
<li>OpenCV &#x51FD;&#x6570;&#xFF1A;<code>cv2.cvtColor()</code>, <code>cv2.inRange()</code></li>
</ul>
<h2 id="52-&#x6559;&#x7A0B;">5.2 &#x6559;&#x7A0B;</h2>
<h3 id="521-&#x989C;&#x8272;&#x7A7A;&#x95F4;&#x8F6C;&#x6362;">5.2.1 &#x989C;&#x8272;&#x7A7A;&#x95F4;&#x8F6C;&#x6362;</h3>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2

img = cv2.imread(<span class="hljs-string">&apos;lena.jpg&apos;</span>)
<span class="hljs-comment"># &#x8F6C;&#x6362;&#x4E3A;&#x7070;&#x5EA6;&#x56FE;</span>
img_gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)

cv2.imshow(<span class="hljs-string">&apos;img&apos;</span>, img)
cv2.imshow(<span class="hljs-string">&apos;gray&apos;</span>, img_gray)
cv2.waitKey(<span class="hljs-number">0</span>)
</code></pre>
<p><code>cv2.cvtColor()</code>&#x7528;&#x6765;&#x8FDB;&#x884C;<strong>&#x989C;&#x8272;&#x6A21;&#x578B;&#x8F6C;&#x6362;</strong>&#xFF0C;&#x53C2;&#x6570; 1 &#x662F;&#x8981;&#x8F6C;&#x6362;&#x7684;&#x56FE;&#x7247;&#xFF0C;&#x53C2;&#x6570; 2 &#x662F;&#x8F6C;&#x6362;&#x6A21;&#x5F0F;&#xFF0C; <code>COLOR_BGR2GRAY</code>&#x8868;&#x793A; BGR&#x2192;Gray&#xFF0C;&#x53EF;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x663E;&#x793A;&#x6240;&#x6709;&#x7684;&#x8F6C;&#x6362;&#x6A21;&#x5F0F;&#xFF1A;</p>
<pre><code class="lang-python">flags = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> dir(cv2) <span class="hljs-keyword">if</span> i.startswith(<span class="hljs-string">&apos;COLOR_&apos;</span>)]
print(flags)
</code></pre>
<blockquote>
<p>[!TIP]</p>
<p>&#x989C;&#x8272;&#x8F6C;&#x6362;&#x5176;&#x5B9E;&#x662F;&#x6570;&#x5B66;&#x8FD0;&#x7B97;&#xFF0C;&#x5982;&#x7070;&#x5EA6;&#x5316;&#x6700;&#x5E38;&#x7528;&#x7684;&#x662F;&#xFF1A;<code>gray=R*0.299+G*0.587+B*0.114</code>&#x3002;</p>
</blockquote>
<h3 id="522-&#x89C6;&#x9891;&#x4E2D;&#x7279;&#x5B9A;&#x989C;&#x8272;&#x7269;&#x4F53;&#x8FFD;&#x8E2A;">5.2.2 &#x89C6;&#x9891;&#x4E2D;&#x7279;&#x5B9A;&#x989C;&#x8272;&#x7269;&#x4F53;&#x8FFD;&#x8E2A;</h3>
<p><a href="https://baike.baidu.com/item/HSV/547122" target="_blank">HSV</a>&#x662F;&#x4E00;&#x4E2A;&#x5E38;&#x7528;&#x4E8E;&#x989C;&#x8272;&#x8BC6;&#x522B;&#x7684;&#x6A21;&#x578B;&#xFF0C;&#x76F8;&#x6BD4; BGR &#x66F4;&#x6613;&#x533A;&#x5206;&#x989C;&#x8272;&#xFF0C;&#x8F6C;&#x6362;&#x6A21;&#x5F0F;&#x7528;<code>COLOR_BGR2HSV</code>&#x8868;&#x793A;&#x3002;</p>
<blockquote>
<p>[!TIP]</p>
<p>OpenCV &#x4E2D;&#x8272;&#x8C03; H &#x8303;&#x56F4;&#x4E3A;[0,179]&#xFF0C;&#x9971;&#x548C;&#x5EA6; S &#x662F;[0,255]&#xFF0C;&#x660E;&#x5EA6; V &#x662F;[0,255]&#x3002;&#x867D;&#x7136; H &#x7684;&#x7406;&#x8BBA;&#x6570;&#x503C;&#x662F; 0&#xB0;~360&#xB0;&#xFF0C;&#x4F46; 8 &#x4F4D;&#x56FE;&#x50CF;&#x50CF;&#x7D20;&#x70B9;&#x7684;&#x6700;&#x5927;&#x503C;&#x662F; 255&#xFF0C;&#x6240;&#x4EE5; OpenCV &#x4E2D;&#x9664;&#x4EE5;&#x4E86; 2&#xFF0C;&#x67D0;&#x4E9B;&#x8F6F;&#x4EF6;&#x53EF;&#x80FD;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x5C3A;&#x5EA6;&#x8868;&#x793A;&#xFF0C;&#x6240;&#x4EE5;&#x540C;&#x5176;&#x4ED6;&#x8F6F;&#x4EF6;&#x6DF7;&#x7528;&#x65F6;&#xFF0C;&#x8BB0;&#x5F97;&#x5F52;&#x4E00;&#x5316;&#x3002;</p>
</blockquote>
<p>&#x73B0;&#x5728;&#xFF0C;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x4F7F;&#x7528; HSV &#x6765;&#x53EA;&#x663E;&#x793A;&#x89C6;&#x9891;&#x4E2D;&#x84DD;&#x8272;&#x7269;&#x4F53;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A;</p>
<ol>
<li>&#x6355;&#x83B7;&#x89C6;&#x9891;&#x4E2D;&#x7684;&#x4E00;&#x5E27;</li>
<li>&#x4ECE; BGR &#x8F6C;&#x6362;&#x5230; HSV</li>
<li>&#x63D0;&#x53D6;&#x84DD;&#x8272;&#x8303;&#x56F4;&#x7684;&#x7269;&#x4F53;</li>
<li>&#x53EA;&#x663E;&#x793A;&#x84DD;&#x8272;&#x7269;&#x4F53;</li>
</ol>
<p><img src="img/OpenCV_start/cv2_blue_object_tracking.jpg" alt=""></p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

capture = cv2.VideoCapture(<span class="hljs-number">0</span>)

<span class="hljs-comment"># &#x84DD;&#x8272;&#x7684;HSV&#x8303;&#x56F4;&#xFF0C;&#x4E0D;&#x540C;&#x5149;&#x7167;&#x6761;&#x4EF6;&#x4E0B;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x53EF;&#x7075;&#x6D3B;&#x8C03;&#x6574;</span>
lower_blue = np.array([<span class="hljs-number">100</span>, <span class="hljs-number">110</span>, <span class="hljs-number">110</span>])
upper_blue = np.array([<span class="hljs-number">130</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>])

<span class="hljs-keyword">while</span>(<span class="hljs-keyword">True</span>):
    <span class="hljs-comment"># 1.&#x6355;&#x83B7;&#x89C6;&#x9891;&#x4E2D;&#x7684;&#x4E00;&#x5E27;</span>
    ret, frame = capture.read()

    <span class="hljs-comment"># 2.&#x4ECE; BGR &#x8F6C;&#x6362;&#x5230; HSV</span>
    hsv = cv2.cvtColor(frame, cv2.COLOR_BGR2HSV)

    <span class="hljs-comment"># 3.inRange()&#xFF1A;&#x4ECB;&#x4E8E; lower/upper &#x4E4B;&#x95F4;&#x7684;&#x4E3A;&#x767D;&#x8272;&#xFF0C;&#x5176;&#x4F59;&#x9ED1;&#x8272;</span>
    mask = cv2.inRange(hsv, lower_blue, upper_blue)

    <span class="hljs-comment"># 4.&#x53EA;&#x4FDD;&#x7559;&#x539F;&#x56FE;&#x4E2D;&#x7684;&#x84DD;&#x8272;&#x90E8;&#x5206;</span>
    res = cv2.bitwise_and(frame, frame, mask=mask)

    cv2.imshow(<span class="hljs-string">&apos;frame&apos;</span>, frame)
    cv2.imshow(<span class="hljs-string">&apos;mask&apos;</span>, mask)
    cv2.imshow(<span class="hljs-string">&apos;res&apos;</span>, res)

    <span class="hljs-keyword">if</span> cv2.waitKey(<span class="hljs-number">1</span>) == ord(<span class="hljs-string">&apos;q&apos;</span>):
        <span class="hljs-keyword">break</span>
</code></pre>
<p>&#x5176;&#x4E2D;&#xFF0C;<code>bitwise_and()</code>&#x51FD;&#x6570;&#x6682;&#x65F6;&#x4E0D;&#x7528;&#x7BA1;&#xFF0C;&#x540E;&#x9762;&#x4F1A;&#x8BB2;&#x5230;&#x3002;&#x90A3;&#x84DD;&#x8272;&#x7684; HSV &#x503C;&#x7684;&#x4E0A;&#x4E0B;&#x9650; lower &#x548C; upper &#x8303;&#x56F4;&#x662F;&#x600E;&#x4E48;&#x5F97;&#x5230;&#x7684;&#x5462;&#xFF1F;&#x5176;&#x5B9E;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x628A;&#x6807;&#x51C6;&#x84DD;&#x8272;&#x7684; BGR &#x503C;&#x7528;<code>cvtColor()</code>&#x8F6C;&#x6362;&#x4E0B;&#xFF1A;</p>
<pre><code class="lang-python">blue = np.uint8([[[<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]]])
hsv_blue = cv2.cvtColor(blue, cv2.COLOR_BGR2HSV)
print(hsv_blue)  <span class="hljs-comment"># [[[120 255 255]]]</span>
</code></pre>
<p>&#x7ED3;&#x679C;&#x662F;[120, 255, 255]&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x84DD;&#x8272;&#x7684;&#x8303;&#x56F4;&#x8C03;&#x6574;&#x6210;&#x4E86;&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x90A3;&#x6837;&#x3002;</p>
<blockquote>
<p>[!TIP]</p>
<p><a href="https://baike.baidu.com/item/Lab/1514615" target="_blank">Lab</a> &#x989C;&#x8272;&#x7A7A;&#x95F4;&#x4E5F;&#x7ECF;&#x5E38;&#x7528;&#x6765;&#x505A;&#x989C;&#x8272;&#x8BC6;&#x522B;&#xFF0C;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x4EE5;&#x4E86;&#x89E3;&#x4E0B;&#x3002;</p>
</blockquote>
<h2 id="53-&#x5C0F;&#x7ED3;">5.3 &#x5C0F;&#x7ED3;</h2>
<ul>
<li><code>cv2.cvtColor()</code>&#x51FD;&#x6570;&#x7528;&#x6765;&#x8FDB;&#x884C;&#x989C;&#x8272;&#x7A7A;&#x95F4;&#x8F6C;&#x6362;&#xFF0C;&#x5E38;&#x7528; BGR&#x2194;Gray&#xFF0C;BGR&#x2194;HSV&#x3002;</li>
<li>HSV &#x989C;&#x8272;&#x6A21;&#x578B;&#x5E38;&#x7528;&#x4E8E;&#x989C;&#x8272;&#x8BC6;&#x522B;&#x3002;&#x8981;&#x60F3;&#x77E5;&#x9053;&#x67D0;&#x79CD;&#x989C;&#x8272;&#x5728; HSV &#x4E0B;&#x7684;&#x503C;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x5B83;&#x7684; BGR &#x503C;&#x7528;<code>cvtColor()</code>&#x8F6C;&#x6362;&#x5F97;&#x5230;&#x3002;</li>
</ul>
<h2 id="54-&#x7EC3;&#x4E60;">5.4 &#x7EC3;&#x4E60;</h2>
<ol>
<li>&#x5C1D;&#x8BD5;&#x5728;&#x89C6;&#x9891;&#x4E2D;&#x540C;&#x65F6;&#x63D0;&#x53D6;&#x7EA2;&#x8272;&#x3001;&#x84DD;&#x8272;&#x3001;&#x7EFF;&#x8272;&#x7684;&#x7269;&#x4F53;&#x3002;&#xFF08;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF09;</li>
</ol>
<p><img src="img/OpenCV_start/cv2_exercise_tracking_three_colors.jpg" alt=""></p>
<h2 id="55-&#x63A5;&#x53E3;&#x6587;&#x6863;">5.5 &#x63A5;&#x53E3;&#x6587;&#x6863;</h2>
<ul>
<li><a href="https://docs.opencv.org/4.0.0/d8/d01/group__imgproc__color__conversions.html#ga397ae87e1288a81d2363b61574eb8cab" target="_blank">cv2.cvtColor()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d2/de8/group__core__array.html#ga48af0ab51e36436c5d04340e036ce981" target="_blank">cv2.inRange()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d2/de8/group__core__array.html#ga60b4d04b251ba5eb1392c34425497e14" target="_blank">cv2.bitwise_and()</a></li>
</ul>
<h1 id="6-&#x9608;&#x503C;&#x5206;&#x5272;">6 &#x9608;&#x503C;&#x5206;&#x5272;</h1>
<p><img src="img/OpenCV_start/cv2_threshold_binary_demo.jpg" alt=""></p>
<p>&#x5B66;&#x4E60;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x9608;&#x503C;&#x65B9;&#x6CD5;&quot;&#x4E8C;&#x503C;&#x5316;&quot;&#x56FE;&#x50CF;&#x3002;</p>
<h2 id="61-&#x76EE;&#x6807;">6.1 &#x76EE;&#x6807;</h2>
<ul>
<li>&#x4F7F;&#x7528;&#x56FA;&#x5B9A;&#x9608;&#x503C;&#x3001;&#x81EA;&#x9002;&#x5E94;&#x9608;&#x503C;&#x548C; Otsu &#x9608;&#x503C;&#x6CD5;&quot;&#x4E8C;&#x503C;&#x5316;&quot;&#x56FE;&#x50CF;</li>
<li>OpenCV &#x51FD;&#x6570;&#xFF1A;<code>cv2.threshold()</code>, <code>cv2.adaptiveThreshold()</code></li>
</ul>
<h2 id="62-&#x6559;&#x7A0B;">6.2 &#x6559;&#x7A0B;</h2>
<h3 id="621-&#x56FA;&#x5B9A;&#x9608;&#x503C;&#x5206;&#x5272;">6.2.1 &#x56FA;&#x5B9A;&#x9608;&#x503C;&#x5206;&#x5272;</h3>
<p>&#x56FA;&#x5B9A;&#x9608;&#x503C;&#x5206;&#x5272;&#x5F88;&#x76F4;&#x63A5;&#xFF0C;&#x4E00;&#x53E5;&#x8BDD;&#x8BF4;&#x5C31;&#x662F;&#x50CF;&#x7D20;&#x70B9;&#x503C;&#x5927;&#x4E8E;&#x9608;&#x503C;&#x53D8;&#x6210;&#x4E00;&#x7C7B;&#x503C;&#xFF0C;&#x5C0F;&#x4E8E;&#x9608;&#x503C;&#x53D8;&#x6210;&#x53E6;&#x4E00;&#x7C7B;&#x503C;&#x3002;</p>
<p><img src="img/OpenCV_start/cv2_threshold_binary_demo.jpg" alt=""></p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2

<span class="hljs-comment"># &#x7070;&#x5EA6;&#x56FE;&#x8BFB;&#x5165;</span>
img = cv2.imread(<span class="hljs-string">&apos;gradient.jpg&apos;</span>, <span class="hljs-number">0</span>)

<span class="hljs-comment"># &#x9608;&#x503C;&#x5206;&#x5272;</span>
ret, th = cv2.threshold(img, <span class="hljs-number">127</span>, <span class="hljs-number">255</span>, cv2.THRESH_BINARY)
cv2.imshow(<span class="hljs-string">&apos;thresh&apos;</span>, th)
cv2.waitKey(<span class="hljs-number">0</span>)
</code></pre>
<p><code>cv2.threshold()</code>&#x7528;&#x6765;&#x5B9E;&#x73B0;&#x9608;&#x503C;&#x5206;&#x5272;&#xFF0C;ret &#x4EE3;&#x8868;&#x5F53;&#x524D;&#x7684;&#x9608;&#x503C;&#xFF0C;&#x6682;&#x65F6;&#x4E0D;&#x7528;&#x7406;&#x4F1A;&#x3002;&#x51FD;&#x6570;&#x6709; 4 &#x4E2A;&#x53C2;&#x6570;&#xFF1A;</p>
<ul>
<li>&#x53C2;&#x6570; 1&#xFF1A;&#x8981;&#x5904;&#x7406;&#x7684;&#x539F;&#x56FE;&#xFF0C;<strong>&#x4E00;&#x822C;&#x662F;&#x7070;&#x5EA6;&#x56FE;</strong></li>
<li>&#x53C2;&#x6570; 2&#xFF1A;&#x8BBE;&#x5B9A;&#x7684;&#x9608;&#x503C;</li>
<li>&#x53C2;&#x6570; 3&#xFF1A;&#x5BF9;&#x4E8E;<code>THRESH_BINARY</code>&#x3001;<code>THRESH_BINARY_INV</code>&#x9608;&#x503C;&#x65B9;&#x6CD5;&#x6240;&#x9009;&#x7528;&#x7684;&#x6700;&#x5927;&#x9608;&#x503C;&#xFF0C;&#x4E00;&#x822C;&#x4E3A; 255</li>
<li>&#x53C2;&#x6570; 4&#xFF1A;&#x9608;&#x503C;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4E3B;&#x8981;&#x6709; 5 &#x79CD;&#xFF0C;&#x8BE6;&#x60C5;&#xFF1A;<a href="https://docs.opencv.org/4.0.0/d7/d1b/group__imgproc__misc.html#gaa9e58d2860d4afa658ef70a9b1115576" target="_blank">ThresholdTypes</a></li>
</ul>
<p>&#x4E0B;&#x9762;&#x7ED3;&#x5408;&#x4EE3;&#x7801;&#x7406;&#x89E3;&#x4E0B;&#x8FD9; 5 &#x79CD;&#x9608;&#x503C;&#x65B9;&#x5F0F;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

img = cv2.imread(<span class="hljs-string">&apos;gradient.jpg&apos;</span>, <span class="hljs-number">0</span>)

<span class="hljs-comment"># &#x5E94;&#x7528; 5 &#x79CD;&#x4E0D;&#x540C;&#x7684;&#x9608;&#x503C;&#x65B9;&#x6CD5;</span>
ret, th1 = cv2.threshold(img, <span class="hljs-number">127</span>, <span class="hljs-number">255</span>, cv2.THRESH_BINARY)
ret, th2 = cv2.threshold(img, <span class="hljs-number">127</span>, <span class="hljs-number">255</span>, cv2.THRESH_BINARY_INV)
ret, th3 = cv2.threshold(img, <span class="hljs-number">127</span>, <span class="hljs-number">255</span>, cv2.THRESH_TRUNC)
ret, th4 = cv2.threshold(img, <span class="hljs-number">127</span>, <span class="hljs-number">255</span>, cv2.THRESH_TOZERO)
ret, th5 = cv2.threshold(img, <span class="hljs-number">127</span>, <span class="hljs-number">255</span>, cv2.THRESH_TOZERO_INV)

titles = [<span class="hljs-string">&apos;Original&apos;</span>, <span class="hljs-string">&apos;BINARY&apos;</span>, <span class="hljs-string">&apos;BINARY_INV&apos;</span>, <span class="hljs-string">&apos;TRUNC&apos;</span>, <span class="hljs-string">&apos;TOZERO&apos;</span>, <span class="hljs-string">&apos;TOZERO_INV&apos;</span>]
images = [img, th1, th2, th3, th4, th5]

<span class="hljs-comment"># &#x4F7F;&#x7528; Matplotlib &#x663E;&#x793A;</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">6</span>):
    plt.subplot(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, i + <span class="hljs-number">1</span>)
    plt.imshow(images[i], <span class="hljs-string">&apos;gray&apos;</span>)
    plt.title(titles[i], fontsize=<span class="hljs-number">8</span>)
    plt.xticks([]), plt.yticks([])  <span class="hljs-comment"># &#x9690;&#x85CF;&#x5750;&#x6807;&#x8F74;</span>

plt.show()
</code></pre>
<p><img src="img/OpenCV_start/cv2_different_threshold_demo.jpg" alt="5 &#x79CD;&#x4E0D;&#x540C;&#x7684;&#x9608;&#x503C;&#x65B9;&#x5F0F;&#x7ED3;&#x679C;"></p>
<blockquote>
<p>[!TIP]</p>
<p>&#x5F88;&#x591A;&#x4EBA;&#x8BEF;&#x4EE5;&#x4E3A;&#x9608;&#x503C;&#x5206;&#x5272;&#x5C31;&#x662F; <a href="https://baike.baidu.com/item/%E4%BA%8C%E5%80%BC%E5%8C%96" target="_blank">&#x4E8C;&#x503C;&#x5316;</a>&#x3002;&#x4ECE;&#x4E0A;&#x56FE;&#x4E2D;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x4E24;&#x8005;&#x5E76;&#x4E0D;&#x7B49;&#x540C;&#xFF0C;&#x9608;&#x503C;&#x5206;&#x5272;&#x7ED3;&#x679C;&#x662F;&#x4E24;&#x7C7B;&#x503C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4E24;&#x4E2A;&#x503C;&#xFF0C;&#x6240;&#x4EE5;&#x6559;&#x7A0B;&#x5F00;&#x5934;&#x7B14;&#x8005;&#x628A;&#x4E8C;&#x503C;&#x5316;&#x52A0;&#x4E86;&#x5F15;&#x53F7;&#x3002;</p>
</blockquote>
<p><img src="img/OpenCV_start/cv2_different_thresholds_theory.jpg" alt=""></p>
<h3 id="622-&#x81EA;&#x9002;&#x5E94;&#x9608;&#x503C;">6.2.2 &#x81EA;&#x9002;&#x5E94;&#x9608;&#x503C;</h3>
<p>&#x770B;&#x5F97;&#x51FA;&#x6765;&#x56FA;&#x5B9A;&#x9608;&#x503C;&#x662F;&#x5728;&#x6574;&#x5E45;&#x56FE;&#x7247;&#x4E0A;&#x5E94;&#x7528;&#x4E00;&#x4E2A;&#x9608;&#x503C;&#x8FDB;&#x884C;&#x5206;&#x5272;&#xFF0C;<em>&#x5B83;&#x5E76;&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x660E;&#x6697;&#x5206;&#x5E03;&#x4E0D;&#x5747;&#x7684;&#x56FE;&#x7247;</em>&#x3002; <code>cv2.adaptiveThreshold()</code>&#x81EA;&#x9002;&#x5E94;&#x9608;&#x503C;&#x4F1A;&#x6BCF;&#x6B21;&#x53D6;&#x56FE;&#x7247;&#x7684;&#x4E00;&#x5C0F;&#x90E8;&#x5206;&#x8BA1;&#x7B97;&#x9608;&#x503C;&#xFF0C;&#x8FD9;&#x6837;&#x56FE;&#x7247;&#x4E0D;&#x540C;&#x533A;&#x57DF;&#x7684;&#x9608;&#x503C;&#x5C31;&#x4E0D;&#x5C3D;&#x76F8;&#x540C;&#x3002;&#x5B83;&#x6709; 5 &#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5176;&#x5B9E;&#x5F88;&#x597D;&#x7406;&#x89E3;&#xFF0C;&#x5148;&#x770B;&#x4E0B;&#x6548;&#x679C;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-comment"># &#x81EA;&#x9002;&#x5E94;&#x9608;&#x503C;&#x5BF9;&#x6BD4;&#x56FA;&#x5B9A;&#x9608;&#x503C;</span>
img = cv2.imread(<span class="hljs-string">&apos;sudoku.jpg&apos;</span>, <span class="hljs-number">0</span>)

<span class="hljs-comment"># &#x56FA;&#x5B9A;&#x9608;&#x503C;</span>
ret, th1 = cv2.threshold(img, <span class="hljs-number">127</span>, <span class="hljs-number">255</span>, cv2.THRESH_BINARY)
<span class="hljs-comment"># &#x81EA;&#x9002;&#x5E94;&#x9608;&#x503C;</span>
th2 = cv2.adaptiveThreshold(
    img, <span class="hljs-number">255</span>, cv2.ADAPTIVE_THRESH_MEAN_C, cv2.THRESH_BINARY, <span class="hljs-number">11</span>, <span class="hljs-number">4</span>)
th3 = cv2.adaptiveThreshold(
    img, <span class="hljs-number">255</span>, cv2.ADAPTIVE_THRESH_GAUSSIAN_C, cv2.THRESH_BINARY, <span class="hljs-number">17</span>, <span class="hljs-number">6</span>)

titles = [<span class="hljs-string">&apos;Original&apos;</span>, <span class="hljs-string">&apos;Global(v = 127)&apos;</span>, <span class="hljs-string">&apos;Adaptive Mean&apos;</span>, <span class="hljs-string">&apos;Adaptive Gaussian&apos;</span>]
images = [img, th1, th2, th3]

<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">4</span>):
    plt.subplot(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, i + <span class="hljs-number">1</span>), plt.imshow(images[i], <span class="hljs-string">&apos;gray&apos;</span>)
    plt.title(titles[i], fontsize=<span class="hljs-number">8</span>)
    plt.xticks([]), plt.yticks([])
plt.show()
</code></pre>
<p><img src="img/OpenCV_start/cv2_adaptive_vs_global_thresholding.jpg" alt="&#x81EA;&#x9002;&#x5E94;&#x9608;&#x503C;&#x5BF9;&#x6BD4;&#x56FA;&#x5B9A;&#x9608;&#x503C;"></p>
<ul>
<li>&#x53C2;&#x6570; 1&#xFF1A;&#x8981;&#x5904;&#x7406;&#x7684;&#x539F;&#x56FE;</li>
<li>&#x53C2;&#x6570; 2&#xFF1A;&#x6700;&#x5927;&#x9608;&#x503C;&#xFF0C;&#x4E00;&#x822C;&#x4E3A; 255</li>
<li>&#x53C2;&#x6570; 3&#xFF1A;&#x5C0F;&#x533A;&#x57DF;&#x9608;&#x503C;&#x7684;&#x8BA1;&#x7B97;&#x65B9;&#x5F0F;<ul>
<li><code>ADAPTIVE_THRESH_MEAN_C</code>&#xFF1A;&#x5C0F;&#x533A;&#x57DF;&#x5185;&#x53D6;&#x5747;&#x503C;</li>
<li><code>ADAPTIVE_THRESH_GAUSSIAN_C</code>&#xFF1A;&#x5C0F;&#x533A;&#x57DF;&#x5185;&#x52A0;&#x6743;&#x6C42;&#x548C;&#xFF0C;&#x6743;&#x91CD;&#x662F;&#x4E2A;&#x9AD8;&#x65AF;&#x6838;</li>
</ul>
</li>
<li>&#x53C2;&#x6570; 4&#xFF1A;&#x9608;&#x503C;&#x65B9;&#x6CD5;&#xFF0C;&#x53EA;&#x80FD;&#x4F7F;&#x7528;<code>THRESH_BINARY</code>&#x3001;<code>THRESH_BINARY_INV</code>&#xFF0C;&#x5177;&#x4F53;&#x89C1;&#x524D;&#x9762;&#x6240;&#x8BB2;&#x7684;&#x9608;&#x503C;&#x65B9;&#x6CD5;</li>
<li>&#x53C2;&#x6570; 5&#xFF1A;&#x5C0F;&#x533A;&#x57DF;&#x7684;&#x9762;&#x79EF;&#xFF0C;&#x5982; 11 &#x5C31;&#x662F; 11*11 &#x7684;&#x5C0F;&#x5757;</li>
<li>&#x53C2;&#x6570; 6&#xFF1A;&#x6700;&#x7EC8;&#x9608;&#x503C;&#x7B49;&#x4E8E;&#x5C0F;&#x533A;&#x57DF;&#x8BA1;&#x7B97;&#x51FA;&#x7684;&#x9608;&#x503C;&#x518D;&#x51CF;&#x53BB;&#x6B64;&#x503C;</li>
</ul>
<p>&#x5982;&#x679C;&#x4F60;&#x6CA1;&#x770B;&#x61C2;&#x4E0A;&#x9762;&#x7684;&#x53C2;&#x6570;&#x4E5F;&#x4E0D;&#x8981;&#x7D27;&#xFF0C;&#x6682;&#x65F6;&#x4F1A;&#x7528;&#x5C31;&#x884C;&#xFF0C;&#x5F53;&#x7136;&#x5EFA;&#x8BAE;&#x4F60;&#x8C03;&#x6574;&#x4E0B;&#x53C2;&#x6570;&#x770B;&#x770B;&#x4E0D;&#x540C;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<h3 id="623-otsu-&#x9608;&#x503C;">6.2.3 Otsu &#x9608;&#x503C;</h3>
<p>&#x5728;&#x524D;&#x9762;&#x56FA;&#x5B9A;&#x9608;&#x503C;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x662F;&#x968F;&#x4FBF;&#x9009;&#x4E86;&#x4E00;&#x4E2A;&#x9608;&#x503C;&#x5982; 127&#xFF0C;&#x90A3;&#x5982;&#x4F55;&#x77E5;&#x9053;&#x6211;&#x4EEC;&#x9009;&#x7684;&#x8FD9;&#x4E2A;&#x9608;&#x503C;&#x6548;&#x679C;&#x597D;&#x4E0D;&#x597D;&#x5462;&#xFF1F;&#x7B54;&#x6848;&#x662F;&#xFF1A;&#x4E0D;&#x65AD;&#x5C1D;&#x8BD5;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x5728;&#x5F88;&#x591A;&#x6587;&#x732E;&#x4E2D;&#x90FD;&#x88AB;&#x79F0;&#x4E3A;&#x7ECF;&#x9A8C;&#x9608;&#x503C;&#x3002;<a href="https://baike.baidu.com/item/otsu/16252828" target="_blank">Otsu &#x9608;&#x503C;&#x6CD5;</a>&#x5C31;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x81EA;&#x52A8;&#x9AD8;&#x6548;&#x7684;&#x4E8C;&#x503C;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x4E0D;&#x8FC7;&#x6211;&#x4EEC;&#x76F4;&#x65B9;&#x56FE;&#x8FD8;&#x6CA1;&#x5B66;&#xFF0C;&#x8FD9;&#x91CC;&#x6682;&#x65F6;&#x7565;&#x8FC7;&#x3002;</p>
<p>&#x597D;&#x5427;&#xFF0C;&#x6211;&#x77E5;&#x9053;&#x6211;&#x6FC0;&#x8D77;&#x4E86;&#x4F60;&#x7684;&#x5174;&#x8DA3;&#xFF0C;~ o(<em>&#xFFE3; &#x25BD; &#xFFE3;</em>)o&#xFF0C;&#x6709;&#x80FD;&#x529B;&#x7684;&#x7AE5;&#x978B;&#x53EF;&#x4EE5;&#x770B;&#x4E0B;<strong>&#x7EC3;&#x4E60;&#x9898;</strong>&#x3002;</p>
<h2 id="63-&#x5C0F;&#x7ED3;">6.3 &#x5C0F;&#x7ED3;</h2>
<ul>
<li><code>cv2.threshold()</code>&#x7528;&#x6765;&#x8FDB;&#x884C;&#x56FA;&#x5B9A;&#x9608;&#x503C;&#x5206;&#x5272;&#x3002;&#x56FA;&#x5B9A;&#x9608;&#x503C;&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x5149;&#x7EBF;&#x4E0D;&#x5747;&#x5300;&#x7684;&#x56FE;&#x7247;&#xFF0C;&#x6240;&#x4EE5;&#x7528; <code>cv2.adaptiveThreshold()</code>&#x8FDB;&#x884C;&#x81EA;&#x9002;&#x5E94;&#x9608;&#x503C;&#x5206;&#x5272;&#x3002;</li>
<li>&#x4E8C;&#x503C;&#x5316;&#x8DDF;&#x9608;&#x503C;&#x5206;&#x5272;&#x5E76;&#x4E0D;&#x7B49;&#x540C;&#x3002;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x56FE;&#x7247;&#xFF0C;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x9608;&#x503C;&#x65B9;&#x6CD5;&#x3002;</li>
</ul>
<h2 id="64-&#x7EC3;&#x4E60;">6.4 &#x7EC3;&#x4E60;</h2>
<ol>
<li>Otsu &#x9608;&#x503C;&#x662F;&#x4E00;&#x79CD;&#x9AD8;&#x6548;&#x7684;&#x4E8C;&#x503C;&#x5316;&#x7B97;&#x6CD5;&#xFF0C;&#x8BF7;&#x9605;&#x8BFB;<strong>4 &#x756A;&#x5916;&#x7BC7;&#xFF1A;Otsu &#x9608;&#x503C;&#x6CD5;</strong>&#x3002;</li>
</ol>
<h2 id="65-&#x63A5;&#x53E3;&#x6587;&#x6863;">6.5 &#x63A5;&#x53E3;&#x6587;&#x6863;</h2>
<ul>
<li><a href="https://docs.opencv.org/4.0.0/d7/d1b/group__imgproc__misc.html#gae8a4a146d1ca78c626a53577199e9c57" target="_blank">cv2.threshold()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d7/d1b/group__imgproc__misc.html#ga72b913f352e4a1b1b397736707afcde3" target="_blank">cv2.adaptiveThreshold()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d7/d1b/group__imgproc__misc.html#gaa9e58d2860d4afa658ef70a9b1115576" target="_blank">cv2.ThresholdTypes()</a></li>
</ul>
<h1 id="7-&#x56FE;&#x50CF;&#x51E0;&#x4F55;&#x53D8;&#x6362;">7 &#x56FE;&#x50CF;&#x51E0;&#x4F55;&#x53D8;&#x6362;</h1>
<p><img src="img/OpenCV_start/cv2_perspective_transformations_inm.jpg" alt=""></p>
<p>&#x5B66;&#x4E60;&#x5982;&#x4F55;&#x65CB;&#x8F6C;&#x3001;&#x5E73;&#x79FB;&#x3001;&#x7F29;&#x653E;&#x548C;&#x7FFB;&#x8F6C;&#x56FE;&#x7247;&#x3002;</p>
<h2 id="71-&#x76EE;&#x6807;">7.1 &#x76EE;&#x6807;</h2>
<ul>
<li>&#x5B9E;&#x73B0;&#x65CB;&#x8F6C;&#x3001;&#x5E73;&#x79FB;&#x548C;&#x7F29;&#x653E;&#x56FE;&#x7247;</li>
<li>OpenCV &#x51FD;&#x6570;&#xFF1A;<code>cv2.resize()</code>, <code>cv2.flip()</code>, <code>cv2.warpAffine()</code></li>
</ul>
<h2 id="72-&#x6559;&#x7A0B;">7.2 &#x6559;&#x7A0B;</h2>
<blockquote>
<p>[!TIP]</p>
<p>&#x56FE;&#x50CF;&#x7684;&#x51E0;&#x4F55;&#x53D8;&#x6362;&#x4ECE;&#x539F;&#x7406;&#x4E0A;&#x770B;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x4E24;&#x79CD;&#xFF1A;&#x57FA;&#x4E8E; 2&#xD7;3 &#x77E9;&#x9635;&#x7684;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#xFF08;&#x5E73;&#x79FB;&#x3001;&#x7F29;&#x653E;&#x3001;&#x65CB;&#x8F6C;&#x548C;&#x7FFB;&#x8F6C;&#x7B49;&#xFF09;&#x3001;&#x57FA;&#x4E8E; 3&#xD7;3 &#x77E9;&#x9635;&#x7684;&#x900F;&#x89C6;&#x53D8;&#x6362;&#xFF0C;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x5C0F;&#x4F19;&#x4F34;&#x53EF;&#x53C2;&#x8003;<strong>5 &#x756A;&#x5916;&#x7BC7;&#xFF1A;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x4E0E;&#x900F;&#x89C6;&#x53D8;&#x6362;</strong>&#x3002;</p>
</blockquote>
<h3 id="721-&#x7F29;&#x653E;&#x56FE;&#x7247;">7.2.1 &#x7F29;&#x653E;&#x56FE;&#x7247;</h3>
<p>&#x7F29;&#x653E;&#x5C31;&#x662F;&#x8C03;&#x6574;&#x56FE;&#x7247;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x4F7F;&#x7528;<code>cv2.resize()</code>&#x51FD;&#x6570;&#x5B9E;&#x73B0;&#x7F29;&#x653E;&#x3002;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6BD4;&#x4F8B;&#x7F29;&#x653E;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6307;&#x5B9A;&#x7684;&#x5927;&#x5C0F;&#x7F29;&#x653E;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2

img = cv2.imread(<span class="hljs-string">&apos;drawing.jpg&apos;</span>)

<span class="hljs-comment"># &#x6309;&#x7167;&#x6307;&#x5B9A;&#x7684;&#x5BBD;&#x5EA6;&#x3001;&#x9AD8;&#x5EA6;&#x7F29;&#x653E;&#x56FE;&#x7247;</span>
res = cv2.resize(img, (<span class="hljs-number">132</span>, <span class="hljs-number">150</span>))
<span class="hljs-comment"># &#x6309;&#x7167;&#x6BD4;&#x4F8B;&#x7F29;&#x653E;&#xFF0C;&#x5982; x,y &#x8F74;&#x5747;&#x653E;&#x5927;&#x4E00;&#x500D;</span>
res2 = cv2.resize(img, <span class="hljs-keyword">None</span>, fx=<span class="hljs-number">2</span>, fy=<span class="hljs-number">2</span>, interpolation=cv2.INTER_LINEAR)

cv2.imshow(<span class="hljs-string">&apos;shrink&apos;</span>, res), cv2.imshow(<span class="hljs-string">&apos;zoom&apos;</span>, res2)
cv2.waitKey(<span class="hljs-number">0</span>)
</code></pre>
<p>&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x7F29;&#x653E;&#x65B9;&#x6CD5;<code>interpolation</code>&#xFF0C;&#x66F4;&#x4E13;&#x4E1A;&#x70B9;&#x53EB;&#x63D2;&#x503C;&#x65B9;&#x6CD5;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;<code>INTER_LINEAR</code>&#xFF0C;&#x5168;&#x90E8;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.opencv.org/4.0.0/da/d54/group__imgproc__transform.html#ga5bb5a1fea74ea38e1a5445ca803ff121" target="_blank">InterpolationFlags</a></p>
<h3 id="722-&#x7FFB;&#x8F6C;&#x56FE;&#x7247;">7.2.2 &#x7FFB;&#x8F6C;&#x56FE;&#x7247;</h3>
<p>&#x955C;&#x50CF;&#x7FFB;&#x8F6C;&#x56FE;&#x7247;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;<code>cv2.flip()</code>&#x51FD;&#x6570;&#xFF1A;</p>
<pre><code class="lang-python">dst = cv2.flip(img, <span class="hljs-number">1</span>)
</code></pre>
<p>&#x5176;&#x4E2D;&#xFF0C;&#x53C2;&#x6570; 2 = 0&#xFF1A;&#x5782;&#x76F4;&#x7FFB;&#x8F6C; (&#x6CBF; x &#x8F74;)&#xFF0C;&#x53C2;&#x6570; 2 &gt; 0: &#x6C34;&#x5E73;&#x7FFB;&#x8F6C; (&#x6CBF; y &#x8F74;)&#xFF0C;&#x53C2;&#x6570; 2 &lt; 0: &#x6C34;&#x5E73;&#x5782;&#x76F4;&#x7FFB;&#x8F6C;&#x3002;</p>
<p><img src="img/OpenCV_start/cv2_flip_image_sample.jpg" alt=""></p>
<h3 id="723-&#x5E73;&#x79FB;&#x56FE;&#x7247;">7.2.3 &#x5E73;&#x79FB;&#x56FE;&#x7247;</h3>
<p>&#x8981;&#x5E73;&#x79FB;&#x56FE;&#x7247;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#xFF0C;tx,ty &#x662F;&#x5411; x &#x548C; y &#x65B9;&#x5411;&#x5E73;&#x79FB;&#x7684;&#x8DDD;&#x79BB;&#xFF1A;</p>
<!-- $$
M = \left[
 \begin{matrix}
   1 & 0 & t_x \newline
   0 & 1 & t_y
  \end{matrix}
  \right]
$$ -->
<p><img src="img/OpenCV_start/1.png" alt=""></p>
<p>&#x5E73;&#x79FB;&#x662F;&#x7528;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x51FD;&#x6570;<code>cv2.warpAffine()</code>&#x5B9E;&#x73B0;&#x7684;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x5E73;&#x79FB;&#x56FE;&#x7247;</span>
<span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

img = cv2.imread(<span class="hljs-string">&apos;drawing.jpg&apos;</span>)
rows, cols = img.shape[:<span class="hljs-number">2</span>]

<span class="hljs-comment"># &#x5B9A;&#x4E49;&#x5E73;&#x79FB;&#x77E9;&#x9635;&#xFF0C;&#x9700;&#x8981;&#x662F; numpy &#x7684; float32 &#x7C7B;&#x578B;</span>
<span class="hljs-comment"># x &#x8F74;&#x5E73;&#x79FB; 100&#xFF0C;y &#x8F74;&#x5E73;&#x79FB; 50</span>
M = np.float32([[<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">50</span>]])
<span class="hljs-comment"># &#x7528;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x5B9E;&#x73B0;&#x5E73;&#x79FB;</span>
dst = cv2.warpAffine(img, M, (cols, rows))

cv2.imshow(<span class="hljs-string">&apos;shift&apos;</span>, dst)
cv2.waitKey(<span class="hljs-number">0</span>)
</code></pre>
<p><img src="img/OpenCV_start/cv2_translation_100_50.jpg" alt=""></p>
<h3 id="724-&#x65CB;&#x8F6C;&#x56FE;&#x7247;">7.2.4 &#x65CB;&#x8F6C;&#x56FE;&#x7247;</h3>
<p>&#x65CB;&#x8F6C;&#x540C;&#x5E73;&#x79FB;&#x4E00;&#x6837;&#xFF0C;&#x4E5F;&#x662F;&#x7528;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x4E5F;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x53D8;&#x6362;&#x77E9;&#x9635;&#x3002;OpenCV &#x76F4;&#x63A5;&#x63D0;&#x4F9B;&#x4E86; <code>cv2.getRotationMatrix2D()</code>&#x51FD;&#x6570;&#x6765;&#x751F;&#x6210;&#x8FD9;&#x4E2A;&#x77E9;&#x9635;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x6709;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;</p>
<ul>
<li>&#x53C2;&#x6570; 1&#xFF1A;&#x56FE;&#x7247;&#x7684;&#x65CB;&#x8F6C;&#x4E2D;&#x5FC3;</li>
<li>&#x53C2;&#x6570; 2&#xFF1A;&#x65CB;&#x8F6C;&#x89D2;&#x5EA6; (&#x6B63;&#xFF1A;&#x9006;&#x65F6;&#x9488;&#xFF0C;&#x8D1F;&#xFF1A;&#x987A;&#x65F6;&#x9488;)</li>
<li>&#x53C2;&#x6570; 3&#xFF1A;&#x7F29;&#x653E;&#x6BD4;&#x4F8B;&#xFF0C;0.5 &#x8868;&#x793A;&#x7F29;&#x5C0F;&#x4E00;&#x534A;</li>
</ul>
<pre><code class="lang-python"><span class="hljs-comment"># 45&#xB0;&#x65CB;&#x8F6C;&#x56FE;&#x7247;&#x5E76;&#x7F29;&#x5C0F;&#x4E00;&#x534A;</span>
M = cv2.getRotationMatrix2D((cols / <span class="hljs-number">2</span>, rows / <span class="hljs-number">2</span>), <span class="hljs-number">45</span>, <span class="hljs-number">0.5</span>)
<span class="hljs-comment"># (cols, rows)&#x8868;&#x793A;&#x8F93;&#x51FA;&#x56FE;&#x7247;&#x7684;&#x5927;&#x5C0F;</span>
dst = cv2.warpAffine(img, M, (cols, rows))

cv2.imshow(<span class="hljs-string">&apos;rotation&apos;</span>, dst)
cv2.waitKey(<span class="hljs-number">0</span>)
</code></pre>
<p><img src="img/OpenCV_start/cv2_rotation_45_degree.jpg" alt="&#x9006;&#x65F6;&#x9488;&#x65CB;&#x8F6C; 45&#xB0;&#x5E76;&#x7F29;&#x653E;"></p>
<h2 id="73-&#x5C0F;&#x7ED3;">7.3 &#x5C0F;&#x7ED3;</h2>
<ul>
<li><code>cv2.resize()</code>&#x7F29;&#x653E;&#x56FE;&#x7247;&#xFF0C;&#x53EF;&#x4EE5;&#x6309;&#x6307;&#x5B9A;&#x5927;&#x5C0F;&#x7F29;&#x653E;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6309;&#x6BD4;&#x4F8B;&#x7F29;&#x653E;&#x3002;</li>
<li><code>cv2.flip()</code>&#x7FFB;&#x8F6C;&#x56FE;&#x7247;&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x6C34;&#x5E73;/&#x5782;&#x76F4;/&#x6C34;&#x5E73;&#x5782;&#x76F4;&#x7FFB;&#x8F6C;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x3002;</li>
<li>&#x5E73;&#x79FB;/&#x65CB;&#x8F6C;&#x662F;&#x9760;&#x4EFF;&#x5C04;&#x53D8;&#x6362;<code>cv2.warpAffine()</code>&#x5B9E;&#x73B0;&#x7684;&#x3002;</li>
</ul>
<h2 id="74-&#x63A5;&#x53E3;&#x6587;&#x6863;">7.4 &#x63A5;&#x53E3;&#x6587;&#x6863;</h2>
<ul>
<li><a href="https://docs.opencv.org/4.0.0/da/d54/group__imgproc__transform.html#ga47a974309e9102f5f08231edc7e7529d" target="_blank">cv2.resize()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d2/de8/group__core__array.html#gaca7be533e3dac7feb70fc60635adf441" target="_blank">cv2.filp()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/da/d54/group__imgproc__transform.html#ga0203d9ee5fcd28d40dbc4a1ea4451983" target="_blank">cv2.warpAffine()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/da/d54/group__imgproc__transform.html#gafbbc470ce83812914a70abfb604f4326" target="_blank">cv2.getRotationMatrix2D()</a></li>
</ul>
<h1 id="8-&#x7ED8;&#x56FE;&#x529F;&#x80FD;">8 &#x7ED8;&#x56FE;&#x529F;&#x80FD;</h1>
<p><img src="img/OpenCV_start/cv2_drawing_functions.jpg" alt=""></p>
<p>&#x5B66;&#x4E60;&#x753B;&#x7EBF;&#x3001;&#x5706;&#x548C;&#x77E9;&#x5F62;&#x7B49;&#x591A;&#x79CD;&#x51E0;&#x4F55;&#x5F62;&#x72B6;&#xFF0C;&#x7ED9;&#x56FE;&#x7247;&#x6DFB;&#x52A0;&#x6587;&#x5B57;&#x3002;</p>
<h2 id="81-&#x76EE;&#x6807;">8.1 &#x76EE;&#x6807;</h2>
<ul>
<li>&#x7ED8;&#x5236;&#x5404;&#x79CD;&#x51E0;&#x4F55;&#x5F62;&#x72B6;&#x3001;&#x6DFB;&#x52A0;&#x6587;&#x5B57;</li>
<li>OpenCV &#x51FD;&#x6570;&#xFF1A;<code>cv2.line()</code>, <code>cv2.circle()</code>, <code>cv2.rectangle()</code>, <code>cv2.ellipse()</code>, <code>cv2.putText()</code></li>
</ul>
<h2 id="82-&#x6559;&#x7A0B;">8.2 &#x6559;&#x7A0B;</h2>
<h3 id="821-&#x53C2;&#x6570;&#x8BF4;&#x660E;">8.2.1 &#x53C2;&#x6570;&#x8BF4;&#x660E;</h3>
<p>&#x7ED8;&#x5236;&#x5F62;&#x72B6;&#x7684;&#x51FD;&#x6570;&#x6709;&#x4E00;&#x4E9B;&#x5171;&#x540C;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x63D0;&#x524D;&#x5728;&#x6B64;&#x8BF4;&#x660E;&#x4E00;&#x4E0B;&#xFF1A;</p>
<ul>
<li>img&#xFF1A;&#x8981;&#x7ED8;&#x5236;&#x5F62;&#x72B6;&#x7684;&#x56FE;&#x7247;</li>
<li>color&#xFF1A;&#x7ED8;&#x5236;&#x7684;&#x989C;&#x8272;<ul>
<li>&#x5F69;&#x8272;&#x56FE;&#x5C31;&#x4F20;&#x5165; BGR &#x7684;&#x4E00;&#x7EC4;&#x503C;&#xFF0C;&#x5982;&#x84DD;&#x8272;&#x5C31;&#x662F; (255, 0, 0)</li>
<li>&#x7070;&#x5EA6;&#x56FE;&#xFF0C;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x7070;&#x5EA6;&#x503C;&#x5C31;&#x884C;</li>
</ul>
</li>
<li>thickness&#xFF1A;&#x7EBF;&#x5BBD;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A; 1&#xFF1B;<strong>&#x5BF9;&#x4E8E;&#x77E9;&#x5F62;/&#x5706;&#x4E4B;&#x7C7B;&#x7684;&#x5C01;&#x95ED;&#x5F62;&#x72B6;&#x800C;&#x8A00;&#xFF0C;&#x4F20;&#x5165; -1 &#x8868;&#x793A;&#x586B;&#x5145;&#x5F62;&#x72B6;</strong></li>
</ul>
<p>&#x9700;&#x8981;&#x5BFC;&#x5165;&#x7684;&#x6A21;&#x5757;&#x548C;&#x663E;&#x793A;&#x56FE;&#x7247;&#x7684;&#x901A;&#x7528;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

cv2.imshow(<span class="hljs-string">&apos;img&apos;</span>, img)
cv2.waitKey(<span class="hljs-number">0</span>)
</code></pre>
<p><img src="img/OpenCV_start/cv2_drawing_functions.jpg" alt="&#x7ED8;&#x5236;&#x5404;&#x79CD;&#x51E0;&#x4F55;&#x5F62;&#x72B6;"></p>
<p>&#x4E0A;&#x56FE;&#x5C31;&#x662F;&#x672C;&#x6559;&#x7A0B;&#x7ED8;&#x5236;&#x7684;&#x6700;&#x7EC8;&#x6548;&#x679C;&#xFF0C;&#x4E0B;&#x9762;&#x4E00;&#x6B65;&#x6B65;&#x6765;&#x770B;&#xFF1A;</p>
<h3 id="822-&#x753B;&#x7EBF;">8.2.2 &#x753B;&#x7EBF;</h3>
<p>&#x753B;&#x76F4;&#x7EBF;&#x53EA;&#x9700;&#x6307;&#x5B9A;&#x8D77;&#x70B9;&#x548C;&#x7EC8;&#x70B9;&#x7684;&#x5750;&#x6807;&#x5C31;&#x884C;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x521B;&#x5EFA;&#x4E00;&#x526F;&#x9ED1;&#x8272;&#x7684;&#x56FE;&#x7247;</span>
img = np.zeros((<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">3</span>), np.uint8)
<span class="hljs-comment"># &#x753B;&#x4E00;&#x6761;&#x7EBF;&#x5BBD;&#x4E3A; 5 &#x7684;&#x84DD;&#x8272;&#x76F4;&#x7EBF;&#xFF0C;&#x53C2;&#x6570; 2&#xFF1A;&#x8D77;&#x70B9;&#xFF0C;&#x53C2;&#x6570; 3&#xFF1A;&#x7EC8;&#x70B9;</span>
cv2.line(img, (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">512</span>, <span class="hljs-number">512</span>), (<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>), <span class="hljs-number">5</span>)
</code></pre>
<blockquote>
<p>[!TIP]</p>
<p>&#x6240;&#x6709;&#x7ED8;&#x56FE;&#x51FD;&#x6570;&#x5747;&#x4F1A;&#x76F4;&#x63A5;&#x5F71;&#x54CD;&#x539F;&#x56FE;&#x7247;&#xFF0C;&#x8FD9;&#x70B9;&#x8981;&#x6CE8;&#x610F;&#x3002;</p>
</blockquote>
<h3 id="823-&#x753B;&#x77E9;&#x5F62;">8.2.3 &#x753B;&#x77E9;&#x5F62;</h3>
<p>&#x753B;&#x77E9;&#x5F62;&#x9700;&#x8981;&#x77E5;&#x9053;&#x5DE6;&#x4E0A;&#x89D2;&#x548C;&#x53F3;&#x4E0B;&#x89D2;&#x7684;&#x5750;&#x6807;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x753B;&#x4E00;&#x4E2A;&#x7EFF;&#x8272;&#x8FB9;&#x6846;&#x7684;&#x77E9;&#x5F62;&#xFF0C;&#x53C2;&#x6570; 2&#xFF1A;&#x5DE6;&#x4E0A;&#x89D2;&#x5750;&#x6807;&#xFF0C;&#x53C2;&#x6570; 3&#xFF1A;&#x53F3;&#x4E0B;&#x89D2;&#x5750;&#x6807;</span>
cv2.rectangle(img, (<span class="hljs-number">384</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">510</span>, <span class="hljs-number">128</span>), (<span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>), <span class="hljs-number">3</span>)
</code></pre>
<h3 id="824-&#x753B;&#x5706;">8.2.4 &#x753B;&#x5706;</h3>
<p>&#x753B;&#x5706;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x5706;&#x5FC3;&#x548C;&#x534A;&#x5F84;&#xFF0C;&#x6CE8;&#x610F;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#x7EBF;&#x5BBD;=-1 &#x4EE3;&#x8868;&#x586B;&#x5145;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x753B;&#x4E00;&#x4E2A;&#x586B;&#x5145;&#x7EA2;&#x8272;&#x7684;&#x5706;&#xFF0C;&#x53C2;&#x6570; 2&#xFF1A;&#x5706;&#x5FC3;&#x5750;&#x6807;&#xFF0C;&#x53C2;&#x6570; 3&#xFF1A;&#x534A;&#x5F84;</span>
cv2.circle(img, (<span class="hljs-number">447</span>, <span class="hljs-number">63</span>), <span class="hljs-number">63</span>, (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>), <span class="hljs-number">-1</span>)
</code></pre>
<h3 id="825-&#x753B;&#x692D;&#x5706;">8.2.5 &#x753B;&#x692D;&#x5706;</h3>
<p>&#x753B;&#x692D;&#x5706;&#x9700;&#x8981;&#x7684;&#x53C2;&#x6570;&#x6BD4;&#x8F83;&#x591A;&#xFF0C;&#x8BF7;&#x5BF9;&#x7167;&#x540E;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x7406;&#x89E3;&#x8FD9;&#x51E0;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;</p>
<ul>
<li>&#x53C2;&#x6570; 2&#xFF1A;&#x692D;&#x5706;&#x4E2D;&#x5FC3; (x,y)</li>
<li>&#x53C2;&#x6570; 3&#xFF1A;x/y &#x8F74;&#x7684;&#x957F;&#x5EA6;</li>
<li>&#x53C2;&#x6570; 4&#xFF1A;angle - &#x692D;&#x5706;&#x7684;&#x65CB;&#x8F6C;&#x89D2;&#x5EA6;</li>
<li>&#x53C2;&#x6570; 5&#xFF1A;startAngle - &#x692D;&#x5706;&#x7684;&#x8D77;&#x59CB;&#x89D2;&#x5EA6;</li>
<li>&#x53C2;&#x6570; 6&#xFF1A;endAngle - &#x692D;&#x5706;&#x7684;&#x7ED3;&#x675F;&#x89D2;&#x5EA6;</li>
</ul>
<blockquote>
<p>[!TIP]</p>
<p>OpenCV &#x4E2D;&#x539F;&#x70B9;&#x5728;&#x5DE6;&#x4E0A;&#x89D2;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x7684;&#x89D2;&#x5EA6;&#x662F;&#x4EE5;&#x987A;&#x65F6;&#x9488;&#x65B9;&#x5411;&#x8BA1;&#x7B97;&#x7684;&#x3002;</p>
</blockquote>
<pre><code class="lang-python"><span class="hljs-comment"># &#x5728;&#x56FE;&#x4E2D;&#x5FC3;&#x753B;&#x4E00;&#x4E2A;&#x586B;&#x5145;&#x7684;&#x534A;&#x5706;</span>
cv2.ellipse(img, (<span class="hljs-number">256</span>, <span class="hljs-number">256</span>), (<span class="hljs-number">100</span>, <span class="hljs-number">50</span>), <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">180</span>, (<span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>), <span class="hljs-number">-1</span>)
</code></pre>
<h3 id="826-&#x753B;&#x591A;&#x8FB9;&#x5F62;">8.2.6 &#x753B;&#x591A;&#x8FB9;&#x5F62;</h3>
<p>&#x753B;&#x591A;&#x8FB9;&#x5F62;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x4E00;&#x7CFB;&#x5217;&#x591A;&#x8FB9;&#x5F62;&#x7684;&#x9876;&#x70B9;&#x5750;&#x6807;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x4ECE;&#x7B2C;&#x4E00;&#x4E2A;&#x70B9;&#x5230;&#x7B2C;&#x4E8C;&#x4E2A;&#x70B9;&#x753B;&#x76F4;&#x7EBF;&#xFF0C;&#x518D;&#x4ECE;&#x7B2C;&#x4E8C;&#x4E2A;&#x70B9;&#x5230;&#x7B2C;&#x4E09;&#x4E2A;&#x70B9;&#x753B;&#x76F4;&#x7EBF;....</p>
<p>OpenCV &#x4E2D;&#x9700;&#x8981;&#x5148;&#x5C06;&#x591A;&#x8FB9;&#x5F62;&#x7684;&#x9876;&#x70B9;&#x5750;&#x6807;&#x53D8;&#x6210;&#x9876;&#x70B9;&#x6570; &#xD7;1&#xD7;2 &#x7EF4;&#x7684;&#x77E9;&#x9635;&#xFF0C;&#x518D;&#x6765;&#x7ED8;&#x5236;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x5B9A;&#x4E49;&#x56DB;&#x4E2A;&#x9876;&#x70B9;&#x5750;&#x6807;</span>
pts = np.array([[<span class="hljs-number">10</span>, <span class="hljs-number">5</span>],  [<span class="hljs-number">50</span>, <span class="hljs-number">10</span>], [<span class="hljs-number">70</span>, <span class="hljs-number">20</span>], [<span class="hljs-number">20</span>, <span class="hljs-number">30</span>]], np.int32)
<span class="hljs-comment"># &#x9876;&#x70B9;&#x4E2A;&#x6570;&#xFF1A;4&#xFF0C;&#x77E9;&#x9635;&#x53D8;&#x6210; 4*1*2 &#x7EF4;</span>
pts = pts.reshape((<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>))
cv2.polylines(img, [pts], <span class="hljs-keyword">True</span>, (<span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>))
</code></pre>
<p><code>cv2.polylines()</code>&#x7684;&#x53C2;&#x6570; 3 &#x5982;&#x679C;&#x662F; False &#x7684;&#x8BDD;&#xFF0C;&#x591A;&#x8FB9;&#x5F62;&#x5C31;&#x4E0D;&#x95ED;&#x5408;&#x3002;</p>
<blockquote>
<p>[!TIP]</p>
<p>&#x5982;&#x679C;&#x9700;&#x8981;&#x7ED8;&#x5236;&#x591A;&#x6761;&#x76F4;&#x7EBF;&#xFF0C;&#x4F7F;&#x7528; cv2.polylines() &#x8981;&#x6BD4; cv2.line() &#x9AD8;&#x6548;&#x5F88;&#x591A;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
</blockquote>
<pre><code class="lang-python"><span class="hljs-comment"># &#x4F7F;&#x7528; cv2.polylines() &#x753B;&#x591A;&#x6761;&#x76F4;&#x7EBF;</span>
line1 = np.array([[<span class="hljs-number">100</span>, <span class="hljs-number">20</span>],  [<span class="hljs-number">300</span>, <span class="hljs-number">20</span>]], np.int32).reshape((<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>))
line2 = np.array([[<span class="hljs-number">100</span>, <span class="hljs-number">60</span>],  [<span class="hljs-number">300</span>, <span class="hljs-number">60</span>]], np.int32).reshape((<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>))
line3 = np.array([[<span class="hljs-number">100</span>, <span class="hljs-number">100</span>],  [<span class="hljs-number">300</span>, <span class="hljs-number">100</span>]], np.int32).reshape((<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>))
cv2.polylines(img, [line1, line2, line3], <span class="hljs-keyword">True</span>, (<span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>))
</code></pre>
<h3 id="827-&#x6DFB;&#x52A0;&#x6587;&#x5B57;">8.2.7 &#x6DFB;&#x52A0;&#x6587;&#x5B57;</h3>
<p>&#x4F7F;&#x7528;<code>cv2.putText()</code>&#x6DFB;&#x52A0;&#x6587;&#x5B57;&#xFF0C;&#x5B83;&#x7684;&#x53C2;&#x6570;&#x4E5F;&#x6BD4;&#x8F83;&#x591A;&#xFF0C;&#x540C;&#x6837;&#x8BF7;&#x5BF9;&#x7167;&#x540E;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x7406;&#x89E3;&#x8FD9;&#x51E0;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;</p>
<ul>
<li>&#x53C2;&#x6570; 2&#xFF1A;&#x8981;&#x6DFB;&#x52A0;&#x7684;&#x6587;&#x672C;</li>
<li>&#x53C2;&#x6570; 3&#xFF1A;&#x6587;&#x5B57;&#x7684;&#x8D77;&#x59CB;&#x5750;&#x6807;&#xFF08;&#x5DE6;&#x4E0B;&#x89D2;&#x4E3A;&#x8D77;&#x70B9;&#xFF09;</li>
<li>&#x53C2;&#x6570; 4&#xFF1A;&#x5B57;&#x4F53;</li>
<li>&#x53C2;&#x6570; 5&#xFF1A;&#x6587;&#x5B57;&#x5927;&#x5C0F;&#xFF08;&#x7F29;&#x653E;&#x6BD4;&#x4F8B;&#xFF09;</li>
</ul>
<pre><code class="lang-python"><span class="hljs-comment"># &#x6DFB;&#x52A0;&#x6587;&#x5B57;</span>
font = cv2.FONT_HERSHEY_SIMPLEX
cv2.putText(img, <span class="hljs-string">&apos;ex2tron&apos;</span>, (<span class="hljs-number">10</span>, <span class="hljs-number">500</span>), font,
            <span class="hljs-number">4</span>, (<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>), <span class="hljs-number">2</span>, lineType=cv2.LINE_AA)
</code></pre>
<p>&#x5B57;&#x4F53;&#x53EF;&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.opencv.org/4.0.0/d6/d6e/group__imgproc__draw.html#ga0f9314ea6e35f99bb23f29567fc16e11" target="_blank">HersheyFonts</a>&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x8FD9;&#x91CC;&#x6709;&#x4E2A;&#x7EBF;&#x578B; lineType &#x53C2;&#x6570;&#xFF0C;LINE_AA &#x8868;&#x793A;&#x6297;&#x952F;&#x9F7F;&#x7EBF;&#x578B;&#xFF0C;&#x5177;&#x4F53;&#x53EF;&#x89C1;<a href="https://docs.opencv.org/3.3.1/d0/de1/group__core.html#gaf076ef45de481ac96e0ab3dc2c29a777" target="_blank">LineTypes</a></p>
<h2 id="83-&#x5C0F;&#x7ED3;">8.3 &#x5C0F;&#x7ED3;</h2>
<ul>
<li><code>cv2.line()</code>&#x753B;&#x76F4;&#x7EBF;&#xFF0C;<code>cv2.circle()</code>&#x753B;&#x5706;&#xFF0C;<code>cv2.rectangle()</code>&#x753B;&#x77E9;&#x5F62;&#xFF0C;<code>cv2.ellipse()</code>&#x753B;&#x692D;&#x5706;&#xFF0C;<code>cv2.polylines()</code>&#x753B;&#x591A;&#x8FB9;&#x5F62;&#xFF0C;<code>cv2.putText()</code>&#x6DFB;&#x52A0;&#x6587;&#x5B57;&#x3002;</li>
<li>&#x753B;&#x591A;&#x6761;&#x76F4;&#x7EBF;&#x65F6;&#xFF0C;<code>cv2.polylines()</code>&#x8981;&#x6BD4;<code>cv2.line()</code>&#x9AD8;&#x6548;&#x5F88;&#x591A;&#x3002;</li>
</ul>
<h2 id="84-&#x7EC3;&#x4E60;">8.4 &#x7EC3;&#x4E60;</h2>
<ol>
<li>&#x4F60;&#x80FD;&#x7528;&#x5DF2;&#x5B66;&#x7684;&#x7ED8;&#x56FE;&#x529F;&#x80FD;&#x753B;&#x51FA; OpenCV &#x7684; logo &#x5417;&#xFF1F;(&#x63D0;&#x793A;&#xFF1A;&#x692D;&#x5706;&#x548C;&#x5706;)</li>
</ol>
<p><img src="img/OpenCV_start/cv2_draw_opencv_logo.jpg" alt="OpenCV logo"></p>
<h2 id="85-&#x63A5;&#x53E3;&#x6587;&#x6863;">8.5 &#x63A5;&#x53E3;&#x6587;&#x6863;</h2>
<ul>
<li><a href="https://docs.opencv.org/4.0.0/d6/d6e/group__imgproc__draw.html#ga7078a9fae8c7e7d13d24dac2520ae4a2" target="_blank">cv2.line()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d6/d6e/group__imgproc__draw.html#gaf10604b069374903dbd0f0488cb43670" target="_blank">cv2.circle()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d6/d6e/group__imgproc__draw.html#ga07d2f74cadcf8e305e810ce8eed13bc9" target="_blank">cv2.rectangle()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d6/d6e/group__imgproc__draw.html#ga28b2267d35786f5f890ca167236cbc69" target="_blank">cv2.ellipse()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d6/d6e/group__imgproc__draw.html#ga5126f47f883d730f633d74f07456c576" target="_blank">cv2.putText()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d6/d6e/group__imgproc__draw.html#ga1ea127ffbbb7e0bfc4fd6fd2eb64263c" target="_blank">cv2.polylines()</a></li>
</ul>
<h1 id="1-&#x756A;&#x5916;&#x7BC7;&#xFF1A;&#x4EE3;&#x7801;&#x6027;&#x80FD;&#x4F18;&#x5316;">1 &#x756A;&#x5916;&#x7BC7;&#xFF1A;&#x4EE3;&#x7801;&#x6027;&#x80FD;&#x4F18;&#x5316;</h1>
<p>&#x5B66;&#x4E60;&#x5982;&#x4F55;&#x8BC4;&#x4F30;&#x548C;&#x4F18;&#x5316;&#x4EE3;&#x7801;&#x6027;&#x80FD;&#x3002;</p>
<p>&#x5B8C;&#x6210;&#x4E00;&#x9879;&#x4EFB;&#x52A1;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x9AD8;&#x6548;&#x5730;&#x5B8C;&#x6210;&#x66F4;&#x91CD;&#x8981;&#x3002;&#x56FE;&#x50CF;&#x5904;&#x7406;&#x662F;&#x5BF9;&#x77E9;&#x9635;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x6570;&#x636E;&#x91CF;&#x5DE8;&#x5927;&#x3002;&#x5982;&#x679C;&#x4EE3;&#x7801;&#x5199;&#x7684;&#x4E0D;&#x597D;&#xFF0C;&#x6027;&#x80FD;&#x5DEE;&#x8DDD;&#x5C06;&#x5F88;&#x5927;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x8282;&#x6211;&#x4EEC;&#x6765;&#x4E86;&#x89E3;&#x4E0B;&#x5982;&#x4F55;&#x8BC4;&#x4F30;&#x548C;&#x63D0;&#x5347;&#x4EE3;&#x7801;&#x6027;&#x80FD;&#x3002;</p>
<h2 id="11-&#x8BC4;&#x4F30;&#x4EE3;&#x7801;&#x8FD0;&#x884C;&#x65F6;&#x95F4;">1.1 &#x8BC4;&#x4F30;&#x4EE3;&#x7801;&#x8FD0;&#x884C;&#x65F6;&#x95F4;</h2>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2

start = cv2.getTickCount()
<span class="hljs-comment"># &#x8FD9;&#x91CC;&#x5199;&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;...</span>
end = cv2.getTickCount()
print((end - start) / cv2.getTickFrequency())
</code></pre>
<p>&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5C31;&#x662F;&#x7528;&#x6765;&#x6D4B;&#x91CF;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x7684;&#xFF08;&#x5355;&#x4F4D;&#xFF1A;s&#xFF09;&#xFF0C;&#x5176;&#x4E2D;<code>cv2.getTickCount()</code>&#x51FD;&#x6570;&#x5F97;&#x5230;&#x7535;&#x8111;&#x542F;&#x52A8;&#x4EE5;&#x6765;&#x7684;&#x65F6;&#x949F;&#x5468;&#x671F;&#x6570;&#xFF0C;<code>cv2.getTickFrequency()</code>&#x8FD4;&#x56DE;&#x4F60;&#x7535;&#x8111;&#x7684;&#x4E3B;&#x9891;&#xFF0C;&#x524D;&#x540E;&#x76F8;&#x51CF;&#x518D;&#x9664;&#x4EE5;&#x4E3B;&#x9891;&#x5C31;&#x662F;&#x4F60;&#x4EE3;&#x7801;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#xFF08;&#x8FD9;&#x6837;&#x89E3;&#x91CA;&#x5E76;&#x4E0D;&#x5B8C;&#x5168;&#x51C6;&#x786E;&#xFF0C;&#x4F46;&#x80FD;&#x7406;&#x89E3;&#x5C31;&#x884C;&#xFF09;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528; Python &#x4E2D;&#x7684; time &#x6A21;&#x5757;&#x8BA1;&#x65F6;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> time

<span class="hljs-comment"># Python Version &gt;= 3.8</span>
start = time.perf_counter()
<span class="hljs-comment"># &#x8FD9;&#x91CC;&#x5199;&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;...</span>
end = time.perf_counter()
print(end - start)
</code></pre>
<blockquote>
<p>[!TIP]</p>
<p>&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x7684;&#x662F; <a href="https://baike.baidu.com/item/ipython" target="_blank">IPython</a> &#x6216; <a href="https://baike.baidu.com/item/Jupyter" target="_blank">Jupyter Notebook</a> &#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF0C;&#x6027;&#x80FD;&#x5206;&#x6790;&#x5C06;&#x4F1A;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#xFF0C;&#x8BE6;&#x60C5;&#x8BF7;&#x53C2;&#x8003;&#xFF1A;<a href="http://pynash.org/2013/03/06/timing-and-profiling/" target="_blank">Timing and Profiling in IPython</a></p>
</blockquote>
<h2 id="12-&#x4F18;&#x5316;&#x539F;&#x5219;">1.2 &#x4F18;&#x5316;&#x539F;&#x5219;</h2>
<ul>
<li>&#x6570;&#x636E;&#x5143;&#x7D20;&#x5C11;&#x65F6;&#x7528; Python &#x8BED;&#x6CD5;&#xFF0C;&#x6570;&#x636E;&#x5143;&#x7D20;&#x591A;&#x65F6;&#x7528; Numpy&#xFF1A;</li>
</ul>
<pre><code class="lang-python">x = <span class="hljs-number">10</span>
z = np.uint8([<span class="hljs-number">10</span>])

<span class="hljs-comment"># &#x5C1D;&#x8BD5;&#x6BD4;&#x8F83;&#x4E0B;&#x9762;&#x4E09;&#x53E5;&#x8BDD;&#x5404;&#x81EA;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x95F4;</span>
y = x * x * x   <span class="hljs-comment"># (1.6410249677846285e-06)</span>
y = x**<span class="hljs-number">3</span>        <span class="hljs-comment"># (2.461537451676943e-06)</span>
y = z * z * z   <span class="hljs-comment"># &#x6700;&#x6162; (3.1179474387907945e-05)</span>
</code></pre>
<p>&#x6240;&#x4EE5; Numpy &#x7684;&#x8FD0;&#x884C;&#x901F;&#x5EA6;&#x5E76;&#x4E0D;&#x4E00;&#x5B9A;&#x6BD4; Python &#x672C;&#x8EAB;&#x8BED;&#x6CD5;&#x5FEB;&#xFF0C;&#x5143;&#x7D20;&#x6570;&#x91CF;&#x8F83;&#x5C11;&#x65F6;&#xFF0C;&#x8BF7;&#x7528; Python &#x672C;&#x8EAB;&#x683C;&#x5F0F;&#x3002;</p>
<ul>
<li>&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x4F7F;&#x7528;&#x5FAA;&#x73AF;&#xFF0C;&#x5C24;&#x5176;&#x5D4C;&#x5957;&#x5FAA;&#x73AF;&#xFF0C;&#x56E0;&#x4E3A;&#x6781;&#x5176;&#x6162;&#xFF01;&#xFF01;&#xFF01;</li>
<li>&#x4F18;&#x5148;&#x4F7F;&#x7528; OpenCV/Numpy &#x4E2D;&#x5C01;&#x88C5;&#x597D;&#x7684;&#x51FD;&#x6570;</li>
<li>&#x5C3D;&#x91CF;&#x5C06;&#x6570;&#x636E;&#x5411;&#x91CF;&#x5316;&#xFF0C;&#x53D8;&#x6210; Numpy &#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;</li>
<li>&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x6570;&#x7EC4;&#x7684;&#x590D;&#x5236;&#x64CD;&#x4F5C;</li>
</ul>
<h2 id="13-&#x63A5;&#x53E3;&#x6587;&#x6863;">1.3 &#x63A5;&#x53E3;&#x6587;&#x6863;</h2>
<ul>
<li><a href="https://docs.opencv.org/4.0.0/db/de0/group__core__utils.html#gae73f58000611a1af25dd36d496bf4487" target="_blank">cv2.getTickCount()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/db/de0/group__core__utils.html#ga705441a9ef01f47acdc55d87fbe5090c" target="_blank">cv2.getTickFrequency()</a></li>
</ul>
<h2 id="14-&#x5F15;&#x7528;">1.4 &#x5F15;&#x7528;</h2>
<ul>
<li><a href="https://wiki.python.org/moin/PythonSpeed/PerformanceTips" target="_blank">Python Optimization Techniques</a></li>
<li><a href="http://pynash.org/2013/03/06/timing-and-profiling/" target="_blank">Timing and Profiling in IPython</a></li>
<li><a href="http://www.scipy-lectures.org/advanced/advanced_numpy/index.html#advanced-numpy" target="_blank">Advanced Numpy</a></li>
</ul>
<h1 id="2-&#x756A;&#x5916;&#x7BC7;&#xFF1A;&#x65E0;&#x635F;&#x4FDD;&#x5B58;&#x548C;-matplotlib">2 &#x756A;&#x5916;&#x7BC7;&#xFF1A;&#x65E0;&#x635F;&#x4FDD;&#x5B58;&#x548C; Matplotlib</h1>
<p><img src="img/OpenCV_start/cv2_matplotlib_show_gray_image.jpg" alt=""></p>
<p>&#x4E86;&#x89E3;&#x5E38;&#x7528;&#x56FE;&#x7247;&#x683C;&#x5F0F;&#x548C; OpenCV &#x9AD8;&#x8D28;&#x91CF;&#x4FDD;&#x5B58;&#x56FE;&#x7247;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5B66;&#x4E60;&#x5982;&#x4F55;&#x4F7F;&#x7528; Matplotlib &#x663E;&#x793A; OpenCV &#x56FE;&#x50CF;&#x3002;</p>
<h2 id="21-&#x65E0;&#x635F;&#x4FDD;&#x5B58;">2.1 &#x65E0;&#x635F;&#x4FDD;&#x5B58;</h2>
<p>&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x6211;&#x4EEC;&#x65E5;&#x5E38;&#x770B;&#x5230;&#x7684;&#x5927;&#x90E8;&#x5206;&#x56FE;&#x7247;&#x90FD;&#x662F;&#x538B;&#x7F29;&#x8FC7;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x90FD;&#x6709;&#x54EA;&#x4E9B;&#x5E38;&#x89C1;&#x7684;&#x56FE;&#x7247;&#x683C;&#x5F0F;&#x5462;&#xFF1F;</p>
<h3 id="211-&#x5E38;&#x7528;&#x56FE;&#x7247;&#x683C;&#x5F0F;">2.1.1 &#x5E38;&#x7528;&#x56FE;&#x7247;&#x683C;&#x5F0F;</h3>
<ul>
<li><a href="https://baike.baidu.com/item/BMP/35116" target="_blank">bmp</a><ul>
<li>&#x5168;&#x79F0;&#xFF1A;Bitmap</li>
<li><strong>&#x4E0D;&#x538B;&#x7F29;</strong></li>
</ul>
</li>
<li><a href="https://baike.baidu.com/item/JPEG" target="_blank">jpg</a><ul>
<li>&#x5168;&#x79F0;&#xFF1A;Joint Photographic Experts Group</li>
<li><strong>&#x6709;&#x635F;&#x538B;&#x7F29;&#x65B9;&#x5F0F;</strong></li>
</ul>
</li>
<li><a href="https://baike.baidu.com/item/PNG" target="_blank">png</a><ul>
<li>&#x5168;&#x79F0;&#xFF1A;Portable Network Graphics</li>
<li><strong>&#x65E0;&#x635F;&#x538B;&#x7F29;&#x65B9;&#x5F0F;</strong></li>
</ul>
</li>
</ul>
<p>&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;&#x540C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x6210;&#x4E0D;&#x540C;&#x7684;&#x683C;&#x5F0F;&#x540E;&#xFF0C;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x4E0A; bmp &#x80AF;&#x5B9A;&#x662F;&#x6700;&#x5927;&#x7684;&#xFF0C;&#x800C; png &#x548C; jpg&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x538B;&#x7F29;&#x6BD4;&#x7ED3;&#x679C;&#x4F1A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002;&#x53EF;&#x4EE5;&#x7528;&#x753B;&#x56FE;&#x5DE5;&#x5177;&#x65B0;&#x5EFA;&#x4E00;&#x526F; 100&#xD7;100 &#x7684;&#x56FE;&#x50CF;&#xFF0C;&#x5206;&#x522B;&#x4FDD;&#x5B58;&#x6210;&#x8FD9;&#x4E09;&#x79CD;&#x683C;&#x5F0F;&#x6765;&#x9A8C;&#x8BC1;&#xFF1A;</p>
<p><img src="img/OpenCV_start/cv2_high_save_mspaint_format.jpg" alt=""></p>
<h3 id="212-&#x9AD8;&#x8D28;&#x91CF;&#x4FDD;&#x5B58;">2.1.2 &#x9AD8;&#x8D28;&#x91CF;&#x4FDD;&#x5B58;</h3>
<p>&#x7528; cv2.imwrite() &#x4FDD;&#x5B58;&#x56FE;&#x7247;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F20;&#x5165;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x7528;&#x4E8E;&#x63A7;&#x5236;&#x4FDD;&#x5B58;&#x8D28;&#x91CF;&#xFF1A;</p>
<ul>
<li><code>cv2.IMWRITE_JPEG_QUALITY</code>&#xFF1A;jpg &#x8D28;&#x91CF;&#x63A7;&#x5236;&#xFF0C;&#x53D6;&#x503C; 0~100&#xFF0C;&#x503C;&#x8D8A;&#x5927;&#xFF0C;&#x8D28;&#x91CF;&#x8D8A;&#x597D;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A; 95</li>
<li><code>cv2.IMWRITE_PNG_COMPRESSION</code>&#xFF1A;png &#x8D28;&#x91CF;&#x63A7;&#x5236;&#xFF0C;&#x53D6;&#x503C; 0~9&#xFF0C;&#x503C;&#x8D8A;&#x5927;&#xFF0C;&#x538B;&#x7F29;&#x6BD4;&#x8D8A;&#x9AD8;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A; 1</li>
</ul>
<p>&#x8FD8;&#x6709;&#x8BF8;&#x5982;<code>CV_IMWRITE_WEBP_QUALITY</code>&#x7684;&#x53C2;&#x91CF;&#xFF0C;&#x4E0D;&#x5E38;&#x7528;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;&#xFF1A;<a href="https://docs.opencv.org/4.0.0/d4/da8/group__imgcodecs.html#ga292d81be8d76901bff7988d18d2b42ac" target="_blank">ImwriteFlags</a>&#x3002;</p>
<p>&#x4E3E;&#x4F8B;&#x6765;&#x8BF4;&#xFF0C;&#x539F;&#x56FE; lena.jpg &#x7684;&#x5206;&#x8FA8;&#x7387;&#x662F; 350&#xD7;350&#xFF0C;&#x5927;&#x5C0F; 49.7KB&#x3002;&#x6211;&#x4EEC;&#x628A;&#x5B83;&#x8F6C;&#x6210;&#x4E0D;&#x540C;&#x683C;&#x5F0F;&#x770B;&#x4E0B;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2

new_img = cv2.imread(<span class="hljs-string">&apos;lena.jpg&apos;</span>)

<span class="hljs-comment"># bmp</span>
cv2.imwrite(<span class="hljs-string">&apos;img_bmp.bmp&apos;</span>,new_img) <span class="hljs-comment"># &#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF1A;359KB</span>

<span class="hljs-comment"># jpg &#x9ED8;&#x8BA4; 95% &#x8D28;&#x91CF;</span>
cv2.imwrite(<span class="hljs-string">&apos;img_jpg95.jpg&apos;</span>,new_img) <span class="hljs-comment"># &#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF1A;52.3KB</span>
<span class="hljs-comment"># jpg 20% &#x8D28;&#x91CF;</span>
cv2.imwrite(<span class="hljs-string">&apos;img_jpg20.jpg&apos;</span>,new_img,[int(cv2.IMWRITE_JPEG_QUALITY),<span class="hljs-number">20</span>]) <span class="hljs-comment"># &#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF1A;8.01KB</span>
<span class="hljs-comment"># jpg 100% &#x8D28;&#x91CF;</span>
cv2.imwrite(<span class="hljs-string">&apos;img_jpg100.jpg&apos;</span>,new_img,[int(cv2.IMWRITE_JPEG_QUALITY),<span class="hljs-number">100</span>]) <span class="hljs-comment"># &#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF1A;82.5KB</span>

<span class="hljs-comment"># png &#x9ED8;&#x8BA4; 1 &#x538B;&#x7F29;&#x6BD4;</span>
cv2.imwrite(<span class="hljs-string">&apos;img_png1.png&apos;</span>,new_img) <span class="hljs-comment"># &#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF1A;240KB</span>
<span class="hljs-comment"># png 9 &#x538B;&#x7F29;&#x6BD4;</span>
cv2.imwrite(<span class="hljs-string">&apos;img_png9.png&apos;</span>,new_img,[int(cv2.IMWRITE_PNG_COMPRESSION),<span class="hljs-number">9</span>]) <span class="hljs-comment"># &#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF1A;207KB</span>
</code></pre>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF1A;</p>
<ul>
<li>bmp &#x6587;&#x4EF6;&#x662F;&#x6700;&#x5927;&#x7684;&#xFF0C;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x538B;&#x7F29;&#xFF08;1 &#x4E2A;&#x50CF;&#x7D20;&#x70B9; 1byte&#xFF0C;3 &#x901A;&#x9053;&#x7684;&#x5F69;&#x8272;&#x56FE;&#x603B;&#x5927;&#x5C0F;&#xFF1A;350&#xD7;350&#xD7;3/1024 &#x2248; 359 KB&#xFF09;</li>
<li>jpg/png &#x672C;&#x8EAB;&#x5C31;&#x6709;&#x538B;&#x7F29;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x7B97;&#x662F; 100% &#x7684;&#x8D28;&#x91CF;&#x4FDD;&#x5B58;&#xFF0C;&#x4F53;&#x79EF;&#x4E5F;&#x6BD4; bmp &#x5C0F;&#x5F88;&#x591A;</li>
<li>jpg &#x7684;&#x5BB9;&#x91CF;&#x4F18;&#x52BF;&#x5F88;&#x660E;&#x663E;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x5B83;&#x4E3A;&#x4EC0;&#x4E48;&#x5982;&#x6B64;&#x6D41;&#x884C;&#x7684;&#x539F;&#x56E0;</li>
</ul>
<blockquote>
<p>&#x601D;&#x8003;&#xFF1A;&#x4E3A;&#x4EC0;&#x4E48;&#x539F;&#x56FE; 49.7KB&#xFF0C;&#x4FDD;&#x5B58;&#x6210; bmp &#x6216;&#x5176;&#x4ED6;&#x683C;&#x5F0F;&#x53CD;&#x800C;&#x5927;&#x4E86;&#x5462;&#xFF1F;</p>
</blockquote>
<p>&#x8FD9;&#x662F;&#x4E2A;&#x5F88;&#x6709;&#x8DA3;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5F88;&#x591A;&#x7AE5;&#x978B;&#x90FD;&#x95EE;&#x8FC7;&#x7B14;&#x8005;&#x3002;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x660E;&#x786E;&#x7684;&#x662F;&#x4FDD;&#x5B58;&#x65B0;&#x683C;&#x5F0F;&#x65F6;&#xFF0C;<strong>&#x5BB9;&#x91CF;&#x5927;&#x5C0F;&#x8DDF;&#x539F;&#x56FE;&#x7684;&#x5BB9;&#x91CF;&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x5173;&#x7CFB;&#xFF0C;&#x800C;&#x662F;&#x53D6;&#x51B3;&#x4E8E;&#x539F;&#x56FE;&#x7684;&#x5206;&#x8FA8;&#x7387;&#x5927;&#x5C0F;&#x548C;&#x539F;&#x56FE;&#x672C;&#x8EAB;&#x7684;&#x5185;&#x5BB9;&#xFF08;&#x538B;&#x7F29;&#x65B9;&#x5F0F;&#xFF09;</strong>&#x3002;&#x6240;&#x4EE5; lena.jpg &#x4FDD;&#x5B58;&#x6210;&#x4E0D;&#x538B;&#x7F29;&#x7684; bmp &#x683C;&#x5F0F;&#x65F6;&#xFF0C;&#x5BB9;&#x91CF;&#x5927;&#x5C0F;&#x5C31;&#x662F;&#x56FA;&#x5B9A;&#x7684; 350&#xD7;350&#xD7;3/1024 &#x2248; 359 KB&#xFF1B;&#x53E6;&#x5916;&#xFF0C;&#x5BB9;&#x91CF;&#x53D8;&#x5927;&#x4E0D;&#x4EE3;&#x8868;&#x753B;&#x8D28;&#x63D0;&#x5347;&#x5662;&#xFF0C;&#x4E0D;&#x7136;&#x5C31;&#x9006;&#x5929;&#x4E86;~~~</p>
<h2 id="22-matplotlib">2.2 Matplotlib</h2>
<p>Matplotlib &#x662F; Python &#x7684;&#x4E00;&#x4E2A;&#x5F88;&#x5E38;&#x7528;&#x7684;&#x7ED8;&#x56FE;&#x5E93;&#xFF0C;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x53EF;&#x4EE5;&#x53BB;<a href="http://www.matplotlib.org/" target="_blank">&#x5B98;&#x7F51;</a>&#x5B66;&#x4E60;&#x66F4;&#x591A;&#x5185;&#x5BB9;&#x3002;</p>
<h3 id="221-&#x663E;&#x793A;&#x7070;&#x5EA6;&#x56FE;">2.2.1 &#x663E;&#x793A;&#x7070;&#x5EA6;&#x56FE;</h3>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

img = cv2.imread(<span class="hljs-string">&apos;lena.jpg&apos;</span>, <span class="hljs-number">0</span>)

<span class="hljs-comment"># &#x7070;&#x5EA6;&#x56FE;&#x663E;&#x793A;&#xFF0C;cmap(color map) &#x8BBE;&#x7F6E;&#x4E3A; gray</span>
plt.imshow(img, cmap=<span class="hljs-string">&apos;gray&apos;</span>)
plt.show()
</code></pre>
<p>&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="img/OpenCV_start/cv2_matplotlib_show_gray_image.jpg" alt=""></p>
<h3 id="222-&#x663E;&#x793A;&#x5F69;&#x8272;&#x56FE;">2.2.2 &#x663E;&#x793A;&#x5F69;&#x8272;&#x56FE;</h3>
<p><strong>OpenCV &#x4E2D;&#x7684;&#x56FE;&#x50CF;&#x662F;&#x4EE5; BGR &#x7684;&#x901A;&#x9053;&#x987A;&#x5E8F;&#x5B58;&#x50A8;&#x7684;</strong>&#xFF0C;&#x4F46; Matplotlib &#x662F;&#x4EE5; RGB &#x6A21;&#x5F0F;&#x663E;&#x793A;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x76F4;&#x63A5;&#x5728; Matplotlib &#x4E2D;&#x663E;&#x793A; OpenCV &#x56FE;&#x50CF;&#x4F1A;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x8F6C;&#x6362;&#x4E00;&#x4E0B;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

img = cv2.imread(<span class="hljs-string">&apos;lena.jpg&apos;</span>)
img2 = img[:, :, ::<span class="hljs-number">-1</span>]
<span class="hljs-comment"># &#x6216;&#x4F7F;&#x7528;</span>
<span class="hljs-comment"># img2 = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)</span>

<span class="hljs-comment"># &#x663E;&#x793A;&#x4E0D;&#x6B63;&#x786E;&#x7684;&#x56FE;</span>
plt.subplot(<span class="hljs-number">121</span>),plt.imshow(img)

<span class="hljs-comment"># &#x663E;&#x793A;&#x6B63;&#x786E;&#x7684;&#x56FE;</span>
plt.subplot(<span class="hljs-number">122</span>)
plt.xticks([]), plt.yticks([]) <span class="hljs-comment"># &#x9690;&#x85CF; x &#x548C; y &#x8F74;</span>
plt.imshow(img2)

plt.show()
</code></pre>
<blockquote>
<p>[!TIP]</p>
<p><code>img[:,:,0]</code>&#x8868;&#x793A;&#x56FE;&#x7247;&#x7684;&#x84DD;&#x8272;&#x901A;&#x9053;&#xFF0C;<code>img[:,:,::-1]</code>&#x5C31;&#x8868;&#x793A; BGR &#x7FFB;&#x8F6C;&#xFF0C;&#x53D8;&#x6210; RGB&#xFF0C;&#x8BF4;&#x660E;&#x4E00;&#x4E0B;</p>
</blockquote>
<p>&#x719F;&#x6089; Python &#x7684;&#x7AE5;&#x978B;&#x5E94;&#x8BE5;&#x77E5;&#x9053;&#xFF0C;&#x5BF9;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32; s &#x7FFB;&#x8F6C;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x5199;&#xFF1A;<code>s[::-1]</code>&#xFF0C;&apos;abc&apos;&#x53D8;&#x6210;&apos;cba&apos;&#xFF0C;-1 &#x8868;&#x793A;&#x9006;&#x5E8F;&#x3002;&#x56FE;&#x7247;&#x662F;&#x4E8C;&#x7EF4;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5B8C;&#x6574;&#x5730;&#x590D;&#x5236;&#x4E00;&#x526F;&#x56FE;&#x50CF;&#x5C31;&#x662F;&#xFF1A;</p>
<pre><code class="lang-python">img2 = img[:,:] <span class="hljs-comment"># &#x5199;&#x5168;&#x5C31;&#x662F;&#xFF1A;img2 = img[0:height,0:width]</span>
</code></pre>
<p>&#x800C;&#x56FE;&#x7247;&#x662F;&#x6709;&#x4E09;&#x4E2A;&#x901A;&#x9053;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x957F;&#x5EA6;&#x4E3A; 3 &#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x6240;&#x4EE5;&#x901A;&#x9053;&#x7FFB;&#x8F6C;&#x4E0E;&#x56FE;&#x7247;&#x590D;&#x5236;&#x7EC4;&#x5408;&#x8D77;&#x6765;&#x4FBF;&#x662F;<code>img[:,:,::-1]</code>&#x3002;</p>
<p>&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="img/OpenCV_start/cv2_matplotlib_show_color_image.jpg" alt=""></p>
<h3 id="223-&#x52A0;&#x8F7D;&#x548C;&#x4FDD;&#x5B58;&#x56FE;&#x7247;">2.2.3 &#x52A0;&#x8F7D;&#x548C;&#x4FDD;&#x5B58;&#x56FE;&#x7247;</h3>
<p>&#x4E0D;&#x4F7F;&#x7528; OpenCV&#xFF0C;Matplotlib &#x4E5F;&#x53EF;&#x4EE5;&#x52A0;&#x8F7D;&#x548C;&#x4FDD;&#x5B58;&#x56FE;&#x7247;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> matplotlib.image <span class="hljs-keyword">as</span> pli
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt


img = pli.imread(<span class="hljs-string">&apos;lena.jpg&apos;</span>)
plt.imshow(img)

<span class="hljs-comment"># &#x4FDD;&#x5B58;&#x56FE;&#x7247;&#xFF0C;&#x9700;&#x653E;&#x5728; show() &#x51FD;&#x6570;&#x4E4B;&#x524D;</span>
plt.savefig(<span class="hljs-string">&apos;lena2.jpg&apos;</span>)
plt.show()
</code></pre>
<h2 id="23-&#x63A5;&#x53E3;&#x6587;&#x6863;">2.3 &#x63A5;&#x53E3;&#x6587;&#x6863;</h2>
<ul>
<li><a href="https://docs.opencv.org/4.0.0/d4/da8/group__imgcodecs.html#gabbc7ef1aa2edfaa87772f1202d67e0ce" target="_blank">cv2.imwrite()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d4/da8/group__imgcodecs.html#ga292d81be8d76901bff7988d18d2b42ac" target="_blank">ImwriteFlags</a></li>
</ul>
<h2 id="24-&#x5F15;&#x7528;">2.4 &#x5F15;&#x7528;</h2>
<ul>
<li><a href="https://segmentfault.com/a/1190000013589397" target="_blank">&#x804A;&#x4E00;&#x804A;&#x51E0;&#x79CD;&#x5E38;&#x7528; web &#x56FE;&#x7247;&#x683C;&#x5F0F;</a></li>
<li><a href="http://www.matplotlib.org/" target="_blank">Matplotlib &#x5B98;&#x7F51;</a></li>
</ul>
<h1 id="3-&#x756A;&#x5916;&#x7BC7;&#xFF1A;&#x6ED1;&#x52A8;&#x6761;">3 &#x756A;&#x5916;&#x7BC7;&#xFF1A;&#x6ED1;&#x52A8;&#x6761;</h1>
<p><img src="img/OpenCV_start/cv2_track_bar_rgb.jpg" alt=""></p>
<p>&#x5B66;&#x4E60;&#x4F7F;&#x7528;&#x6ED1;&#x52A8;&#x6761;&#x52A8;&#x6001;&#x8C03;&#x6574;&#x53C2;&#x6570;&#x3002;</p>
<h2 id="31-&#x6ED1;&#x52A8;&#x6761;&#x7684;&#x4F7F;&#x7528;">3.1 &#x6ED1;&#x52A8;&#x6761;&#x7684;&#x4F7F;&#x7528;</h2>
<p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6ED1;&#x52A8;&#x6761;&#xFF0C;&#x5982;<code>cv2.createTrackbar(&apos;R&apos;,&apos;image&apos;,0,255,call_back)</code>&#xFF0C;&#x5176;&#x4E2D;</p>
<ul>
<li>&#x53C2;&#x6570; 1&#xFF1A;&#x6ED1;&#x52A8;&#x6761;&#x7684;&#x540D;&#x79F0;</li>
<li>&#x53C2;&#x6570; 2&#xFF1A;&#x6240;&#x5728;&#x7A97;&#x53E3;&#x7684;&#x540D;&#x79F0;</li>
<li>&#x53C2;&#x6570; 3&#xFF1A;&#x5F53;&#x524D;&#x7684;&#x503C;</li>
<li>&#x53C2;&#x6570; 4&#xFF1A;&#x6700;&#x5927;&#x503C;</li>
<li>&#x53C2;&#x6570; 5&#xFF1A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x540D;&#x79F0;&#xFF0C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x9ED8;&#x8BA4;&#x6709;&#x4E00;&#x4E2A;&#x8868;&#x793A;&#x5F53;&#x524D;&#x503C;&#x7684;&#x53C2;&#x6570;</li>
</ul>
<p>&#x521B;&#x5EFA;&#x597D;&#x4E4B;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E2D;&#x83B7;&#x53D6;&#x6ED1;&#x52A8;&#x6761;&#x7684;&#x503C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#xFF1A;<code>cv2.getTrackbarPos()</code>&#x5F97;&#x5230;&#xFF0C;&#x5176;&#x4E2D;&#xFF0C;&#x53C2;&#x6570; 1 &#x662F;&#x6ED1;&#x52A8;&#x6761;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x53C2;&#x6570; 2 &#x662F;&#x7A97;&#x53E3;&#x7684;&#x540D;&#x79F0;&#x3002;</p>
<h2 id="32-rgb-&#x8C03;&#x8272;&#x677F;">3.2 RGB &#x8C03;&#x8272;&#x677F;</h2>
<p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A; RGB &#x7684;&#x8C03;&#x8272;&#x677F;&#xFF0C;&#x7406;&#x89E3;&#x4E0B;&#x6ED1;&#x52A8;&#x6761;&#x7684;&#x7528;&#x6CD5;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># &#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;x &#x8868;&#x793A;&#x6ED1;&#x5757;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x672C;&#x4F8B;&#x6682;&#x4E0D;&#x4F7F;&#x7528;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">nothing</span><span class="hljs-params">(x)</span>:</span>
    <span class="hljs-keyword">pass</span>

img = np.zeros((<span class="hljs-number">300</span>, <span class="hljs-number">512</span>, <span class="hljs-number">3</span>), np.uint8)
cv2.namedWindow(<span class="hljs-string">&apos;image&apos;</span>)

<span class="hljs-comment"># &#x521B;&#x5EFA; RGB &#x4E09;&#x4E2A;&#x6ED1;&#x52A8;&#x6761;</span>
cv2.createTrackbar(<span class="hljs-string">&apos;R&apos;</span>, <span class="hljs-string">&apos;image&apos;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, nothing)
cv2.createTrackbar(<span class="hljs-string">&apos;G&apos;</span>, <span class="hljs-string">&apos;image&apos;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, nothing)
cv2.createTrackbar(<span class="hljs-string">&apos;B&apos;</span>, <span class="hljs-string">&apos;image&apos;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, nothing)

<span class="hljs-keyword">while</span>(<span class="hljs-keyword">True</span>):
    cv2.imshow(<span class="hljs-string">&apos;image&apos;</span>, img)
    <span class="hljs-keyword">if</span> cv2.waitKey(<span class="hljs-number">1</span>) == <span class="hljs-number">27</span>:
        <span class="hljs-keyword">break</span>

    <span class="hljs-comment"># &#x83B7;&#x53D6;&#x6ED1;&#x5757;&#x7684;&#x503C;</span>
    r = cv2.getTrackbarPos(<span class="hljs-string">&apos;R&apos;</span>, <span class="hljs-string">&apos;image&apos;</span>)
    g = cv2.getTrackbarPos(<span class="hljs-string">&apos;G&apos;</span>, <span class="hljs-string">&apos;image&apos;</span>)
    b = cv2.getTrackbarPos(<span class="hljs-string">&apos;B&apos;</span>, <span class="hljs-string">&apos;image&apos;</span>)
    <span class="hljs-comment"># &#x8BBE;&#x5B9A; img &#x7684;&#x989C;&#x8272;</span>
    img[:] = [b, g, r]
</code></pre>
<p><img src="img/OpenCV_start/cv2_track_bar_rgb.jpg" alt=""></p>
<h2 id="33-&#x5C0F;&#x7ED3;">3.3 &#x5C0F;&#x7ED3;</h2>
<ul>
<li><code>cv2.createTrackbar()</code>&#x7528;&#x6765;&#x521B;&#x5EFA;&#x6ED1;&#x52A8;&#x6761;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E2D;&#x6216;&#x4F7F;&#x7528;<code>cv2.getTrackbarPos()</code>&#x5F97;&#x5230;&#x6ED1;&#x5757;&#x7684;&#x4F4D;&#x7F6E;</li>
</ul>
<h2 id="34-&#x63A5;&#x53E3;&#x6587;&#x6863;">3.4 &#x63A5;&#x53E3;&#x6587;&#x6863;</h2>
<ul>
<li><a href="https://docs.opencv.org/4.0.0/d7/dfc/group__highgui.html#gaf78d2155d30b728fc413803745b67a9b" target="_blank">cv2.createTrackbar()</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d7/dfc/group__highgui.html#ga122632e9e91b9ec06943472c55d9cda8" target="_blank">cv2.getTrackbarPos()</a></li>
</ul>
<h1 id="4-&#x756A;&#x5916;&#x7BC7;&#xFF1A;otsu-&#x9608;&#x503C;&#x6CD5;">4 &#x756A;&#x5916;&#x7BC7;&#xFF1A;Otsu &#x9608;&#x503C;&#x6CD5;</h1>
<p><img src="img/OpenCV_start/cv2_bimodal_image_two_peaks.jpg" alt=""></p>
<p>&#x5927;&#x90E8;&#x5206;&#x56FE;&#x50CF;&#x5904;&#x7406;&#x4EFB;&#x52A1;&#x90FD;&#x9700;&#x8981;&#x5148;&#x8FDB;&#x884C;&#x4E8C;&#x503C;&#x5316;&#x64CD;&#x4F5C;&#xFF0C;&#x9608;&#x503C;&#x7684;&#x9009;&#x53D6;&#x5F88;&#x5173;&#x952E;&#xFF0C;Otsu &#x9608;&#x503C;&#x6CD5;&#x4F1A;&#x81EA;&#x52A8;&#x8BA1;&#x7B97;&#x9608;&#x503C;&#x3002;</p>
<p>Otsu &#x9608;&#x503C;&#x6CD5;&#xFF08;&#x65E5;&#x672C;&#x4EBA;&#x5927;&#x6D25;&#x5C55;&#x4E4B;&#x63D0;&#x51FA;&#x7684;&#xFF0C;&#x4E5F;&#x53EF;&#x79F0;&#x5927;&#x6D25;&#x7B97;&#x6CD5;&#xFF09;&#x975E;&#x5E38;&#x9002;&#x7528;&#x4E8E;&#x53CC;&#x5CF0;&#x56FE;&#x7247;&#xFF0C;&#x5565;&#x610F;&#x601D;&#x5462;&#xFF1F;</p>
<blockquote>
<p><a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=4310076" target="_blank">Otsu N. A threshold selection method from gray-level histograms[J]. IEEE transactions on systems, man, and cybernetics, 1979, 9(1): 62-66.</a></p>
</blockquote>
<h2 id="41-&#x4EC0;&#x4E48;&#x662F;&#x53CC;&#x5CF0;&#x56FE;&#x7247;&#xFF1F;">4.1 &#x4EC0;&#x4E48;&#x662F;&#x53CC;&#x5CF0;&#x56FE;&#x7247;&#xFF1F;</h2>
<p>&#x53CC;&#x5CF0;&#x56FE;&#x7247;&#x5C31;&#x662F;&#x6307;&#x56FE;&#x7247;&#x7684;&#x7070;&#x5EA6;&#x76F4;&#x65B9;&#x56FE;&#x4E0A;&#x6709;&#x4E24;&#x4E2A;&#x5CF0;&#x503C;&#xFF0C;&#x76F4;&#x65B9;&#x56FE;&#x5C31;&#x662F;&#x6BCF;&#x4E2A;&#x503C;&#xFF08;0~255&#xFF09;&#x7684;&#x50CF;&#x7D20;&#x70B9;&#x4E2A;&#x6570;&#x7EDF;&#x8BA1;&#xFF0C;&#x540E;&#x9762;&#x4F1A;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x3002;</p>
<p><img src="img/OpenCV_start/cv2_bimodal_image_two_peaks.jpg" alt=""></p>
<p>Otsu &#x7B97;&#x6CD5;&#x5047;&#x8BBE;&#x8FD9;&#x526F;&#x56FE;&#x7247;&#x7531;&#x524D;&#x666F;&#x8272;&#x548C;&#x80CC;&#x666F;&#x8272;&#x7EC4;&#x6210;&#xFF0C;&#x901A;&#x8FC7;&#x7EDF;&#x8BA1;&#x5B66;&#x65B9;&#x6CD5;&#xFF08;&#x6700;&#x5927;&#x7C7B;&#x95F4;&#x65B9;&#x5DEE;&#xFF09;&#x9009;&#x53D6;&#x4E00;&#x4E2A;&#x9608;&#x503C;&#xFF0C;&#x5C06;&#x524D;&#x666F;&#x548C;&#x80CC;&#x666F;&#x5C3D;&#x53EF;&#x80FD;&#x5206;&#x5F00;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x770B;&#x4E0B;&#x4EE3;&#x7801;&#xFF0C;&#x7136;&#x540E;&#x8BE6;&#x7EC6;&#x8BF4;&#x660E;&#x4E0B;&#x7B97;&#x6CD5;&#x539F;&#x7406;&#x3002;</p>
<h2 id="42-&#x4EE3;&#x7801;&#x793A;&#x4F8B;">4.2 &#x4EE3;&#x7801;&#x793A;&#x4F8B;</h2>
<p>&#x4E0B;&#x9762;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5BF9;&#x6BD4;&#x4E86;&#x4F7F;&#x7528;&#x56FA;&#x5B9A;&#x9608;&#x503C;&#x548C; Otsu &#x9608;&#x503C;&#x540E;&#x7684;&#x4E0D;&#x540C;&#x7ED3;&#x679C;&#xFF1A;</p>
<p>&#x53E6;&#x5916;&#xFF0C;&#x5BF9;&#x542B;&#x566A;&#x70B9;&#x7684;&#x56FE;&#x50CF;&#xFF0C;&#x5148;&#x8FDB;&#x884C;&#x6EE4;&#x6CE2;&#x64CD;&#x4F5C;&#x6548;&#x679C;&#x4F1A;&#x66F4;&#x597D;&#x3002;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">from</span> matplotlib <span class="hljs-keyword">import</span> pyplot <span class="hljs-keyword">as</span> plt

img = cv2.imread(<span class="hljs-string">&apos;noisy.jpg&apos;</span>, <span class="hljs-number">0</span>)

<span class="hljs-comment"># &#x56FA;&#x5B9A;&#x9608;&#x503C;&#x6CD5;</span>
ret1, th1 = cv2.threshold(img, <span class="hljs-number">100</span>, <span class="hljs-number">255</span>, cv2.THRESH_BINARY)

<span class="hljs-comment"># Otsu &#x9608;&#x503C;&#x6CD5;</span>
ret2, th2 = cv2.threshold(img, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, cv2.THRESH_BINARY + cv2.THRESH_OTSU)

<span class="hljs-comment"># &#x5148;&#x8FDB;&#x884C;&#x9AD8;&#x65AF;&#x6EE4;&#x6CE2;&#xFF0C;&#x518D;&#x4F7F;&#x7528; Otsu &#x9608;&#x503C;&#x6CD5;</span>
blur = cv2.GaussianBlur(img, (<span class="hljs-number">5</span>, <span class="hljs-number">5</span>), <span class="hljs-number">0</span>)
ret3, th3 = cv2.threshold(blur, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, cv2.THRESH_BINARY + cv2.THRESH_OTSU)
</code></pre>
<p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x7528; Matplotlib &#x628A;&#x539F;&#x56FE;&#x3001;&#x76F4;&#x65B9;&#x56FE;&#x548C;&#x9608;&#x503C;&#x56FE;&#x90FD;&#x663E;&#x793A;&#x51FA;&#x6765;&#xFF1A;</p>
<pre><code class="lang-python">images = [img, <span class="hljs-number">0</span>, th1, img, <span class="hljs-number">0</span>, th2, blur, <span class="hljs-number">0</span>, th3]
titles = [<span class="hljs-string">&apos;Original&apos;</span>, <span class="hljs-string">&apos;Histogram&apos;</span>, <span class="hljs-string">&apos;Global(v=100)&apos;</span>,
          <span class="hljs-string">&apos;Original&apos;</span>, <span class="hljs-string">&apos;Histogram&apos;</span>, <span class="hljs-string">&quot;Otsu&apos;s&quot;</span>,
          <span class="hljs-string">&apos;Gaussian filtered Image&apos;</span>, <span class="hljs-string">&apos;Histogram&apos;</span>, <span class="hljs-string">&quot;Otsu&apos;s&quot;</span>]

<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">3</span>):
    <span class="hljs-comment"># &#x7ED8;&#x5236;&#x539F;&#x56FE;</span>
    plt.subplot(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, i * <span class="hljs-number">3</span> + <span class="hljs-number">1</span>)
    plt.imshow(images[i * <span class="hljs-number">3</span>], <span class="hljs-string">&apos;gray&apos;</span>)
    plt.title(titles[i * <span class="hljs-number">3</span>], fontsize=<span class="hljs-number">8</span>)
    plt.xticks([]), plt.yticks([])

    <span class="hljs-comment"># &#x7ED8;&#x5236;&#x76F4;&#x65B9;&#x56FE; plt.hist&#xFF0C;ravel &#x51FD;&#x6570;&#x5C06;&#x6570;&#x7EC4;&#x964D;&#x6210;&#x4E00;&#x7EF4;</span>
    plt.subplot(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, i * <span class="hljs-number">3</span> + <span class="hljs-number">2</span>)
    plt.hist(images[i * <span class="hljs-number">3</span>].ravel(), <span class="hljs-number">256</span>)
    plt.title(titles[i * <span class="hljs-number">3</span> + <span class="hljs-number">1</span>], fontsize=<span class="hljs-number">8</span>)
    plt.xticks([]), plt.yticks([])

    <span class="hljs-comment"># &#x7ED8;&#x5236;&#x9608;&#x503C;&#x56FE;</span>
    plt.subplot(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, i * <span class="hljs-number">3</span> + <span class="hljs-number">3</span>)
    plt.imshow(images[i * <span class="hljs-number">3</span> + <span class="hljs-number">2</span>], <span class="hljs-string">&apos;gray&apos;</span>)
    plt.title(titles[i * <span class="hljs-number">3</span> + <span class="hljs-number">2</span>], fontsize=<span class="hljs-number">8</span>)
    plt.xticks([]), plt.yticks([])
plt.show()
</code></pre>
<p><img src="img/OpenCV_start/cv2_otsu_vs_simple_thresholding.jpg" alt="&#x56FA;&#x5B9A;&#x9608;&#x503C; vs Otsu &#x9608;&#x503C;"></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;Otsu &#x9608;&#x503C;&#x660E;&#x663E;&#x4F18;&#x4E8E;&#x56FA;&#x5B9A;&#x9608;&#x503C;&#xFF0C;&#x7701;&#x53BB;&#x4E86;&#x4E0D;&#x65AD;&#x5C1D;&#x8BD5;&#x9608;&#x503C;&#x5224;&#x65AD;&#x6548;&#x679C;&#x597D;&#x574F;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x5176;&#x4E2D;&#xFF0C;&#x7ED8;&#x5236;&#x76F4;&#x65B9;&#x56FE;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x4E86; numpy &#x4E2D;&#x7684;<a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ravel.html" target="_blank">ravel()</a>&#x51FD;&#x6570;&#xFF0C;&#x5B83;&#x4F1A;&#x5C06;&#x539F;&#x77E9;&#x9635;&#x538B;&#x7F29;&#x6210;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#xFF0C;&#x4FBF;&#x4E8E;&#x753B;&#x76F4;&#x65B9;&#x56FE;&#x3002;</p>
<h2 id="43-otsu-&#x7B97;&#x6CD5;&#x8BE6;&#x89E3;">4.3 Otsu &#x7B97;&#x6CD5;&#x8BE6;&#x89E3;</h2>
<p>Otsu &#x9608;&#x503C;&#x6CD5;&#x5C06;&#x6574;&#x5E45;&#x56FE;&#x5206;&#x4E3A;&#x524D;&#x666F;&#xFF08;&#x76EE;&#x6807;&#xFF09;&#x548C;&#x80CC;&#x666F;&#xFF0C;&#x4EE5;&#x4E0B;&#x662F;&#x4E00;&#x4E9B;&#x7B26;&#x53F7;&#x89C4;&#x5B9A;&#xFF1A;</p>
<ul>
<li><code>T</code>&#xFF1A;&#x5206;&#x5272;&#x9608;&#x503C;</li>
<li><code>N0</code>&#xFF1A;&#x524D;&#x666F;&#x50CF;&#x7D20;&#x70B9;&#x6570;</li>
<li><code>N1</code>&#xFF1A;&#x80CC;&#x666F;&#x50CF;&#x7D20;&#x70B9;&#x6570;</li>
<li><code>w0</code>&#xFF1A;&#x524D;&#x666F;&#x7684;&#x50CF;&#x7D20;&#x70B9;&#x6570;&#x5360;&#x6574;&#x5E45;&#x56FE;&#x50CF;&#x7684;&#x6BD4;&#x4F8B;</li>
<li><code>w1</code>&#xFF1A;&#x80CC;&#x666F;&#x7684;&#x50CF;&#x7D20;&#x70B9;&#x6570;&#x5360;&#x6574;&#x5E45;&#x56FE;&#x50CF;&#x7684;&#x6BD4;&#x4F8B;</li>
<li><code>u0</code>&#xFF1A;&#x524D;&#x666F;&#x7684;&#x5E73;&#x5747;&#x50CF;&#x7D20;&#x503C;</li>
<li><code>u1</code>&#xFF1A;&#x80CC;&#x666F;&#x7684;&#x5E73;&#x5747;&#x50CF;&#x7D20;&#x503C;</li>
<li><code>u</code>&#xFF1A;&#x6574;&#x5E45;&#x56FE;&#x7684;&#x5E73;&#x5747;&#x50CF;&#x7D20;&#x503C;</li>
<li><code>rows &#xD7; cols</code>&#xFF1A;&#x56FE;&#x50CF;&#x7684;&#x884C;&#x6570;&#x548C;&#x5217;&#x6570;</li>
</ul>
<p>&#x7ED3;&#x5408;&#x4E0B;&#x56FE;&#x4F1A;&#x66F4;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x4E00;&#x4E9B;&#xFF0C;&#x6709;&#x4E00;&#x526F;&#x5927;&#x5C0F;&#x4E3A; 4&#xD7;4 &#x7684;&#x56FE;&#x7247;&#xFF0C;&#x5047;&#x8BBE;&#x9608;&#x503C; T &#x4E3A; 1&#xFF0C;&#x90A3;&#x4E48;&#xFF1A;</p>
<p><img src="img/OpenCV_start/cv2_otsu_theory_sample.jpg" alt=""></p>
<p>&#x5176;&#x5B9E;&#x5F88;&#x597D;&#x7406;&#x89E3;&#xFF0C;<code>N0+N1</code>&#x5C31;&#x662F;&#x603B;&#x7684;&#x50CF;&#x7D20;&#x70B9;&#x4E2A;&#x6570;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x884C;&#x6570;&#x4E58;&#x5217;&#x6570;&#xFF1A;</p>
<!-- $$
N_0+N_1=rows\times cols
$$ -->
<p><img src="img/OpenCV_start/2.png" alt=""></p>
<p><code>w0</code>&#x548C;<code>w1</code>&#x662F;&#x524D;/&#x80CC;&#x666F;&#x6240;&#x5360;&#x7684;&#x6BD4;&#x4F8B;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#xFF1A;</p>
<!-- $$
\omega_0=\frac{N_0}{rows\times cols}
$$ -->
<p><img src="img/OpenCV_start/3.png" alt=""></p>
<!-- $$
\omega_1=\frac{N_1}{rows\times cols}
$$ -->
<!-- $$
\omega_0+\omega_1=1 \tag{1}
$$ -->
<p>&#x6574;&#x5E45;&#x56FE;&#x7684;&#x5E73;&#x5747;&#x50CF;&#x7D20;&#x503C;&#x5C31;&#x662F;&#xFF1A;</p>
<p><img src="img/OpenCV_start/4.png" alt=""></p>
<!-- $$
\mu=\omega_0\times \mu_0+\omega_1\times \mu_1  \tag{2}
$$ -->
<p>&#x6B64;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x524D;&#x666F;<code>u0</code>&#x4E0E;&#x80CC;&#x666F;<code>u1</code>&#x7684;&#x65B9;&#x5DEE;<code>g</code>&#xFF1A;</p>
<p><img src="img/OpenCV_start/5.png" alt=""></p>
<!-- $$
g=\omega_0(\mu_0-\mu)^2+\omega_1(\mu_1-\mu)^2  \tag{3}
$$ -->
<p>&#x5C06;&#x524D;&#x8FF0;&#x7684;3&#x4E2A;&#x516C;&#x5F0F;&#x6574;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x4FBF;&#x662F;&#xFF1A;</p>
<p><img src="img/OpenCV_start/6.png" alt=""></p>
<!-- $$
g=\omega_0\omega_1(\mu_0-\mu_1)^2
$$ -->
<p><strong><code>g</code>&#x5C31;&#x662F;&#x524D;&#x666F;&#x4E0E;&#x80CC;&#x666F;&#x4E24;&#x7C7B;&#x4E4B;&#x95F4;&#x7684;&#x65B9;&#x5DEE;&#xFF0C;&#x8FD9;&#x4E2A;&#x503C;&#x8D8A;&#x5927;&#xFF0C;&#x8BF4;&#x660E;&#x524D;&#x666F;&#x548C;&#x80CC;&#x666F;&#x7684;&#x5DEE;&#x522B;&#x4E5F;&#x5C31;&#x8D8A;&#x5927;&#xFF0C;&#x6548;&#x679C;&#x8D8A;&#x597D;&#x3002;Otsu &#x7B97;&#x6CD5;&#x4FBF;&#x662F;&#x904D;&#x5386;&#x9608;&#x503C; T&#xFF0C;&#x4F7F;&#x5F97;<code>g</code>&#x6700;&#x5927;&#xFF0C;&#x6240;&#x4EE5;&#x53C8;&#x79F0;&#x4E3A;&#x6700;&#x5927;&#x7C7B;&#x95F4;&#x65B9;&#x5DEE;&#x6CD5;&#x3002;</strong>&#x57FA;&#x672C;&#x4E0A;&#x53CC;&#x5CF0;&#x56FE;&#x7247;&#x7684;&#x9608;&#x503C; T &#x5728;&#x4E24;&#x5CF0;&#x4E4B;&#x95F4;&#x7684;&#x8C37;&#x5E95;&#x3002;</p>
<h2 id="44-&#x63A5;&#x53E3;&#x6587;&#x6863;">4.4 &#x63A5;&#x53E3;&#x6587;&#x6863;</h2>
<ul>
<li><a href="https://docs.opencv.org/4.0.0/d7/d1b/group__imgproc__misc.html#gaa9e58d2860d4afa658ef70a9b1115576" target="_blank">cv2.ThresholdTypes</a></li>
<li><a href="https://docs.opencv.org/4.0.0/d4/d86/group__imgproc__filter.html#gaabe8c836e97159a9193fb0b11ac52cf1" target="_blank">cv2.GaussianBlur()</a></li>
</ul>
<h2 id="45-&#x5F15;&#x7528;">4.5 &#x5F15;&#x7528;</h2>
<ul>
<li><a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ravel.html" target="_blank">numpy.ravel</a></li>
<li><a href="https://en.wikipedia.org/wiki/Otsu%27s_method" target="_blank">Otsu&apos;s Method(wikipedia)</a></li>
<li><a href="https://blog.csdn.net/u011776903/article/details/73274802" target="_blank">&#x4E00;&#x7EF4; OTSU &#x6CD5;&#x3001;&#x6700;&#x5C0F;&#x4EA4;&#x53C9;&#x71B5;&#x6CD5;&#x3001;&#x4E8C;&#x7EF4; OTSU &#x6CD5;&#x53CA; C++&#x6E90;&#x7801;</a></li>
<li><a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=4310076" target="_blank">Otsu N. A threshold selection method from gray-level histograms[J]. IEEE transactions on systems, man, and cybernetics, 1979, 9(1): 62-66.</a></li>
</ul>
<h1 id="5-&#x756A;&#x5916;&#x7BC7;&#xFF1A;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x4E0E;&#x900F;&#x89C6;&#x53D8;&#x6362;">5 &#x756A;&#x5916;&#x7BC7;&#xFF1A;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x4E0E;&#x900F;&#x89C6;&#x53D8;&#x6362;</h1>
<p><img src="img/OpenCV_start/cv2_image_transformation_sample.jpg" alt=""></p>
<p>&#x5E38;&#x89C1;&#x7684; 2D &#x56FE;&#x50CF;&#x53D8;&#x6362;&#x4ECE;&#x539F;&#x7406;&#x4E0A;&#x8BB2;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x57FA;&#x4E8E; 2&#xD7;3 &#x77E9;&#x9635;&#x7684;<a href="https://baike.baidu.com/item/%E4%BB%BF%E5%B0%84%E5%8F%98%E6%8D%A2" target="_blank">&#x4EFF;&#x5C04;&#x53D8;&#x6362;</a>&#x548C;&#x57FA;&#x4E8E; 3&#xD7;3 &#x77E9;&#x9635;<a href="https://baike.baidu.com/item/%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2" target="_blank">&#x900F;&#x89C6;&#x53D8;&#x6362;</a>&#x3002;</p>
<h2 id="51-&#x4EFF;&#x5C04;&#x53D8;&#x6362;">5.1 &#x4EFF;&#x5C04;&#x53D8;&#x6362;</h2>
<p>&#x57FA;&#x672C;&#x7684;&#x56FE;&#x50CF;&#x53D8;&#x6362;&#x5C31;&#x662F;&#x4E8C;&#x7EF4;&#x5750;&#x6807;&#x7684;&#x53D8;&#x6362;&#xFF1A;&#x4ECE;&#x4E00;&#x79CD;&#x4E8C;&#x7EF4;&#x5750;&#x6807;(x,y) &#x5230;&#x53E6;&#x4E00;&#x79CD;&#x4E8C;&#x7EF4;&#x5750;&#x6807;(u,v) &#x7684;&#x7EBF;&#x6027;&#x53D8;&#x6362;&#xFF1A;</p>
<!-- $$
\begin{matrix}
   u=a_1x+b_1y+c_1 \newline
   v=a_2x+b_2y+c_2
  \end{matrix}
$$ -->
<p><img src="img/OpenCV_start/7.png" alt=""></p>
<p>&#x5982;&#x679C;&#x5199;&#x6210;&#x77E9;&#x9635;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x5C31;&#x662F;&#xFF1A;</p>
<!-- $$
\left[
 \begin{matrix}
   u \newline
   v
  \end{matrix}
  \right]  = \left[
 \begin{matrix}
   a_1 & b_1  \newline
   a_2 & b_2
  \end{matrix}
  \right] \left[
 \begin{matrix}
   x \newline
   y
  \end{matrix}
  \right]+\left[
 \begin{matrix}
   c_1 \newline
   c_2
  \end{matrix}
  \right]
$$ -->
<p><img src="img/OpenCV_start/8.png" alt=""></p>
<p>&#x4F5C;&#x5982;&#x4E0B;&#x5B9A;&#x4E49;&#xFF1A;</p>
<!-- $$
R=\left[
 \begin{matrix}
   a_1 & b_1  \newline
   a_2 & b_2
  \end{matrix}
  \right], t=\left[
 \begin{matrix}
   c_1 \newline
   c_2
  \end{matrix}
  \right],T=\left[
 \begin{matrix}
   R & t
  \end{matrix}
  \right]
$$ -->
<p><img src="img/OpenCV_start/9.png" alt=""></p>
<p>&#x77E9;&#x9635; T(2&#xD7;3) &#x5C31;&#x79F0;&#x4E3A;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x7684;&#x53D8;&#x6362;&#x77E9;&#x9635;&#xFF0C;R &#x4E3A;&#x7EBF;&#x6027;&#x53D8;&#x6362;&#x77E9;&#x9635;&#xFF0C;t &#x4E3A;&#x5E73;&#x79FB;&#x77E9;&#x9635;&#xFF0C;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x5C31;&#x662F;&#x7EBF;&#x6027;&#x53D8;&#x6362; + &#x5E73;&#x79FB;&#x3002;&#x53D8;&#x6362;&#x540E;&#x76F4;&#x7EBF;&#x4F9D;&#x7136;&#x662F;&#x76F4;&#x7EBF;&#xFF0C;&#x5E73;&#x884C;&#x7EBF;&#x4F9D;&#x7136;&#x662F;&#x5E73;&#x884C;&#x7EBF;&#xFF0C;&#x76F4;&#x7EBF;&#x95F4;&#x7684;&#x76F8;&#x5BF9;&#x4F4D;&#x7F6E;&#x5173;&#x7CFB;&#x4E0D;&#x53D8;&#xFF0C;&#x56E0;&#x6B64;<strong>&#x975E;&#x5171;&#x7EBF;&#x7684;&#x4E09;&#x4E2A;&#x5BF9;&#x5E94;&#x70B9;&#x4FBF;&#x53EF;&#x786E;&#x5B9A;&#x552F;&#x4E00;&#x7684;&#x4E00;&#x4E2A;&#x4EFF;&#x5C04;&#x53D8;&#x6362;</strong>&#x3002;&#x7EBF;&#x6027;&#x53D8;&#x6362; 4 &#x4E2A;&#x81EA;&#x7531;&#x5EA6; + &#x5E73;&#x79FB; 2 &#x4E2A;&#x81EA;&#x7531;&#x5EA6; &#x2192;<strong>&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x81EA;&#x7531;&#x5EA6;&#x4E3A; 6</strong>&#x3002;</p>
<p><img src="img/OpenCV_start/cv2_warp_affine_image_sample_introduction2.jpg" alt=""></p>
<p>&#x6765;&#x770B;&#x4E0B; OpenCV &#x4E2D;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

img = cv2.imread(<span class="hljs-string">&apos;drawing.jpg&apos;</span>)
rows, cols = img.shape[:<span class="hljs-number">2</span>]

<span class="hljs-comment"># &#x53D8;&#x6362;&#x524D;&#x7684;&#x4E09;&#x4E2A;&#x70B9;</span>
pts1 = np.float32([[<span class="hljs-number">50</span>, <span class="hljs-number">65</span>], [<span class="hljs-number">150</span>, <span class="hljs-number">65</span>], [<span class="hljs-number">210</span>, <span class="hljs-number">210</span>]])
<span class="hljs-comment"># &#x53D8;&#x6362;&#x540E;&#x7684;&#x4E09;&#x4E2A;&#x70B9;</span>
pts2 = np.float32([[<span class="hljs-number">50</span>, <span class="hljs-number">100</span>], [<span class="hljs-number">150</span>, <span class="hljs-number">65</span>], [<span class="hljs-number">100</span>, <span class="hljs-number">250</span>]])

<span class="hljs-comment"># &#x751F;&#x6210;&#x53D8;&#x6362;&#x77E9;&#x9635;</span>
M = cv2.getAffineTransform(pts1, pts2)
dst = cv2.warpAffine(img, M, (cols, rows))

plt.subplot(<span class="hljs-number">121</span>), plt.imshow(img), plt.title(<span class="hljs-string">&apos;input&apos;</span>)
plt.subplot(<span class="hljs-number">122</span>), plt.imshow(dst), plt.title(<span class="hljs-string">&apos;output&apos;</span>)
plt.show()
</code></pre>
<p>&#x4E09;&#x4E2A;&#x70B9;&#x7B14;&#x8005;&#x5DF2;&#x7ECF;&#x5728;&#x56FE;&#x4E2D;&#x6807;&#x8BB0;&#x4E86;&#x51FA;&#x6765;&#x3002;&#x7528;<code>cv2.getAffineTransform()</code>&#x751F;&#x6210;&#x53D8;&#x6362;&#x77E9;&#x9635;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x518D;&#x7528;<code>cv2.warpAffine()</code>&#x5B9E;&#x73B0;&#x53D8;&#x6362;&#x3002;</p>
<blockquote>
<p>&#x601D;&#x8003;&#xFF1A;&#x4E09;&#x4E2A;&#x70B9;&#x7B14;&#x8005;&#x6807;&#x8BB0;&#x7684;&#x662F;&#x7EA2;&#x8272;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48; Matplotlib &#x663E;&#x793A;&#x51FA;&#x6765;&#x662F;&#x4E0B;&#x9762;&#x8FD9;&#x79CD;&#x989C;&#x8272;&#xFF1F;</p>
</blockquote>
<p><img src="img/OpenCV_start/cv2_affine_transformation_drawing.jpg" alt="&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x524D;&#x540E;&#x5BF9;&#x6BD4;&#x56FE;"></p>
<p>&#x5176;&#x5B9E;&#x5E73;&#x79FB;&#x3001;&#x65CB;&#x8F6C;&#x3001;&#x7F29;&#x653E;&#x548C;&#x7FFB;&#x8F6C;&#x7B49;&#x53D8;&#x6362;&#x5C31;&#x662F;&#x5BF9;&#x5E94;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x77E9;&#x9635;&#xFF0C;&#x4E0B;&#x9762;&#x5206;&#x522B;&#x6765;&#x770B;&#x4E0B;&#x3002;</p>
<p><img src="img/OpenCV_start/cv2_image_transformation_sample.jpg" alt=""></p>
<h3 id="511-&#x5E73;&#x79FB;">5.1.1 &#x5E73;&#x79FB;</h3>
<p><img src="img/OpenCV_start/cv2_warp_affine_shift_sample.jpg" alt=""></p>
<p>&#x5E73;&#x79FB;&#x5C31;&#x662F; x &#x548C; y &#x65B9;&#x5411;&#x4E0A;&#x7684;&#x76F4;&#x63A5;&#x79FB;&#x52A8;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0A;&#x4E0B;/&#x5DE6;&#x53F3;&#x79FB;&#x52A8;&#xFF0C;&#x81EA;&#x7531;&#x5EA6;&#x4E3A; 2&#xFF0C;&#x53D8;&#x6362;&#x77E9;&#x9635;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x4E3A;&#xFF1A;</p>
<!-- $$
\left[
 \begin{matrix}
   u \newline
   v
  \end{matrix}
  \right]  = \left[
 \begin{matrix}
   1 & 0  \newline
   0 & 1
  \end{matrix}
  \right] \left[
 \begin{matrix}
   x \newline
   y
  \end{matrix}
  \right]+\left[
 \begin{matrix}
   t_x \newline
   t_y
  \end{matrix}
  \right]
$$ -->
<p><img src="img/OpenCV_start/10.png" alt=""></p>
<h3 id="512-&#x65CB;&#x8F6C;">5.1.2 &#x65CB;&#x8F6C;</h3>
<p><img src="img/OpenCV_start/cv2_warp_affine_rotation_sample.jpg" alt=""></p>
<p>&#x65CB;&#x8F6C;&#x662F;&#x5750;&#x6807;&#x8F74;&#x65B9;&#x5411;&#x9976;&#x539F;&#x70B9;&#x65CB;&#x8F6C;&#x4E00;&#x5B9A;&#x7684;&#x89D2;&#x5EA6; &#x3B8;&#xFF0C;&#x81EA;&#x7531;&#x5EA6;&#x4E3A; 1&#xFF0C;&#x4E0D;&#x5305;&#x542B;&#x5E73;&#x79FB;&#xFF0C;&#x5982;&#x987A;&#x65F6;&#x9488;&#x65CB;&#x8F6C;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x4E3A;&#xFF1A;</p>
<!-- $$
\left[
 \begin{matrix}
   u \newline
   v
  \end{matrix}
  \right]  = \left[
 \begin{matrix}
   \cos \theta & -\sin \theta \newline
   \sin \theta & \cos \theta
  \end{matrix}
  \right] \left[
 \begin{matrix}
   x \newline
   y
  \end{matrix}
  \right]+\left[
 \begin{matrix}
   0 \newline
   0
  \end{matrix}
  \right]
$$ -->
<p><img src="img/OpenCV_start/11.png" alt=""></p>
<blockquote>
<p>&#x601D;&#x8003;&#xFF1A;&#x5982;&#x679C;&#x4E0D;&#x662F;&#x7ED5;&#x539F;&#x70B9;&#xFF0C;&#x800C;&#x662F;&#x53EF;&#x53D8;&#x70B9;&#xFF0C;&#x81EA;&#x7531;&#x5EA6;&#x662F;&#x591A;&#x5C11;&#x5462;&#xFF1F;&#xFF08;&#x8BF7;&#x770B;&#x4E0B;&#x6587;&#x521A;&#x4F53;&#x53D8;&#x6362;&#xFF09;</p>
</blockquote>
<h3 id="513-&#x7FFB;&#x8F6C;">5.1.3 &#x7FFB;&#x8F6C;</h3>
<p>&#x7FFB;&#x8F6C;&#x662F; x &#x6216; y &#x67D0;&#x4E2A;&#x65B9;&#x5411;&#x6216;&#x5168;&#x90E8;&#x65B9;&#x5411;&#x4E0A;&#x53D6;&#x53CD;&#xFF0C;&#x81EA;&#x7531;&#x5EA6;&#x4E3A; 2&#xFF0C;&#x6BD4;&#x5982;&#x8FD9;&#x91CC;&#x4EE5;&#x5782;&#x76F4;&#x7FFB;&#x8F6C;&#x4E3A;&#x4F8B;&#xFF1A;</p>
<!-- $$
\left[
 \begin{matrix}
   u \newline
   v
  \end{matrix}
  \right]  = \left[
 \begin{matrix}
   1 & 0 \newline
   0 & -1
  \end{matrix}
  \right] \left[
 \begin{matrix}
   x \newline
   y
  \end{matrix}
  \right]+\left[
 \begin{matrix}
   0 \newline
   0
  \end{matrix}
  \right]
$$ -->
<p><img src="img/OpenCV_start/12.png" alt=""></p>
<h3 id="514-&#x521A;&#x4F53;&#x53D8;&#x6362;">5.1.4 &#x521A;&#x4F53;&#x53D8;&#x6362;</h3>
<p>&#x65CB;&#x8F6C; + &#x5E73;&#x79FB;&#x4E5F;&#x79F0;&#x521A;&#x4F53;&#x53D8;&#x6362;&#xFF08;Rigid Transform&#xFF09;&#xFF0C;&#x5C31;&#x662F;&#x8BF4;&#x5982;&#x679C;<strong>&#x56FE;&#x50CF;&#x53D8;&#x6362;&#x524D;&#x540E;&#x4E24;&#x70B9;&#x95F4;&#x7684;&#x8DDD;&#x79BB;&#x4ECD;&#x7136;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;</strong>&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x79CD;&#x53D8;&#x5316;&#x5C31;&#x79F0;&#x4E3A;&#x521A;&#x4F53;&#x53D8;&#x6362;&#x3002;&#x521A;&#x4F53;&#x53D8;&#x6362;&#x5305;&#x62EC;&#x4E86;&#x5E73;&#x79FB;&#x3001;&#x65CB;&#x8F6C;&#x548C;&#x7FFB;&#x8F6C;&#xFF0C;&#x81EA;&#x7531;&#x5EA6;&#x4E3A; 3&#x3002;&#x53D8;&#x6362;&#x77E9;&#x9635;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x4E3A;&#xFF1A;</p>
<!-- $$
\left[
 \begin{matrix}
   u \newline
   v
  \end{matrix}
  \right]  = \left[
 \begin{matrix}
   \cos \theta & -\sin \theta \newline
   \sin \theta & \cos \theta
  \end{matrix}
  \right] \left[
 \begin{matrix}
   x \newline
   y
  \end{matrix}
  \right]+\left[
 \begin{matrix}
   t_x  \newline
   t_y
  \end{matrix}
  \right]
$$ -->
<p><img src="img/OpenCV_start/13.png" alt=""></p>
<p>&#x7531;&#x4E8E;&#x53EA;&#x662F;&#x65CB;&#x8F6C;&#x548C;&#x5E73;&#x79FB;&#xFF0C;&#x521A;&#x4F53;&#x53D8;&#x6362;&#x4FDD;&#x6301;&#x4E86;&#x76F4;&#x7EBF;&#x95F4;&#x7684;&#x957F;&#x5EA6;&#x4E0D;&#x53D8;&#xFF0C;&#x6240;&#x4EE5;&#x4E5F;&#x79F0;&#x6B27;&#x5F0F;&#x53D8;&#x6362;&#xFF08;&#x53D8;&#x5316;&#x524D;&#x540E;&#x4FDD;&#x6301;&#x6B27;&#x6C0F;&#x8DDD;&#x79BB;&#xFF09;&#x3002;</p>
<h3 id="515-&#x7F29;&#x653E;">5.1.5 &#x7F29;&#x653E;</h3>
<p><img src="img/OpenCV_start/cv2_warp_affine_scale_sampel.jpg" alt=""></p>
<p>&#x7F29;&#x653E;&#x662F; x &#x548C; y &#x65B9;&#x5411;&#x7684;&#x5C3A;&#x5EA6;&#xFF08;&#x500D;&#x6570;&#xFF09;&#x53D8;&#x6362;&#xFF0C;&#x5728;&#x6709;&#x4E9B;&#x8D44;&#x6599;&#x4E0A;&#x975E;&#x7B49;&#x6BD4;&#x4F8B;&#x7684;&#x7F29;&#x653E;&#x4E5F;&#x79F0;&#x4E3A;&#x62C9;&#x4F38;/&#x6324;&#x538B;&#xFF0C;&#x7B49;&#x6BD4;&#x4F8B;&#x7F29;&#x653E;&#x81EA;&#x7531;&#x5EA6;&#x4E3A; 1&#xFF0C;&#x975E;&#x7B49;&#x6BD4;&#x4F8B;&#x7F29;&#x653E;&#x81EA;&#x7531;&#x5EA6;&#x4E3A; 2&#xFF0C;&#x77E9;&#x9635;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x4E3A;&#xFF1A;</p>
<!-- $$
\left[
 \begin{matrix}
   u \newline
   v
  \end{matrix}
  \right]  = \left[
 \begin{matrix}
   s_x & 0 \newline
   0 & s_y
  \end{matrix}
  \right] \left[
 \begin{matrix}
   x \newline
   y
  \end{matrix}
  \right]+\left[
 \begin{matrix}
   0 \newline
   0
  \end{matrix}
  \right]
$$ -->
<p><img src="img/OpenCV_start/14.png" alt=""></p>
<h3 id="516-&#x76F8;&#x4F3C;&#x53D8;&#x6362;">5.1.6 &#x76F8;&#x4F3C;&#x53D8;&#x6362;</h3>
<p>&#x76F8;&#x4F3C;&#x53D8;&#x6362;&#x53C8;&#x79F0;&#x7F29;&#x653E;&#x65CB;&#x8F6C;&#xFF0C;&#x76F8;&#x4F3C;&#x53D8;&#x6362;&#x5305;&#x542B;&#x4E86;&#x65CB;&#x8F6C;&#x3001;&#x7B49;&#x6BD4;&#x4F8B;&#x7F29;&#x653E;&#x548C;&#x5E73;&#x79FB;&#x7B49;&#x53D8;&#x6362;&#xFF0C;&#x81EA;&#x7531;&#x5EA6;&#x4E3A; 4&#x3002;&#x5728; OpenCV &#x4E2D;&#xFF0C;&#x65CB;&#x8F6C;&#x5C31;&#x662F;&#x7528;&#x76F8;&#x4F3C;&#x53D8;&#x6362;&#x5B9E;&#x73B0;&#x7684;&#xFF1A;</p>
<p>&#x82E5;&#x7F29;&#x653E;&#x6BD4;&#x4F8B;&#x4E3A; scale&#xFF0C;&#x65CB;&#x8F6C;&#x89D2;&#x5EA6;&#x4E3A; &#x3B8;&#xFF0C;&#x65CB;&#x8F6C;&#x4E2D;&#x5FC3;&#x662F;$(center_x,center_y)$&#xFF0C;&#x5219;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x4E3A;&#xFF1A;</p>
<!-- $$
\left[
 \begin{matrix}
   u \newline
   v
  \end{matrix}
  \right]  = \left[
 \begin{matrix}
   \alpha & \beta \newline
   -\beta & \alpha
  \end{matrix}
  \right] \left[
 \begin{matrix}
   x \newline
   y
  \end{matrix}
  \right]+\left[
 \begin{matrix}
   (1-\alpha)center_x-\beta center_y \newline
   \beta center_x+(1-\alpha)center_y
  \end{matrix}
  \right]
$$ -->
<p><img src="img/OpenCV_start/15.png" alt=""></p>
<p>&#x5176;&#x4E2D;&#xFF0C;</p>
<!-- $$
\alpha=scale \cdot \cos \theta,\beta=scale \cdot \sin \theta
$$ -->
<p><img src="img/OpenCV_start/16.png" alt=""></p>
<p><strong>&#x76F8;&#x4F3C;&#x53D8;&#x6362;&#x76F8;&#x6BD4;&#x521A;&#x4F53;&#x53D8;&#x6362;&#x52A0;&#x4E86;&#x7F29;&#x653E;&#xFF0C;&#x6240;&#x4EE5;&#x5E76;&#x4E0D;&#x4F1A;&#x4FDD;&#x6301;&#x6B27;&#x6C0F;&#x8DDD;&#x79BB;&#x4E0D;&#x53D8;&#xFF0C;&#x4F46;&#x76F4;&#x7EBF;&#x95F4;&#x7684;&#x5939;&#x89D2;&#x4F9D;&#x7136;&#x4E0D;&#x53D8;&#x3002;</strong></p>
<blockquote>
<p>[!TIP]</p>
<p>OpenCV &#x4E2D;&#x9ED8;&#x8BA4;&#x6309;&#x7167;&#x9006;&#x65F6;&#x9488;&#x65CB;&#x8F6C;&#x5662;~</p>
</blockquote>
<p>&#x603B;&#x7ED3;&#x4E00;&#x4E0B;<img src="img/OpenCV_start/cv2_transformation_matrix_dof_summary.jpg" alt="\#&#x8BA1;&#x7B97;&#x673A;&#x89C6;&#x89C9;&#xFF1A;&#x7B97;&#x6CD5;&#x4E0E;&#x5E94;&#x7528; p39\]"></p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x53D8;&#x6362;</th>
<th style="text-align:center">&#x77E9;&#x9635;</th>
<th style="text-align:center">&#x81EA;&#x7531;&#x5EA6;</th>
<th style="text-align:center">&#x4FDD;&#x6301;&#x6027;&#x8D28;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&#x5E73;&#x79FB;</td>
<td style="text-align:center">[I, t]&#xFF08;2&#xD7;3&#xFF09;</td>
<td style="text-align:center">2</td>
<td style="text-align:center">&#x65B9;&#x5411;/&#x957F;&#x5EA6;/&#x5939;&#x89D2;/&#x5E73;&#x884C;&#x6027;/&#x76F4;&#x7EBF;&#x6027;</td>
</tr>
<tr>
<td style="text-align:center">&#x521A;&#x4F53;</td>
<td style="text-align:center">[R, t]&#xFF08;2&#xD7;3&#xFF09;</td>
<td style="text-align:center">3</td>
<td style="text-align:center">&#x957F;&#x5EA6;/&#x5939;&#x89D2;/&#x5E73;&#x884C;&#x6027;/&#x76F4;&#x7EBF;&#x6027;</td>
</tr>
<tr>
<td style="text-align:center">&#x76F8;&#x4F3C;</td>
<td style="text-align:center">[sR, t]&#xFF08;2&#xD7;3&#xFF09;</td>
<td style="text-align:center">4</td>
<td style="text-align:center">&#x5939;&#x89D2;/&#x5E73;&#x884C;&#x6027;/&#x76F4;&#x7EBF;&#x6027;</td>
</tr>
<tr>
<td style="text-align:center">&#x4EFF;&#x5C04;</td>
<td style="text-align:center">[T]&#xFF08;2&#xD7;3&#xFF09;</td>
<td style="text-align:center">6</td>
<td style="text-align:center">&#x5E73;&#x884C;&#x6027;/&#x76F4;&#x7EBF;&#x6027;</td>
</tr>
<tr>
<td style="text-align:center">&#x900F;&#x89C6;</td>
<td style="text-align:center">[T]&#xFF08;3&#xD7;3&#xFF09;</td>
<td style="text-align:center">8</td>
<td style="text-align:center">&#x76F4;&#x7EBF;&#x6027;</td>
</tr>
</tbody>
</table>
<h2 id="52-&#x900F;&#x89C6;&#x53D8;&#x6362;">5.2 &#x900F;&#x89C6;&#x53D8;&#x6362;</h2>
<p>&#x524D;&#x9762;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x540E;&#x4F9D;&#x7136;&#x662F;&#x5E73;&#x884C;&#x56DB;&#x8FB9;&#x5F62;&#xFF0C;&#x5E76;&#x4E0D;&#x80FD;&#x505A;&#x5230;&#x4EFB;&#x610F;&#x7684;&#x53D8;&#x6362;&#x3002;</p>
<p><img src="img/OpenCV_start/cv2_warp_perspective_image_sample4.jpg" alt=""></p>
<p><a href="https://baike.baidu.com/item/%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2" target="_blank">&#x900F;&#x89C6;&#x53D8;&#x6362;</a>&#xFF08;Perspective Transformation&#xFF09;&#x662F;&#x5C06;&#x4E8C;&#x7EF4;&#x7684;&#x56FE;&#x7247;&#x6295;&#x5F71;&#x5230;&#x4E00;&#x4E2A;&#x4E09;&#x7EF4;&#x89C6;&#x5E73;&#x9762;&#x4E0A;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8F6C;&#x6362;&#x5230;&#x4E8C;&#x7EF4;&#x5750;&#x6807;&#x4E0B;&#xFF0C;&#x6240;&#x4EE5;&#x4E5F;&#x79F0;&#x4E3A;&#x6295;&#x5F71;&#x6620;&#x5C04;&#xFF08;Projective Mapping&#xFF09;&#x3002;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#x5C31;&#x662F;&#x4E8C;&#x7EF4; &#x2192; &#x4E09;&#x7EF4; &#x2192; &#x4E8C;&#x7EF4;&#x7684;&#x4E00;&#x4E2A;&#x8FC7;&#x7A0B;&#x3002;</p>
<!-- $$
\begin{matrix}
   X=a_1 x + b_1 y + c_1 \newline
   Y=a_2 x + b_2 y + c_2  \newline
   Z=a_3 x + b_3 y + c_3
  \end{matrix}
$$ -->
<p><img src="img/OpenCV_start/17.png" alt=""></p>
<p>&#x5199;&#x6210;&#x9F50;&#x6B21;&#x77E9;&#x9635;&#x7684;&#x5F62;&#x5F0F;&#xFF1A;</p>
<!-- $$
\left[
 \begin{matrix}
   X \newline
   Y \newline
   Z
  \end{matrix}
  \right]  = \left[
 \begin{matrix}
   a_1 & b_1 & c_1  \newline
   a_2 & b_2 & c_2  \newline
   a_3 & b_3 & c_3
  \end{matrix}
  \right] \left[
 \begin{matrix}
   x \newline
   y \newline
   1
  \end{matrix}
  \right]
$$ -->
<p><img src="img/OpenCV_start/18.png" alt=""></p>
<p>&#x5176;&#x4E2D;&#xFF0C;[[a1 b1] [a2 b2]]&#x8868;&#x793A;&#x7EBF;&#x6027;&#x53D8;&#x6362;&#xFF0C;[a3 b3]&#x4EA7;&#x751F;&#x900F;&#x89C6;&#x53D8;&#x6362;&#xFF0C;&#x5176;&#x4F59;&#x8868;&#x793A;&#x5E73;&#x79FB;&#x53D8;&#x6362;&#xFF0C;&#x56E0;&#x6B64;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x662F;&#x900F;&#x89C6;&#x53D8;&#x6362;&#x7684;&#x5B50;&#x96C6;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x518D;&#x901A;&#x8FC7;&#x9664;&#x4EE5; Z &#x8F74;&#x8F6C;&#x6362;&#x6210;&#x4E8C;&#x7EF4;&#x5750;&#x6807;&#xFF1A;</p>
<!-- $$
x^{‚Äô}=\frac{X}{Z}=\frac{a_1x+b_1y+c_1}{a_3x+b_3y+c_3 }
$$

$$
y^{‚Äô}=\frac{Y}{Z}=\frac{a_2x+b_2y+c_2}{a_3x+b_3y+c_3 }
$$ -->
<p><img src="img/OpenCV_start/19.png" alt=""></p>
<p>&#x900F;&#x89C6;&#x53D8;&#x6362;&#x76F8;&#x6BD4;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x66F4;&#x52A0;&#x7075;&#x6D3B;&#xFF0C;&#x53D8;&#x6362;&#x540E;&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x56DB;&#x8FB9;&#x5F62;&#xFF0C;&#x4F46;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x5E73;&#x884C;&#x56DB;&#x8FB9;&#x5F62;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;<strong>&#x975E;&#x5171;&#x7EBF;&#x7684;&#x56DB;&#x4E2A;&#x70B9;&#x624D;&#x80FD;&#x552F;&#x4E00;&#x786E;&#x5B9A;</strong>&#xFF0C;&#x539F;&#x56FE;&#x4E2D;&#x7684;&#x76F4;&#x7EBF;&#x53D8;&#x6362;&#x540E;&#x4F9D;&#x7136;&#x662F;&#x76F4;&#x7EBF;&#x3002;&#x56E0;&#x4E3A;&#x56DB;&#x8FB9;&#x5F62;&#x5305;&#x62EC;&#x4E86;&#x6240;&#x6709;&#x7684;&#x5E73;&#x884C;&#x56DB;&#x8FB9;&#x5F62;&#xFF0C;&#x6240;&#x4EE5;&#x900F;&#x89C6;&#x53D8;&#x6362;&#x5305;&#x62EC;&#x4E86;&#x6240;&#x6709;&#x7684;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x3002;</p>
<p>OpenCV &#x4E2D;&#x9996;&#x5148;&#x6839;&#x636E;&#x53D8;&#x6362;&#x524D;&#x540E;&#x7684;&#x56DB;&#x4E2A;&#x70B9;&#x7528;<code>cv2.getPerspectiveTransform()</code>&#x751F;&#x6210; 3&#xD7;3 &#x7684;&#x53D8;&#x6362;&#x77E9;&#x9635;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x7528;<code>cv2.warpPerspective()</code>&#x8FDB;&#x884C;&#x900F;&#x89C6;&#x53D8;&#x6362;&#x3002;&#x5B9E;&#x6218;&#x6F14;&#x7EC3;&#x4E00;&#x4E0B;&#xFF1A;</p>
<p><img src="img/OpenCV_start/cv2_perspective_transformations_inm.jpg" alt="&#x77EB;&#x6B63;&#x4E00;&#x9E23;&#x7684;&#x5361;&#x7247;"></p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt


img = cv2.imread(<span class="hljs-string">&apos;card.jpg&apos;</span>)

<span class="hljs-comment"># &#x539F;&#x56FE;&#x4E2D;&#x5361;&#x7247;&#x7684;&#x56DB;&#x4E2A;&#x89D2;&#x70B9;</span>
pts1 = np.float32([[<span class="hljs-number">148</span>, <span class="hljs-number">80</span>], [<span class="hljs-number">437</span>, <span class="hljs-number">114</span>], [<span class="hljs-number">94</span>, <span class="hljs-number">247</span>], [<span class="hljs-number">423</span>, <span class="hljs-number">288</span>]])
<span class="hljs-comment"># &#x53D8;&#x6362;&#x540E;&#x5206;&#x522B;&#x5728;&#x5DE6;&#x4E0A;&#x3001;&#x53F3;&#x4E0A;&#x3001;&#x5DE6;&#x4E0B;&#x3001;&#x53F3;&#x4E0B;&#x56DB;&#x4E2A;&#x70B9;</span>
pts2 = np.float32([[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">320</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">178</span>], [<span class="hljs-number">320</span>, <span class="hljs-number">178</span>]])

<span class="hljs-comment"># &#x751F;&#x6210;&#x900F;&#x89C6;&#x53D8;&#x6362;&#x77E9;&#x9635;</span>
M = cv2.getPerspectiveTransform(pts1, pts2)
<span class="hljs-comment"># &#x8FDB;&#x884C;&#x900F;&#x89C6;&#x53D8;&#x6362;&#xFF0C;&#x53C2;&#x6570; 3 &#x662F;&#x76EE;&#x6807;&#x56FE;&#x50CF;&#x5927;&#x5C0F;</span>
dst = cv2.warpPerspective(img, M, (<span class="hljs-number">320</span>, <span class="hljs-number">178</span>))

plt.subplot(<span class="hljs-number">121</span>), plt.imshow(img[:, :, ::<span class="hljs-number">-1</span>]), plt.title(<span class="hljs-string">&apos;input&apos;</span>)
plt.subplot(<span class="hljs-number">122</span>), plt.imshow(dst[:, :, ::<span class="hljs-number">-1</span>]), plt.title(<span class="hljs-string">&apos;output&apos;</span>)
plt.show()
</code></pre>
<blockquote>
<p>&#x4EE3;&#x7801;&#x4E2D;&#x6709;&#x4E2A;<code>img[:, :, ::-1]</code>&#x8FD8;&#x8BB0;&#x5F97;&#x5417;&#xFF1F;&#x5FD8;&#x8BB0;&#x7684;&#x8BDD;&#xFF0C;&#x8BF7;&#x770B; <strong>&#x7EC3;&#x4E60;</strong>&#x3002;</p>
</blockquote>
<p>&#x5F53;&#x7136;&#xFF0C;&#x6211;&#x4EEC;&#x540E;&#x9762;&#x5B66;&#x4E60;&#x4E86;&#x7279;&#x5F81;&#x63D0;&#x53D6;&#x4E4B;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x8BC6;&#x522B;&#x89D2;&#x70B9;&#x4E86;&#x3002;&#x900F;&#x89C6;&#x53D8;&#x6362;&#x662F;&#x4E00;&#x9879;&#x5F88;&#x9177;&#x7684;&#x529F;&#x80FD;&#x3002;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x4F1A;&#x7528;&#x624B;&#x673A;&#x53BB;&#x62CD;&#x8EAB;&#x4EFD;&#x8BC1;&#x548C;&#x6587;&#x4EF6;&#xFF0C;&#x65E0;&#x8BBA;&#x4F60;&#x600E;&#x4E48;&#x62CD;&#xFF0C;&#x8C8C;&#x4F3C;&#x90FD;&#x62CD;&#x4E0D;&#x6B63;&#x6216;&#x8005;&#x6709;&#x8FB9;&#x6846;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x8FC7;&#x624B;&#x673A;&#x4E0A;&#x9762;&#x4E00;&#x4E9B;&#x626B;&#x63CF;&#x7C7B;&#x8F6F;&#x4EF6;&#xFF0C;&#x6BD4;&#x5982;&quot;<a href="https://baike.baidu.com/item/%E6%89%AB%E6%8F%8F%E5%85%A8%E8%83%BD%E7%8E%8B" target="_blank">&#x626B;&#x63CF;&#x5168;&#x80FD;&#x738B;</a>&quot;&#xFF0C;&quot;<a href="https://baike.baidu.com/item/Office%20Lens" target="_blank">Office Lens</a>&quot;&#xFF0C;&#x5B83;&#x4EEC;&#x80FD;&#x5F88;&#x597D;&#x5730;&#x77EB;&#x6B63;&#x56FE;&#x7247;&#xFF0C;&#x8FD9;&#x4E9B;&#x8F6F;&#x4EF6;&#x5C31;&#x662F;&#x5E94;&#x7528;&#x900F;&#x89C6;&#x53D8;&#x6362;&#x5B9E;&#x73B0;&#x7684;&#x3002;</p>
<h2 id="53-&#x7EC3;&#x4E60;">5.3 &#x7EC3;&#x4E60;</h2>
<ol>
<li>&#x8BF7;&#x590D;&#x4E60;&#xFF1A;<strong>2 &#x756A;&#x5916;&#x7BC7;&#xFF1A;&#x65E0;&#x635F;&#x4FDD;&#x5B58;&#x548C; Matplotlib</strong>&#x3002;</li>
</ol>
<h2 id="54-&#x5F15;&#x7528;">5.4 &#x5F15;&#x7528;</h2>
<ul>
<li><a href="https://zh.wikipedia.org/wiki/%E4%BB%BF%E5%B0%84%E5%8F%98%E6%8D%A2" target="_blank">&#x7EF4;&#x57FA;&#x767E;&#x79D1;&#xFF1A;&#x4EFF;&#x5C04;&#x53D8;&#x6362;</a></li>
<li><a href="https://www.zhihu.com/question/20666664" target="_blank">&#x5982;&#x4F55;&#x901A;&#x4FD7;&#x5730;&#x8BB2;&#x89E3;&#x300C;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x300D;&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#xFF1F;</a></li>
</ul>
<h1 id="6-&#x756A;&#x5916;&#x7BC7;&#xFF1A;&#x9F20;&#x6807;&#x7ED8;&#x56FE;">6 &#x756A;&#x5916;&#x7BC7;&#xFF1A;&#x9F20;&#x6807;&#x7ED8;&#x56FE;</h1>
<p><img src="img/OpenCV_start/cv2_live_draw_rectangle.gif" alt=""></p>
<p>&#x5B66;&#x4E60;&#x5982;&#x4F55;&#x7528;&#x9F20;&#x6807;&#x5B9E;&#x65F6;&#x7ED8;&#x56FE;&#x3002;</p>
<h2 id="61-&#x76EE;&#x6807;">6.1 &#x76EE;&#x6807;</h2>
<ul>
<li>&#x6355;&#x83B7;&#x9F20;&#x6807;&#x4E8B;&#x4EF6;</li>
<li>OpenCV &#x51FD;&#x6570;&#xFF1A;<code>cv2.setMouseCallback()</code></li>
</ul>
<h2 id="62-&#x6559;&#x7A0B;">6.2 &#x6559;&#x7A0B;</h2>
<h3 id="621-&#x77E5;&#x9053;&#x9F20;&#x6807;&#x5728;&#x54EA;&#x513F;">6.2.1 &#x77E5;&#x9053;&#x9F20;&#x6807;&#x5728;&#x54EA;&#x513F;</h3>
<p>OpenCV &#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x9F20;&#x6807;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x6765;&#x83B7;&#x53D6;&#x9F20;&#x6807;&#x5F53;&#x524D;&#x7684;&#x4F4D;&#x7F6E;&#x3001;&#x5F53;&#x524D;&#x7684;&#x4E8B;&#x4EF6;&#x5982;&#x5DE6;&#x952E;&#x6309;&#x4E0B;/&#x5DE6;&#x952E;&#x91CA;&#x653E;&#x6216;&#x662F;&#x53F3;&#x952E;&#x5355;&#x51FB;&#x7B49;&#x7B49;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x529F;&#x80FD;&#x3002;</p>
<p>&#x4F7F;&#x7528;<code>cv2.setMouseCallback()</code>&#x6765;&#x521B;&#x5EFA;&#x9F20;&#x6807;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x5728;&#x5DE6;&#x952E;&#x5355;&#x51FB;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6253;&#x5370;&#x51FA;&#x5F53;&#x524D;&#x9F20;&#x6807;&#x7684;&#x4F4D;&#x7F6E;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># &#x9F20;&#x6807;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mouse_event</span><span class="hljs-params">(event, x, y, flags, param)</span>:</span>
    <span class="hljs-comment"># &#x901A;&#x8FC7; event &#x5224;&#x65AD;&#x5177;&#x4F53;&#x662F;&#x4EC0;&#x4E48;&#x4E8B;&#x4EF6;&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x5DE6;&#x952E;&#x6309;&#x4E0B;</span>
    <span class="hljs-keyword">if</span> event == cv2.EVENT_LBUTTONDOWN:
        print((x, y))

img = np.zeros((<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">3</span>), np.uint8)
cv2.namedWindow(<span class="hljs-string">&apos;image&apos;</span>)
<span class="hljs-comment"># &#x5B9A;&#x4E49;&#x9F20;&#x6807;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;</span>
cv2.setMouseCallback(<span class="hljs-string">&apos;image&apos;</span>, mouse_event)

<span class="hljs-keyword">while</span>(<span class="hljs-keyword">True</span>):
    cv2.imshow(<span class="hljs-string">&apos;image&apos;</span>, img)
    <span class="hljs-comment"># &#x6309;&#x4E0B; ESC &#x952E;&#x9000;&#x51FA;</span>
    <span class="hljs-keyword">if</span> cv2.waitKey(<span class="hljs-number">20</span>) == <span class="hljs-number">27</span>:
        <span class="hljs-keyword">break</span>
</code></pre>
<p>&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x5148;&#x5B9A;&#x4E49;&#x9F20;&#x6807;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;<code>mouse_event()</code>&#xFF0C;&#x7136;&#x540E;&#x5728;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E2D;&#x5224;&#x65AD;&#x662F;&#x5426;&#x662F;&#x5DE6;&#x952E;&#x5355;&#x51FB;&#x4E8B;&#x4EF6; <code>EVENT_LBUTTONDOWN</code>&#xFF0C;&#x662F;&#x7684;&#x8BDD;&#x5C31;&#x6253;&#x5370;&#x51FA;&#x5750;&#x6807;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x683C;&#x5F0F;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#xFF0C;&#x4E0D;&#x8981;&#x968F;&#x610F;&#x66F4;&#x6539;&#x3002;</p>
<p>&#x90A3;&#x9664;&#x4E86;&#x5DE6;&#x952E;&#x5355;&#x51FB;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x54EA;&#x4E9B;&#x4E8B;&#x4EF6;&#x5462;&#xFF1F;&#x53EF;&#x4EE5;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x6253;&#x5370;&#x51FA;&#x6765;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-comment"># &#x83B7;&#x53D6;&#x6240;&#x6709;&#x7684;&#x4E8B;&#x4EF6;</span>
events = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> dir(cv2) <span class="hljs-keyword">if</span> <span class="hljs-string">&apos;EVENT&apos;</span> <span class="hljs-keyword">in</span> i]
print(events)
</code></pre>
<h3 id="622-&#x7EFC;&#x5408;&#x5B9E;&#x4F8B;">6.2.2 &#x7EFC;&#x5408;&#x5B9E;&#x4F8B;</h3>
<p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x7EFC;&#x5408;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x8FD9;&#x4E2A;&#x5B9E;&#x4F8B;&#x4F1A;&#x5E2E;&#x52A9;&#x4F60;&#x7406;&#x89E3;&#x56FE;&#x50CF;&#x4EA4;&#x4E92;&#x7684;&#x4E00;&#x4E9B;&#x601D;&#x60F3;&#xFF1A;</p>
<p>&#x5728;&#x56FE;&#x50CF;&#x4E0A;&#x7528;&#x9F20;&#x6807;&#x753B;&#x56FE;&#xFF0C;&#x53EF;&#x4EE5;&#x753B;&#x5706;&#x6216;&#x77E9;&#x5F62;&#xFF0C;&#x6309; m &#x952E;&#x5728;&#x4E24;&#x79CD;&#x6A21;&#x5F0F;&#x4E0B;&#x5207;&#x6362;&#x3002;&#x5DE6;&#x952E;&#x6309;&#x4E0B;&#x65F6;&#x5F00;&#x59CB;&#x753B;&#x56FE;&#xFF0C;&#x79FB;&#x52A8;&#x5230;&#x54EA;&#x513F;&#x753B;&#x5230;&#x54EA;&#x513F;&#xFF0C;&#x5DE6;&#x952E;&#x91CA;&#x653E;&#x65F6;&#x7ED3;&#x675F;&#x753B;&#x56FE;&#x3002;&#x542C;&#x4E0A;&#x53BB;&#x5F88;&#x590D;&#x6742;&#xFF0C;&#x662F;&#x5417;&#xFF1F;&#x4E00;&#x6B65;&#x6B65;&#x6765;&#x770B;&#xFF1A;</p>
<ul>
<li>&#x7528;&#x9F20;&#x6807;&#x753B;&#x56FE;&#xFF1A;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x9F20;&#x6807;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570; mouse_event</li>
<li>&#x753B;&#x5706;&#x6216;&#x77E9;&#x5F62;&#xFF1A;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x753B;&#x56FE;&#x7684;&#x6A21;&#x5F0F; mode</li>
<li>&#x5DE6;&#x952E;&#x5355;&#x51FB;&#x3001;&#x79FB;&#x52A8;&#x3001;&#x91CA;&#x653E;&#xFF1A;&#x9700;&#x8981;&#x6355;&#x83B7;&#x4E09;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x4E8B;&#x4EF6;</li>
<li>&#x5F00;&#x59CB;&#x753B;&#x56FE;&#xFF0C;&#x7ED3;&#x675F;&#x753B;&#x56FE;&#xFF1A;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x753B;&#x56FE;&#x7684;&#x6807;&#x8BB0;&#x4F4D; drawing</li>
</ul>
<p>&#x597D;&#xFF0C;&#x5F00;&#x59CB; coding &#x5427;&#xFF1A;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

drawing = <span class="hljs-keyword">False</span>  <span class="hljs-comment"># &#x662F;&#x5426;&#x5F00;&#x59CB;&#x753B;&#x56FE;</span>
mode = <span class="hljs-keyword">True</span>  <span class="hljs-comment"># True&#xFF1A;&#x753B;&#x77E9;&#x5F62;&#xFF0C;False&#xFF1A;&#x753B;&#x5706;</span>
start = (<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mouse_event</span><span class="hljs-params">(event, x, y, flags, param)</span>:</span>
    <span class="hljs-keyword">global</span> start, drawing, mode

    <span class="hljs-comment"># &#x5DE6;&#x952E;&#x6309;&#x4E0B;&#xFF1A;&#x5F00;&#x59CB;&#x753B;&#x56FE;</span>
    <span class="hljs-keyword">if</span> event == cv2.EVENT_LBUTTONDOWN:
        drawing = <span class="hljs-keyword">True</span>
        start = (x, y)
    <span class="hljs-comment"># &#x9F20;&#x6807;&#x79FB;&#x52A8;&#xFF0C;&#x753B;&#x56FE;</span>
    <span class="hljs-keyword">elif</span> event == cv2.EVENT_MOUSEMOVE:
        <span class="hljs-keyword">if</span> drawing:
            <span class="hljs-keyword">if</span> mode:
                cv2.rectangle(img, start, (x, y), (<span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>), <span class="hljs-number">1</span>)
            <span class="hljs-keyword">else</span>:
                cv2.circle(img, (x, y), <span class="hljs-number">5</span>, (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>), <span class="hljs-number">-1</span>)
    <span class="hljs-comment"># &#x5DE6;&#x952E;&#x91CA;&#x653E;&#xFF1A;&#x7ED3;&#x675F;&#x753B;&#x56FE;</span>
    <span class="hljs-keyword">elif</span> event == cv2.EVENT_LBUTTONUP:
        drawing = <span class="hljs-keyword">False</span>
        <span class="hljs-keyword">if</span> mode:
            cv2.rectangle(img, start, (x, y), (<span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>), <span class="hljs-number">1</span>)
        <span class="hljs-keyword">else</span>:
            cv2.circle(img, (x, y), <span class="hljs-number">5</span>, (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>), <span class="hljs-number">-1</span>)


img = np.zeros((<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">3</span>), np.uint8)
cv2.namedWindow(<span class="hljs-string">&apos;image&apos;</span>)
cv2.setMouseCallback(<span class="hljs-string">&apos;image&apos;</span>, mouse_event)

<span class="hljs-keyword">while</span>(<span class="hljs-keyword">True</span>):
    cv2.imshow(<span class="hljs-string">&apos;image&apos;</span>, img)
    <span class="hljs-comment"># &#x6309;&#x4E0B; m &#x5207;&#x6362;&#x6A21;&#x5F0F;</span>
    <span class="hljs-keyword">if</span> cv2.waitKey(<span class="hljs-number">1</span>) == ord(<span class="hljs-string">&apos;m&apos;</span>):
        mode = <span class="hljs-keyword">not</span> mode
    <span class="hljs-keyword">elif</span> cv2.waitKey(<span class="hljs-number">1</span>) == <span class="hljs-number">27</span>:
        <span class="hljs-keyword">break</span>
</code></pre>
<p>&#x6548;&#x679C;&#x5E94;&#x8BE5;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p>
<p><img src="img/OpenCV_start/cv2_mouse_drawing_rectangle_circle.jpg" alt=""></p>
<h2 id="63-&#x5C0F;&#x7ED3;">6.3 &#x5C0F;&#x7ED3;</h2>
<ul>
<li>&#x8981;&#x7528;&#x9F20;&#x6807;&#x7ED8;&#x56FE;&#xFF0C;&#x9700;&#x8981;&#x7528;<code>cv2.setMouseCallback()</code>&#x5B9A;&#x4E49;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E2D;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684; event &#x4E8B;&#x4EF6;&#xFF0C;&#x6267;&#x884C;&#x4E0D;&#x540C;&#x7684;&#x529F;&#x80FD;&#x3002;</li>
</ul>
<h2 id="64-&#x7EC3;&#x4E60;">6.4 &#x7EC3;&#x4E60;</h2>
<p>1.&#xFF08;&#x9009;&#x505A;&#xFF09;&#x5B9E;&#x73B0;&#x7528;&#x9F20;&#x6807;&#x753B;&#x77E9;&#x5F62;&#xFF0C;&#x8DDF;&#x5B9E;&#x4F8B;&#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x4F46;&#x53EA;&#x5B9E;&#x65F6;&#x753B;&#x4E00;&#x4E2A;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E0B;&#x9762;&#x52A8;&#x56FE;&#xFF1A;</p>
<p><img src="img/OpenCV_start/cv2_live_draw_rectangle.gif" alt="&#x5B9E;&#x65F6;&#x753B;&#x4E00;&#x4E2A;&#x77E9;&#x5F62;"></p>
<p>2.&#xFF08;&#x9009;&#x505A;&#xFF09;&#x505A;&#x4E00;&#x4E2A;&#x5728;&#x767D;&#x8272;&#x9762;&#x677F;&#x4E0A;&#x7ED8;&#x56FE;&#x7684;&#x7B80;&#x5355;&#x7A0B;&#x5E8F;&#xFF0C;&#x53EF;&#x7528;&#x6ED1;&#x52A8;&#x6761;&#x8C03;&#x6574;&#x989C;&#x8272;&#x548C;&#x7B14;&#x5237;&#x5927;&#x5C0F;&#x3002;</p>

<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style> 
          </section>
          
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>
 
          <div class="book-footer">
             
            <div class="copyright"></div>
            
          </div>
          
        </div>
      </div>
      
    </div>

     
    <a
      href="chapter1.html"
      class="navigation navigation-prev "
      aria-label="Previous page: 1 Âü∫Á°ÄÂÖ•Èó®"
    >
      <i class="fa fa-angle-left"></i>
    </a>
     
    <a
      href="chapter1-2.html"
      class="navigation navigation-next "
      aria-label="Next page: 1.2 OpenCVÂü∫Á°Ä"
    >
      <i class="fa fa-angle-right"></i>
    </a>
      
  </div>
  <script>
    function showModal() {
      document.getElementsByClassName("mask")[0].style.display = "block";
      document.getElementsByClassName("donate-modal")[0].style.display =
        "block";
    }
    // ÂàáÊç¢ËµûËµèÁ†Å
    function showDonateImg(num) {
      let alipay = "";
      let wxpay = ""
      if(num){
        wxpay = "hidden"
      }else{
        alipay = "hidden"
      }
      document.getElementById("wxpay-code").hidden = wxpay;
      document.getElementById("alipay-code").hidden = alipay;
      document.getElementsByName("pay-way")[num].checked = "checked";
    }

    // ÂÖ≥Èó≠ËµûËµèÊ°Ü
    function closeDonateModal() {
      document.getElementsByClassName("mask")[0].style.display = "none";
      document.getElementsByClassName("donate-modal")[0].style.display = "none";
    }

    var gitbook = gitbook || [];
    gitbook.push(function () {
      gitbook.page.hasChanged({"page":{"title":"1.1 OpenCVÂÖ•Èó®","level":"1.2.4.1.1","depth":4,"next":{"title":"1.2 OpenCVÂü∫Á°Ä","level":"1.2.4.1.2","depth":4,"path":"Markdown/OpenCV/chapter1-2.md","ref":"Markdown/OpenCV/chapter1-2.md","articles":[]},"previous":{"title":"1 Âü∫Á°ÄÂÖ•Èó®","level":"1.2.4.1","depth":3,"path":"Markdown/OpenCV/chapter1.md","ref":"Markdown/OpenCV/chapter1.md","articles":[{"title":"1.1 OpenCVÂÖ•Èó®","level":"1.2.4.1.1","depth":4,"path":"Markdown/OpenCV/chapter1-1.md","ref":"Markdown/OpenCV/chapter1-1.md","articles":[]},{"title":"1.2 OpenCVÂü∫Á°Ä","level":"1.2.4.1.2","depth":4,"path":"Markdown/OpenCV/chapter1-2.md","ref":"Markdown/OpenCV/chapter1-2.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["-lunr","-sharing","-search","-favicon","-share","code","expandable-chapters","chapter-fold","theme-lou","back-to-top-button","search-pro","flexible-alerts","splitter","alerts","popup","auto-scroll-table","livereload"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"chapter-fold":{},"livereload":{},"splitter":{},"search-pro":{},"auto-scroll-table":{},"popup":{},"code":{"copyButtons":true},"theme-lou":{"hide-elements":[".summary .gitbook-link"],"color":"#2096FF","copyright":{"author":"ROSit"},"forbidCopy":false,"logo":"assets/rosit.png","titleColor":{"h1":"#8b008b","h2":"#009966","h3":"#a52a2a","h4":"#176186","h5":"#5B4B00","h6":"#8C8C00"},"search-placeholder":"ÂÖ®ÊñáÊêúÁ¥¢","favicon":"assets/favicon.ico","autoNumber":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"alerts":{},"flexible-alerts":{"danger":{"className":"danger","icon":"fa fa-ban","label":"Attention"},"note":{"className":"info","icon":"fa fa-info-circle","label":"Note"},"style":"callout","tip":{"className":"tip","icon":"fa fa-lightbulb-o","label":"Tip"},"warning":{"className":"warning","icon":"fa fa-exclamation-triangle","label":"Warning"}},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{},"valine":{"appId":"3D2fncm2tN4FI5duTIQA11qY-gzGzoHsz","appKey":"qh5zfPEVsjNxqCWz3hZMGaPB"}},"theme":"default","author":"ROSit","lang":"zh-hans","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"themeLou":{"nav":[{"target":"_blank","url":"https://www.bilibili.com/video/BV1Ci4y1L7ZZ/?spm_id_from=333.337.search-card.all.click&vd_source=7df640296c15e75b5fbd2da8cc72a434","name":"BÁ´ô"}],"footer":{"copyright":true}}},"title":"üí¢","gitbook":"*","description":"ROSit"},"file":{"path":"Markdown/OpenCV/chapter1-1.md","mtime":"2023-12-20T03:54:21.477Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-04-28T15:18:00.915Z"},"basePath":"../..","book":{"language":""}});
    });
  </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-flexible-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-auto-scroll-table/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-theme-lou/jweixin-1.6.0.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-theme-lou/lou.js"></script>
        
    

    </body>
</html>

